{"version":3,"file":"bundle.js","sources":["../.././src/vo/DressVO.ts","../.././src/vo/DressPartVO.ts","../.././src/utils/UIUtils.ts","../.././src/utils/StringUtils.ts","../.././src/utils/StorageUtils.ts","../.././src/utils/SgsHttpRequest.ts","../.././src/utils/ObjUtil.ts","../.././src/utils/HttpUtils.ts","../.././src/utils/HtmlUtils.ts","../.././src/utils/FilterUtils.ts","../.././src/utils/EffectUtils.ts","../.././src/utils/Dictionary.ts","../.././src/utils/DateUtils.ts","../.././src/utils/ByteArray.ts","../.././src/ui/layer/LayerBase.ts","../.././src/ui/layer/BottomLayer.ts","../.././src/ui/layer/BackgroundLayer.ts","../.././src/ui/layer/AnimationLayer.ts","../.././src/ui/dressScene/DressTabPanel.ts","../.././src/ui/dressScene/DressAvatarLoad.ts","../.././src/ui/controls/ViewStack.ts","../.././src/ui/controls/SgsPanel.ts","../.././src/ui/controls/SgsFlatPanel.ts","../.././src/ui/controls/base/SgsTexture.ts","../.././src/ui/controls/base/SgsTextField.ts","../.././src/ui/controls/base/SgsText.ts","../.././src/ui/controls/base/SgsTemplet.ts","../.././src/ui/controls/base/SgsSprite.ts","../.././src/ui/controls/base/SgsSlider.ts","../.././src/ui/controls/base/SgsSkeleton.ts","../.././src/ui/controls/base/SgsRadioGroup.ts","../.././src/ui/controls/base/SgsLoadTexture.ts","../.././src/ui/controls/base/SgsImage.ts","../.././src/ui/controls/base/SgsHTMLDivElement.ts","../.././src/ui/controls/base/SgsFlatImage.ts","../.././src/ui/controls/base/SgsFlatContainer.ts","../.././src/ui/controls/base/SgsFlatButton.ts","../.././src/ui/controls/base/SgsComboBox.ts","../.././src/ui/base/WindowBase.ts","../.././src/ui/base/SceneBase.ts","../.././src/ui/base/dressSaveScene/DressSaveScene.ts","../.././src/textureAtlas/TextureAtlasManager.ts","../.././src/textureAtlas/TextureAtlas.ts","../.././src/textureAtlas/AtlaserTexture.ts","../.././src/TestContainerC.ts","../.././src/TestContainerB.ts","../.././src/TestContainerA.ts","../.././src/SystemContext.ts","../.././src/res/ResourceLoader.ts","../.././src/res/ResourceItem.ts","../.././src/res/ResourceEvent.ts","../.././src/res/ResourceConfig.ts","../.././src/res/RES.ts","../.././src/RegClass.ts","../.././src/net/AESUtils.ts","../.././src/mode/gameManager/GameManager.ts","../.././src/mode/base/WindowManager.ts","../.././src/mode/base/TimerManager.ts","../.././src/mode/base/SilenceResManager.ts","../.././src/mode/base/SgsSoundManager.ts","../.././src/mode/base/SceneManager.ts","../.././src/mode/base/ManagerBase.ts","../.././src/mode/base/LoadingManager.ts","../.././src/mode/base/AnimateManager.ts","../.././src/Global.ts","../.././src/event/TipsEvent.ts","../.././src/event/GameEventDispatcher.ts","../.././src/event/EventExpand.ts","../.././src/enum/FontName.ts","../.././src/enum/DressType.ts","../.././src/enum/base/LayoutEnum.ts","../.././src/enum/base/LayerOrder.ts","../.././src/enum/base/ButtonPhaseEnum.ts","../.././src/config/ConfigerManager.ts","../.././src/config/ConfigerBase.ts","../.././src/utils/SgsUpLoadHttpRequest.ts","../.././src/ui/window/VoteWorkInfoWindow.ts","../.././src/ui/window/SaveDressWindow.ts","../.././src/ui/window/RuleItemUI.ts","../.././src/ui/window/LookDressWindow.ts","../.././src/ui/window/ImageFlatButton.ts","../.././src/ui/window/CommonBaseWindow.ts","../.././src/ui/tooltip/ToolTipBase.ts","../.././src/ui/rankScene/RankScene.ts","../.././src/ui/myDressScene/MyDressScene.ts","../.././src/ui/loading/MainLoadingView.ts","../.././src/ui/loading/LoadingUI.ts","../.././src/ui/layer/WindowLayer.ts","../.././src/ui/layer/TopUILayer.ts","../.././src/ui/layer/SceneLayer.ts","../.././src/ui/layer/PromptLayer.ts","../.././src/ui/homeScene/HomeScene.ts","../.././src/ui/dressScene/DressScene.ts","../.././src/ui/dressScene/DressBottomView.ts","../.././src/ui/dressScene/DressAvatarPartUI.ts","../.././src/ui/dressScene/DressAvatar.ts","../.././src/ui/dressScene/CollocationDressAvatar.ts","../.././src/ui/controls/ViewStackBase.ts","../.././src/ui/controls/TextPromptUI.ts","../.././src/ui/controls/SgsTabFlatButton.ts","../.././src/ui/controls/SgsTabButtonGroup.ts","../.././src/ui/controls/SgsPanelItemBase.ts","../.././src/ui/controls/SgsPanelHtmlBase.ts","../.././src/ui/controls/SgsFlatPanelItemBase.ts","../.././src/ui/controls/base/SgsSpriteButton.ts","../.././src/ui/controls/base/SgsSkeletonEffect.ts","../.././src/ui/controls/base/SgsSkeletonButton.ts","../.././src/ui/controls/base/SgsFlatCheckBox.ts","../.././src/ui/controls/base/ComboboxRenderItem.ts","../.././src/net/Crypt.ts","../.././src/mode/base/TipsManager.ts","../.././src/config/GlobalConfiger.ts","../.././src/config/DressConfiger.ts","../.././src/ui/window/SharePromptWindow.ts","../.././src/ui/window/RuleWindow.ts","../.././src/ui/window/PromptWindow.ts","../.././src/ui/window/ImageSpriteButton.ts","../.././src/ui/tooltip/ToolTips.ts","../.././src/ui/myDressScene/MyDressItemUI.ts","../.././src/ui/dressScene/DressTabFlatButton.ts","../.././src/ui/dressScene/DressPanelFlatItem.ts","../.././src/ui/dressScene/DressColorTabFlatButton.ts","../.././src/ui/controls/SgsTabButton.ts","../.././src/ui/controls/base/SgsSpriteCheckBox.ts","../.././src/ui/controls/base/SgsFlatRadio.ts","../.././src/ui/rankScene/RankItemUI.ts","../.././src/ui/controls/base/SgsSpriteRadio.ts","../.././src/GameMain.ts"],"sourcesContent":["\r\nexport default class DressVO \r\n{\r\n    public DressID:number = 0;\r\n    // public DressName:string = \"\";//装扮名称\r\n    public DressType:number = 0;//装扮类型 - DressType\r\n    public DressParts:Array<number>;//装扮部件\r\n    public Resource:string = \"\";//资源\r\n    public Sort:number = 0;//排序(越小越前面)\r\n\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    public get ResourceUrl():string\r\n    {\r\n        if (this.Resource)\r\n            return \"res/assets/runtime/dress/\" + this.Resource + \".png\";\r\n        return \"\";\r\n    }\r\n}","\r\nexport default class DressPartVO \r\n{\r\n    public PartID:number = 0;\r\n    // public PartName:string = \"\";//部件名称\r\n    public PartPos:Array<number>;//部件坐标\r\n    public PartSize:Array<number>;//部件尺寸\r\n    public Resource:string = \"\";//部件资源\r\n    public Layer:number = 0;//层级(越大越前面)\r\n\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    public get ResourceUrl():string\r\n    {\r\n        if (this.Resource)\r\n            return \"res/assets/runtime/dressPart/\" + this.Resource + \".png\";\r\n        return \"\";\r\n    }\r\n}","import SgsTexture from \"../ui/controls/base/SgsTexture\";\r\nimport SgsFlatImage from \"../ui/controls/base/SgsFlatImage\";\r\nimport SgsImage from \"../ui/controls/base/SgsImage\";\r\nimport SystemContext from \"../SystemContext\";\r\nimport Global from \"../Global\";\r\nimport ImageFlatButton from \"../ui/window/ImageFlatButton\";\r\nimport ImageSpriteButton from \"../ui/window/ImageSpriteButton\";\r\nimport WindowManager from \"../mode/base/WindowManager\";\r\nimport PromptWindow from \"../ui/window/PromptWindow\";\r\nimport PromptLayer from \"../ui/layer/PromptLayer\";\r\n\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class UIUtils\r\n{\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    \r\n    public static BgAdaptation(bg:SgsTexture | SgsFlatImage | SgsImage):void\r\n    {\r\n        let gameWidth:number = SystemContext.gameWidth;\r\n        let gameHeight:number = SystemContext.gameHeight;\r\n        let bgWidth:number = Global.BgWidth;\r\n        let bgHeight:number = Global.BgHeight;\r\n        if (gameHeight == bgHeight) \r\n        {\r\n            bg.size(gameWidth, gameHeight);\r\n        }\r\n        else if (gameHeight > bgHeight) //舞台高度大于背景图高度:拉大背景图使其高度与舞台高度一致\r\n        {\r\n            let per = gameHeight / bgHeight;\r\n            bg.size(Math.ceil(bgWidth * per), gameHeight);\r\n        }\r\n        else \r\n        {\r\n            bg.size(bgWidth, bgHeight);\r\n        }\r\n        bg.pos(gameWidth - bg.width >> 1, 0); //gameHeight - bg.height >> 1);//背景水平居中、垂直不居中\r\n    }\r\n\r\n    //创建文字是图片的按钮\r\n    public static CreateImageFlatButton(bgRes:string,textRes:string):ImageFlatButton\r\n    {\r\n        let btn:ImageFlatButton = new ImageFlatButton();\r\n        btn.InitSkin(bgRes);\r\n        btn.InitTextSkin(textRes);\r\n        return btn;\r\n    }\r\n\r\n    //创建文字是图片的按钮\r\n    public static CreateImageSpriteButton(bgRes:string,textRes:string):ImageSpriteButton\r\n    {\r\n        let btn:ImageSpriteButton = new ImageSpriteButton();\r\n        btn.InitSkin(bgRes);\r\n        btn.InitTextSkin(textRes);\r\n        return btn;\r\n    }\r\n\r\n    /**显示文字提示(无操作)*/\r\n    public static ShowTextPrompt(msg:string,time:number = 5000):void\r\n    {\r\n        if (msg) PromptLayer.GetInstance().ShowTextPrompt(msg,time);\r\n    }\r\n\r\n     /**清理文字提示(无操作)*/\r\n    public static ClearTextPrompt():void\r\n    {\r\n        PromptLayer.GetInstance().ClearTextPrompt();\r\n    }\r\n\r\n    /**打开提示窗\r\n     * @param title 标题\r\n     * @param desc 描述\r\n     * @param descPaddingLeft 描述水平边距\r\n     * @param okHandler 确认回调\r\n     * @param cancelHandler 取消回调\r\n     * @param btnType 按钮类型 参考：PromptWindow.BTN_TYPE1\r\n     * \r\n    */\r\n    public static OpenPromptWin(title:string,desc:string,descPaddingLeft:number = 140,okHandler:Laya.Handler = null,cancelHandler:Laya.Handler = null,btnType:string = PromptWindow.BTN_TYPE1):void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"PromptWindow\",title,desc,descPaddingLeft,okHandler,cancelHandler,btnType);\r\n    }\r\n\r\n}","/*\r\n* name;\r\n*/\r\nexport default class StringUtils\r\n{\r\n    constructor()\r\n    {\r\n        \r\n    }\r\n\r\n    // 类似于C#的 string.Format\r\n    public static Format(str:string,... params):string\r\n    {       \r\n        if (!str) return \"\";                 \r\n        let len:number = params.length;\r\n        let args:Array<any>;\r\n        if (len == 1 && params[0] instanceof Array)\r\n        {\r\n            args = params[0];\r\n            len = args.length;\r\n        }\r\n        else\r\n        {\r\n            args = params;\r\n        }\r\n        for (let  i:number = 0; i < len; i++)\r\n        {\r\n            str = str.replace(new RegExp(\"\\\\{\"+i+\"\\\\}\", \"g\"), args[i]);\r\n        }\r\n        return str;\r\n    }\r\n\r\n    /**\r\n    * Pads p_string with specified character to a specified length from the right.\r\n    *\t@param p_string 原字符串\r\n    *\t@param p_search 要替换的字符\r\n    *\t@param p_replace 替换后的字符\r\n    *\t@returns String\r\n    */\r\n   public static replace(p_string:string, p_search:string,p_replace:string):string \r\n   {\r\n       if (!p_search || p_search.length <= 0) return \"\";\r\n       return p_string.replace(new RegExp(p_search,\"gm\"),p_replace);\r\n   }\r\n}","/*\r\n* 本地存储\r\n*/\r\nexport default class StorageUtils\r\n{\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    /**添加Object数据存储*/\r\n    public static addObject(key:string,data:any):void\r\n    {\r\n        if (typeof(data) == \"object\")\r\n        {\r\n            let obj:Object = new Object();\r\n            obj[key] = data;\r\n            this.addString(key,JSON.stringify(obj));   \r\n        }\r\n        else if (typeof(data) == \"number\")\r\n        {\r\n            this.addNumber(key,data);\r\n        }\r\n        else if (typeof(data) == \"boolean\")\r\n        {\r\n            this.addBoolean(key,data);\r\n        }\r\n        else if (typeof(data) == \"string\")\r\n        {\r\n            this.addString(key,data);\r\n        }\r\n    }\r\n\r\n    /**获取Object数据存储*/\r\n    public static getObject(key:string):any\r\n    {\r\n        let str:string = this.getString(key);\r\n        if (str)\r\n        {\r\n            try\r\n            {\r\n                let data = JSON.parse(str);\r\n                if (typeof(data) == \"object\" && data.hasOwnProperty(key))\r\n                {\r\n                    return data[key];\r\n                }\r\n            }\r\n            catch(e)\r\n            {\r\n                console.log(\"获取本地存储数据错误\");\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**添加number数据存储*/\r\n    public static addNumber(key:string,data:number):void\r\n    {\r\n        this.addString(key,data.toString());\r\n    }\r\n\r\n    /**获取number数据存储*/\r\n    public static getNumber(key:string):number\r\n    {\r\n        if (this.getString(key) != \"\")\r\n        {\r\n            return Number(this.getString(key));\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**添加boolean数据存储*/\r\n    public static addBoolean(key:string,data:boolean):void\r\n    {\r\n        this.addString(key,data ? \"1\" : \"0\");\r\n    }\r\n\r\n    /**获取boolean数据存储*/\r\n    public static getBoolean(key:string):boolean\r\n    {\r\n        if (this.getString(key) != \"\")\r\n        {\r\n            return this.getString(key) == \"1\" ? true : false;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**添加string数据存储*/\r\n    public static addString(key:string,data:string):void\r\n    {\r\n        // if(UserData.Self){\r\n        //     key = UserData.Self.ClientId + key;\r\n        // }\r\n        Laya.LocalStorage.setItem(key,data);\r\n    }\r\n\r\n    /**获取string数据存储*/\r\n    public static getString(key:string):string\r\n    {\r\n        // if(UserData.Self){\r\n        //     key = UserData.Self.ClientId + key;\r\n        // }\r\n        if (Laya.LocalStorage.getItem(key))\r\n        {\r\n            return Laya.LocalStorage.getItem(key);\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /**删除存储**/\r\n    public static delStorage(key:string):void\r\n    {\r\n        // if(UserData.Self){\r\n        //     key = UserData.Self.ClientId + key;\r\n        // }\r\n        if (Laya.LocalStorage.getItem(key))\r\n        {\r\n            Laya.LocalStorage.removeItem(key);\r\n        }\r\n    }\r\n\r\n    /**清空所有存储**/\r\n    public static clearStorage():void\r\n    {\r\n        Laya.LocalStorage.clear();\r\n    }\r\n\r\n    // public static AddWindowStorage(key:string,val:string):void{\r\n    //     if(!key) return;\r\n    //     if(Laya.Browser.window.canUseStorage)\r\n    //         Laya.Browser.window.localStorage.setItem(key,val);\r\n    // }\r\n\r\n    // public static GetWindowStorage(key:string):string{\r\n    //     if(!key) return \"\";\r\n    //     if(Laya.Browser.window.canUseStorage)\r\n    //         return Laya.Browser.window.localStorage.getItem(key);\r\n    //     return \"\";\r\n    // }\r\n\r\n    // public static DelWindowStorage(key:string):string{\r\n    //     if(!key) return;\r\n    //     if(Laya.Browser.window.canUseStorage)\r\n    //         return Laya.Browser.window.localStorage.removeItem(key);\r\n    //     return \"\";\r\n    // }\r\n\r\n    // /**获取Object数据存储*/\r\n    // public static GetWindowStorgeObject(key:string):any\r\n    // {\r\n    //     let str:string = this.GetWindowStorage(key);\r\n    //     if (str)\r\n    //     {\r\n    //         try\r\n    //         {\r\n    //             let data = JSON.parse(str);\r\n    //             return data;\r\n    //         }\r\n    //         catch(e)\r\n    //         {\r\n    //             console.log(\"获取本地存储数据错误\");\r\n    //         }\r\n    //     }\r\n    //     return null;\r\n    // }\r\n\r\n    // /**添加Object数据存储*/\r\n    // public static AddWindowStorgeObject(key:string,data:any):void\r\n    // {\r\n    //     if (typeof(data) == \"object\")\r\n    //     {\r\n    //         this.AddWindowStorage(key,JSON.stringify(data));   \r\n    //     }\r\n    // }\r\n}","\r\n\r\nexport default class SgsHttpRequest extends Laya.HttpRequest\r\n{\r\n    public callback:Function;\r\n    public progressCB:Function;\r\n    constructor(callback:Function, progressCB:Function=null)\r\n    {\r\n        super();\r\n\r\n        if (!window[\"XMLHttpRequest\"]) {\r\n            this._http = new ActiveXObject(\"MSXML2.XMLHTTP\");\r\n            console.log(\"使用MSXML2.XMLHTTP\")\r\n        }else{\r\n            console.log(\"使用XMLHttpRequest\")\r\n        }\r\n\r\n        this.callback = callback;\r\n        this.progressCB = progressCB;\r\n        this.on(Laya.Event.COMPLETE,this,this.onComplete);\r\n        this.on(Laya.Event.ERROR,this,this.onError);\r\n    }\r\n\r\n    public Clear():void\r\n    {\r\n        super.clear();\r\n        this.callback = null;\r\n    }\r\n\r\n    public removeEvents():void\r\n    {\r\n        this.offAll(\"onComplete\");\r\n        this.offAll(\"onError\");\r\n        this.offAll(Laya.Event.COMPLETE);\r\n        this.offAll(Laya.Event.ERROR);\r\n    }\r\n\r\n    public onComplete(result:any):void\r\n    {\r\n        this.event(\"onComplete\",[this,result]);\r\n    }\r\n\r\n    public onError(result:any):void\r\n    {\r\n        this.event(\"onError\",[this,result]);\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class ObjUtil{\r\n    //基础属性深拷贝\r\n    public static copyObj(copyFrom:Object, copyTo:Object):Object {\r\n        if(!copyFrom || !copyTo) return copyTo;\r\n        const keysTo = Object.keys(copyFrom);\r\n        for (const key of keysTo) \r\n        {\r\n            if (copyFrom[key] !== undefined) {\r\n                copyTo[key] = copyFrom[key];\r\n            }\r\n        }\r\n        return copyTo;\r\n    }\r\n\r\n    //对象深拷贝\r\n    public static deepCopy(copyFrom:Object, copyTo:Object):Object {\r\n        if(!copyFrom || !copyTo) return copyTo;\r\n        const keysTo = Object.keys(copyFrom);\r\n        for (const key of keysTo) {\r\n            if (copyFrom[key] !== undefined) \r\n            {\r\n                if (typeof copyFrom[key] === 'object') {\r\n                    if (copyFrom[key] == null) {\r\n                        copyTo[key] = null;\r\n                    } else {\r\n                        copyTo[key] = Array.isArray(copyFrom[key]) ? [] : {};\r\n                        copyTo[key] = this.deepCopy(copyFrom[key],copyTo[key]);\r\n                    }\r\n                } else {\r\n                    copyTo[key] = copyFrom[key];\r\n                }\r\n            }\r\n        }\r\n        return copyTo;\r\n    }\r\n}","import SgsHttpRequest from \"./SgsHttpRequest\";\r\nimport SgsUpLoadHttpRequest from \"./SgsUpLoadHttpRequest\";\r\n/*\r\n* name;\r\n*/\r\nexport default class HttpUtils{\r\n    constructor(){\r\n\r\n    }\r\n\r\n    public static Request(url:string,params:any,callback:Function,method:string=\"post\",responseType:string =\"text\",headers?:any):void\r\n    {\r\n        try{\r\n            let xhr:SgsHttpRequest = new SgsHttpRequest(callback);\r\n            xhr.http.timeout = 10000;\r\n            xhr.on(\"onComplete\",this,this.onComplete);\r\n            xhr.on(\"onError\",this,this.onError);\r\n            headers = headers || [\"Content-Type\", \"application/x-www-form-urlencoded\"];\r\n            xhr.send(url,params,method,responseType,headers);\r\n        }catch(event){\r\n            console.log(event);\r\n            //xml html script json jsonp text ajax 不支持arraybuffer;\r\n            this.SendAjax(url,params,callback,method,responseType,headers?headers[0]:\"\");\r\n        }\r\n    }\r\n\r\n    public static RequestWithProgress(url:string,params:any,callback:Function, proGressCB:Function, method:string=\"post\",responseType:string =\"text\",headers?:any):any\r\n    {\r\n        let loadReq:any = null;\r\n        try{\r\n            let xhr:SgsUpLoadHttpRequest = new SgsUpLoadHttpRequest(callback);\r\n            xhr.http.timeout = 10000;\r\n            xhr.on(\"onComplete\",this,this.onComplete);\r\n            xhr.on(\"onError\",this,this.onError);\r\n            xhr.on(\"onProgress\",this,proGressCB);\r\n            if(!headers)\r\n            {\r\n                headers = [false, \"Content-Type\"];\r\n            }\r\n            xhr.send(url,params,method,responseType,headers);\r\n            loadReq = xhr.http;\r\n        }catch(event){\r\n            console.log(event);\r\n            //xml html script json jsonp text ajax 不支持arraybuffer;\r\n            loadReq = this.SendAjaxWithProgress(url, params, callback, proGressCB, method, responseType, \"\", false);\r\n        }\r\n\r\n        return loadReq;\r\n    }\r\n\r\n    public static SendAjaxWithProgress(url:string,params:any,callback:Function,progressCB:Function, method:string = \"\",responseType:string =\"text\",contentType:string = \"application/x-www-form-urlencoded\",processData:boolean=true):any{\r\n        if(Laya.Browser.window.sendAjax){\r\n            return Laya.Browser.window.sendAjax({progressCB:progressCB, url:url,data:params,callback:callback,method:method,responseType:false,contentType:contentType,processData:processData});\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static SendAjax(url:string,params:any,callback:Function,method:string = \"\",responseType:string =\"text\",contentType:string = \"application/x-www-form-urlencoded\",processData:boolean=true):void{\r\n        if(Laya.Browser.window.sendAjax){\r\n            Laya.Browser.window.sendAjax({url:url,data:params,callback:callback,method:method,responseType:responseType,contentType:contentType,processData:processData});\r\n        }\r\n    }\r\n\r\n    // public static onProgress(target:SgsHttpRequest, result:any):void\r\n    // {\r\n    //     target.progressCB && target.progressCB(result);\r\n    // }\r\n\r\n    public static onComplete(target:SgsHttpRequest,result:any):void\r\n    {\r\n        target.callback && target.callback(result);\r\n        target.Clear();\r\n        target.removeEvents();\r\n    }\r\n\r\n    public static onError(target:SgsHttpRequest,result:any):void\r\n    {\r\n        target.Clear();\r\n        target.removeEvents();\r\n    }\r\n\r\n    // public static RequestUpload(url:string,params:any,callback:Function,method:string=\"post\",responseType:string =\"text\",headers?:any):void\r\n    // {\r\n    //     try{\r\n    //         let xhr:SgsUpLoadHttpRequest = new SgsUpLoadHttpRequest(callback);\r\n    //         xhr.http.timeout = 10000;\r\n    //         xhr.on(\"onComplete\",this,this.onComplete);\r\n    //         xhr.on(\"onError\",this,this.onError);\r\n    //         headers = headers || [\"Content-Type\", \"application/x-www-form-urlencoded\"];\r\n    //         xhr.send(url,params,method,responseType,headers);\r\n    //     }catch(event){\r\n    //         console.log(event);            \r\n    //         if(responseType == \"arraybuffer\"){\r\n    //             if(Laya.Browser.window.JSZipUtils){\r\n    //                 Laya.Browser.window.JSZipUtils.getBinaryContent(url,function(err,data){\r\n    //                     if(err){\r\n    //                         UIUtils.ShowTextPrompt(\"录像无法加载，建议使用谷歌浏览器1\");\r\n    //                     }else{                       \r\n    //                         callback(data);\r\n    //                     }                        \r\n    //                 })\r\n    //             }else{\r\n    //                 UIUtils.ShowTextPrompt(\"录像无法加载，建议使用谷歌浏览器2\");\r\n    //             }\r\n    //         }else{\r\n    //             try{\r\n    //                 this.SendAjax(url,params,callback,method,responseType,headers?headers[0]:\"\");\r\n    //             }catch(event){\r\n    //                 console.log(\"ajax error:\",event);\r\n    //             }\r\n    //         }\r\n            \r\n    //     }\r\n    // }\r\n\r\n    // public static md5Param(params:any,key:string): string {\r\n    //     let md5: MD5 = new MD5();\r\n    //     params = this.sortKey(params);\r\n    //     let str = key;\r\n    //     for(let i in params)\r\n    //     {\r\n    //         str += (i + params[i]); \r\n    //     }\r\n    //     let md5str: string = md5.hex_md5(str);\r\n    //     return md5str;\r\n    // }\r\n\r\n    // public static sortKey(arys) { \r\n    //     //先用Object内置类的keys方法获取要排序对象的属性名，再利用Array原型上的sort方法对获取的属性名进行排序，newkey是一个数组\r\n    //     let newkey = Object.keys(arys).sort();　　 \r\n    //     //console.log('newkey='+newkey);\r\n    //     let newObj = {}; //创建一个新的对象，用于存放排好序的键值对\r\n    //     for(let i = 0; i < newkey.length; i++) {\r\n    //         //遍历newkey数组\r\n    //         newObj[newkey[i]] = arys[newkey[i]]; \r\n    //         //向新创建的对象中按照排好的顺序依次增加键值对\r\n\r\n    //     }\r\n    //     return newObj; //返回排好序的新对象\r\n    // }\r\n\r\n    // public static formatUrlParams(params: any) {\r\n    //     let str = \"\";\r\n    //     for (let key in params) {\r\n    //         str += key + \"=\" + encodeURIComponent(params[key]) + \"&\";\r\n    //     }\r\n    //     return str.substring(0, str.length - 1);\r\n    // }\r\n\r\n    // public static respResultHandler(result:any):boolean//php返回数据统一处理\r\n    // {\r\n    //     try {\r\n    //         let msg:any = JSON.parse(result);\r\n    //         if (msg && msg.code == 0) \r\n    //             return msg;   \r\n    //         else  \r\n    //         {\r\n    //             if (msg && msg.msg)\r\n    //                 UIUtils.ShowTextPrompt(msg.msg);\r\n    //         }\r\n    //     } catch (e) {\r\n    //         console.log(\"返回结果不是json\", e);\r\n    //     }\r\n    //     return null;\r\n    // }\r\n\r\n}","/*\r\n* name;\r\n*/\r\nexport default class HtmlUtils{\r\n    constructor(){\r\n\r\n    }\r\n\r\n    public static HtmlEscape(str:string):string\r\n    {\r\n        var s = \"\";\r\n        if(str == null)return \"\";\r\n        if(str.length == 0) return \"\";\r\n        s = str.replace(/&/g,\"&amp;\");\r\n        s = s.replace(/</g,\"&lt;\");\r\n        s = s.replace(/>/g,\"&gt;\");\r\n        s = s.replace(/ /g,\"&nbsp;\");\r\n        s = s.replace(/\\'/g,\"&#39;\");\r\n        s = s.replace(/\\\"/g,\"&quot;\");\r\n        return s;  \r\n    }\r\n\r\n    public static HtmlUnEscape(str:string):string\r\n    {\r\n        var s = \"\";\r\n        if(str == null)return \"\";\r\n        if(str.length == 0) return \"\";\r\n        s = str.replace(/&amp;/g,\"&\");\r\n        s = s.replace(/&lt;/g,\"<\");\r\n        s = s.replace(/&gt;/g,\">\");\r\n        s = s.replace(/&nbsp;/g,\" \");\r\n        s = s.replace(/&#39;/g,\"\\'\");\r\n        s = s.replace(/&quot;/g,\"\\\"\");\r\n        return s; \r\n    }\r\n\r\n    public static GetHtmlImgUrl(str:string):Array<string>{\r\n        let urlArr:Array<string> = [];\r\n        if(!str){\r\n            return urlArr;\r\n        }\r\n        // str = \"this is test string <img src=\\\"http:yourweb.com/test.jpg\\\" width='50' > 123 and the end <img src=\\\"所有地址也能匹配.jpg\\\" /> 33! <img src=\\\"/uploads/attached/image/20120426/20120426225658_92565.png\\\" alt=\\\"\\\" />\"\r\n        //匹配图片（g表示匹配所有结果i表示区分大小写）\r\n        let imgReg = /<img.*?(?:>|\\/>)/gi;\r\n        //匹配src属性\r\n        let srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;\r\n        let arr = str.match(imgReg);\r\n        console.log('所有已成功匹配图片的数组：'+arr);\r\n        for (var i = 0; i < arr.length; i++) {\r\n            var src = arr[i].match(srcReg);\r\n            if(src[1]){\r\n                urlArr.push(src[1]);\r\n            }\r\n            \r\n        }\r\n        return urlArr;\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class FilterUtils\r\n{\r\n    private static grayFilter:Array<Laya.Filter>;\r\n    private static blackWhiteFilter:Array<Laya.Filter>;\r\n    private static blackSilhouette:Array<Laya.Filter>;\r\n    \r\n    constructor(){\r\n\r\n    }\r\n\r\n    //发光滤镜\r\n    public static GlowFilter(color:string,blur?:number,offX?:number,offY?:number):Laya.GlowFilter\r\n    {\r\n        return new Laya.GlowFilter(color,blur,offX,offY);\r\n    }\r\n    \r\n    //灰色\r\n    public static GetGrayFilter():Array<Laya.Filter>\r\n    {\r\n        if(!FilterUtils.grayFilter)\r\n        {\r\n            FilterUtils.grayFilter = [];\r\n            var colorMatrix:Array<number> = \r\n            [0.3086, 0.6094,0.0820, 0, 0, //R\r\n             0.3086, 0.6094,0.0820, 0, 0, //G\r\n             0.3086, 0.6094,0.0820, 0, 0, //B\r\n             0, 0, 0, 1, 0,//A\r\n            ];\r\n            FilterUtils.grayFilter.push(new Laya.ColorFilter(colorMatrix));\r\n        }\r\n        return FilterUtils.grayFilter;\r\n\r\n    }\r\n\r\n    //黑白\r\n    public static GetBlackWhiteFilter():Array<Laya.Filter>\r\n    {\r\n        if(!FilterUtils.blackWhiteFilter)\r\n        {\r\n            FilterUtils.blackWhiteFilter = [];\r\n            var colorMatrix:Array<number> = \r\n            [0.2,0.6,0,0,0,  \r\n             0.2,0.6,0,0,0,  \r\n             0.2,0.6,0,0,0,  \r\n             0,1,0,1,0];\r\n            FilterUtils.blackWhiteFilter.push(new Laya.ColorFilter(colorMatrix));\r\n        }\r\n        return FilterUtils.blackWhiteFilter;\r\n    }\r\n\r\n    //黑色剪影\r\n    public static GetBlackSilhouetteFilter():Array<Laya.Filter>\r\n    {\r\n        if(!FilterUtils.blackSilhouette)\r\n        {\r\n            FilterUtils.blackSilhouette = [];\r\n            var colorMatrix:Array<number> = \r\n            [0,0,0,0,0,  \r\n             0,0,0,0,0,  \r\n             0,0,0,0,0,  \r\n             0,1,0,1,0];\r\n            FilterUtils.blackSilhouette.push(new Laya.ColorFilter(colorMatrix));\r\n        }\r\n        return FilterUtils.blackSilhouette;\r\n    }\r\n}","import SgsSkeletonEffect from \"../ui/controls/base/SgsSkeletonEffect\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class EffectUtils\r\n{\r\n    constructor(){\r\n\r\n    }\r\n\r\n    /**\r\n\t * 获取SgsSkeletonEffect\r\n\t * @param autoRecoverSelf 自动回收自身：动画播放结束时回收自身，若循环播放则此属性无效\r\n\t * @param autoClearTemplet 自动回收动画模板：回收自身时回收动画模板\r\n\t * @param clearTempletFollow scene：随场景回收 ***window：随窗口回收\r\n\t * @param forceFllowTarget 组件强制跟随回收对象：跟随此对象销毁而销毁，主要用于特效添加到其他层时使用 \r\n\t * @param poolSign 对象池标记:存在表示回收至对象池\r\n\t * @param clearPoolFollow scene：随场景回收 ***window：随窗口回收\r\n\t * @param poolCount 对象池个数：限制对象池中对象个数 0表示不限制\r\n\t*/\r\n\tpublic static GetSkeletonEffect(autoRecoverSelf:boolean = false,autoClearTemplet:boolean = false,clearTempletFollow:string = \"\",\r\n\t\t\t\t\t\t\t\t\tforceFllowTarget:Laya.Sprite = null,poolSign:string = \"\",clearPoolFollow:string = \"\",poolCount:number = 0):SgsSkeletonEffect\r\n\t{\r\n\t\tlet effect:SgsSkeletonEffect;\r\n\t\tif (poolSign)//启用对象池\r\n\t\t{\r\n\t\teffect = Laya.Pool.getItemByClass(poolSign,SgsSkeletonEffect);\r\n\t\teffect.poolStrategy(poolSign,clearPoolFollow,poolCount);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\teffect = new SgsSkeletonEffect();\r\n\t\t}\r\n\t\teffect.autoRecoverSelf = autoRecoverSelf;\r\n\t\teffect.forceFllowTarget = forceFllowTarget;\r\n\t\teffect.autoClearTemplet = autoClearTemplet;\r\n\t\teffect.clearTempletFollow = clearTempletFollow;\r\n\t\treturn effect;\r\n\t}\r\n\r\n    /**清理SgsSkeletonEffect对象池*/\r\n    public static ClearSkeletonEffectPool(poolSign:string):void\r\n\t{\r\n\t\tlet pools:Array<any> = Laya.Pool.getPoolBySign(poolSign);\r\n\t\tif (!pools) return;\r\n\t\tlet length:number = pools.length;\r\n\t\tif (length > 0)\r\n\t\t{\r\n\t\t\tlet effect:SgsSkeletonEffect;\r\n\t\t\tfor (let i:number = 0; i < length; i++)\r\n\t\t\t{\r\n\t\t\t\teffect = pools[i];\r\n\t\t\t\tif (effect) effect.destroy();\r\n\t\t\t}\r\n\t\t\tpools = null;\r\n\t\t\tLaya.Pool.clearBySign(poolSign);\r\n\t\t}\r\n\t\tlet dic = Laya.Pool[\"_poolDic\"];\r\n\t\tif (dic) delete dic[poolSign];\r\n\t}\r\n}","/**\r\n* 对象存储器,可根据字符名称和对象作为标签名来存储的数据.\r\n* 建议\"get\"一次后缓存好数据不要频繁使用\"get对象key\",\"字符key\"不影响\r\n* 支持用对象作为key存储数据.\r\n*/\r\nexport default class Dictionary{\r\n    public constructor(list?:Array<{key:any,data:any}>)\r\n    {\r\n        this._maps = {};\r\n        this._objKeys = [];\r\n        this._objDatum = [];\r\n        if(list != null)\r\n        {\r\n            this.addList(list);\r\n        }\r\n    }\r\n\r\n    public get Maps():any\r\n    {\r\n        return this._maps;\r\n    }\r\n\r\n    /**\r\n     * 字典计数器\r\n     */\r\n    private _count: number = 0;\r\n    /**\r\n     * 字符索引对象\r\n     */\r\n    private _maps: Object;\r\n    /**\r\n     * 对象索引数组\r\n     */\r\n    private _objKeys: Array<any>;\r\n    /**\r\n     * 对象索引数组对应的数据\r\n     */\r\n    private _objDatum: Array<any>;\r\n\r\n\r\n    public addList(list:Array<{key:any,data:any}>):void\r\n    {\r\n        let length:number = list.length;\r\n        let value;\r\n        for(let i:number = 0 ; i < length; i++)\r\n        {\r\n            value = list[i];\r\n            this.add(value.key,value.data);\r\n        }\r\n    }\r\n\r\n    public addNumberKey(key:number,data:any):void\r\n    {\r\n        if (null == this._maps[key]) {\r\n            this._count++;\r\n        }\r\n        this._maps[key] = data;\r\n    }\r\n\r\n    public getNumberKey(key:number):any\r\n    {\r\n        return this._maps[key];\r\n    }\r\n\r\n    public addStringKey(key:string,data:any):void\r\n    {\r\n        if (null == this._maps[key]) {\r\n            this._count++;\r\n        }\r\n        this._maps[key] = data;\r\n    }\r\n\r\n    public getStringKey(key:string):any\r\n    {\r\n        return this._maps[key];\r\n    }\r\n\r\n    /**\r\n     * 添加指定类型的数据\r\n     * @param key 可以是对象、字符、数字\r\n     * @param data 任何类型\r\n     */\r\n    public add(key: any, data: any): void\r\n    {\r\n        if (typeof (key) != \"object\")\r\n        {\r\n            if (null == this._maps[key]) {\r\n                this._count++;\r\n            }\r\n            this._maps[key] = data;\r\n        } \r\n        else \r\n        {\r\n            var index: number = this._objKeys.lastIndexOf(key);\r\n            if (index == -1) {\r\n                this._objKeys.push(key);\r\n                this._objDatum.push(data);\r\n                this._count++;\r\n            } else {\r\n                this._objDatum[index] = data;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 删除指定类型的全部数据\r\n     * @param key  可以是对象、字符、数字\r\n     *\r\n     */\r\n    public del(key: any): void\r\n    {\r\n        var index: number;\r\n        if (typeof (key) != \"object\")\r\n        {\r\n            if (null != this._maps[key]) {\r\n                delete this._maps[key];\r\n                this._count--;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            index = this._objKeys.lastIndexOf(key);\r\n            if (index != -1) {\r\n                this._objKeys.splice(index, 1);\r\n                this._objDatum.splice(index, 1);\r\n                this._count--;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 获取存储中的数据,对象作为key实际上需要进行遍历索引，所以在同一个字典中尽量不要添加过多的key会影响性能,\r\n     * 建议get一次后缓存好数据不要频繁使用get对象key,字符key不影响\r\n     * @param key 可以是对象、字符、数字\r\n     * @return\r\n     */\r\n    public get(key: any): any\r\n    {\r\n        if (typeof (key) != \"object\")\r\n        {\r\n            return this._maps[key];\r\n        }\r\n        else \r\n        {\r\n            var index: number = this._objKeys.lastIndexOf(key);\r\n            if (index != -1) {\r\n                return this._objDatum[index];\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * 检查是否有该类型的数据存在\r\n     * @param key 可以是对象、字符、数字\r\n     * @return\r\n     */\r\n    public has(key: any): boolean\r\n    {\r\n        if (typeof (key) != \"object\")\r\n        {\r\n            return this._maps[key]?true:false;\r\n        } \r\n        else \r\n        {\r\n            var index: number = this._objKeys.lastIndexOf(key);\r\n            if (index != -1) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n    /**\r\n     *  获取字典中储存数据的个数\r\n     *\r\n     */\r\n    public get count(): number\r\n    {\r\n        return this._count;\r\n    }\r\n    /**\r\n     * 对字典中的每一项执行函数，用该函数可以省去for循环，\r\n     * 允许回调函数中删除当前正在执行的key，\r\n     * 但是删除字典中的其他key可能会出现少遍历或重复遍历的情况.\r\n     *\r\n     */\r\n    public forEach(callback: (key:any, data:any)=>void, thisObject: any = null):void\r\n    {\r\n        var name,arr;\r\n        for (name in this._maps) {\r\n            callback.call(thisObject, name, this._maps[name]);\r\n        }\r\n        for (var j: number = 0; j < this._objKeys.length; j++) {\r\n            var key: any = this._objKeys[j];\r\n            callback.call(thisObject, this._objKeys[j], this._objDatum[j]);\r\n            if (key != this._objKeys[j]) {\r\n                j--;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对字典中的每一项执行函数，用该函数可以省去for循环，\r\n     * 允许回调函数中删除当前正在执行的key，\r\n     * 但是删除字典中的其他key可能会出现少遍历或重复遍历的情况.\r\n     * 可以break; callback 返回true ,表示中断循环；\r\n     *\r\n     */\r\n    public breakForEach(callback: (key:any, data:any)=>boolean, thisObject: any = null):void\r\n    {\r\n        var name,arr,isBreak;\r\n\r\n        for (name in this._maps) {\r\n            let result:boolean = callback.call(thisObject, name, this._maps[name]);\r\n            if(result){\r\n                isBreak = true;\r\n                break;\r\n            }\r\n        }\r\n        if(!isBreak){\r\n            for (var j: number = 0; j < this._objKeys.length; j++) {\r\n                var key: any = this._objKeys[j];\r\n                let result:boolean = callback.call(thisObject, this._objKeys[j], this._objDatum[j]);\r\n                if (key != this._objKeys[j]) {\r\n                    j--;\r\n                }\r\n                if(result){\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n    /**\r\n     *  获取字典中储存key和data的队列\r\n     *\r\n     */\r\n    public get elements(): Array<{ key: any; data: any }> {\r\n        var _list: Array<{ key: any; data: any }> = [];\r\n        var name,arr;\r\n        for (name in this._maps) {\r\n            _list.push({ key: name, data: this._maps[name] });\r\n        }\r\n        var len: number = this._objKeys.length;\r\n        for (var j: number = 0; j < len; j++) {\r\n            _list.push({ key: this._objKeys[j], data: this._objDatum[j] });\r\n        }\r\n        return _list;\r\n    }\r\n    /**\r\n     *  获取字典中储存key队列\r\n     *\r\n     */\r\n    public get keys(): Array<any> {\r\n        var _list: Array<{ key: any; data: any }> = [];\r\n        var name;\r\n        for (name in this._maps) {\r\n            _list.push(name);\r\n        }\r\n        _list = _list.concat(this._objKeys);\r\n        return _list;\r\n    }\r\n    /**\r\n     *  获取字典中储存data的队列\r\n     *\r\n     */\r\n    public get datum(): Array<any> {\r\n        var _list: Array<{ key: any; data: any }> = [];\r\n        var name;\r\n        for (name in this._maps) {\r\n            _list.push(this._maps[name]);\r\n        }\r\n        _list = _list.concat(this._objDatum);\r\n        return _list;\r\n    }\r\n    /**\r\n     *  清除字典中所有的数据\r\n     *\r\n     */\r\n    public destroy(): void\r\n    {\r\n        if (this._count <= 0) return;\r\n        this._maps = {};\r\n        this._objKeys.length = 0;\r\n        this._objDatum.length = 0;\r\n        this._count = 0;\r\n    }\r\n    /**\r\n     *  打印字典中的所有数据\r\n     *\r\n     */\r\n    public dump(): void\r\n    {\r\n        var name,arr;\r\n        for (name in this._maps) {\r\n            console.log(\"key:\", name, \"---> data:\", this._maps[name]);\r\n        }\r\n        var len: number = this._objKeys.length;\r\n        for (var j: number = 0; j < len; j++) {\r\n            console.log(\"key:\", typeof (this._objKeys[j]), \" ---> data:\", this._objDatum[j]);\r\n        }\r\n    }\r\n\r\n    public getValueByIndex(index:number):any\r\n    {\r\n        return this.datum[index];\r\n    }\r\n\r\n    public getKeyByIndex(index:number):any\r\n    {\r\n        return this.keys[index];\r\n    }\r\n}","import StringUtils from \"./StringUtils\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class DateUtils\r\n{\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    /**\r\n     * 对指定的时间按照指定的格式进行格式化 \r\n     * @param date\r\n     * @param format\t日期格式参考 yyyy-MM-dd hh:mm:ss\"\r\n     */\t\t\r\n    public static DateFormat(date:Date,format:string = \"yyyy-MM-dd\"):string\r\n    {\r\n        var o = {\r\n            \"M+\": date.getMonth() + 1, //月份 \r\n            \"d+\": date.getDate(), //日 \r\n            \"h+\": date.getHours(), //小时 \r\n            \"m+\": date.getMinutes(), //分 \r\n            \"s+\": date.getSeconds(), //秒 \r\n            \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度 \r\n            \"S\": date.getMilliseconds() //毫秒 \r\n        };\r\n        if (/(y+)/.test(format)) format = format.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n        for (var k in o)\r\n        if (new RegExp(\"(\" + k + \")\").test(format)) format = format.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n        return format;\r\n    }\r\n\r\n    /**\r\n     * 对指定的时间戳按指定的格式进行格式化 \r\n     * @param time 秒\r\n     * @param format\r\n     */\t\t\r\n    public static TimeFormat(time:number,format:string = \"yyyy-MM-dd hh:mm:ss\"):string\r\n    {\r\n        return DateUtils.DateFormat(new Date(time*1000),format);\r\n    }\r\n\r\n    /**\r\n     * 对指定时间字符串按指定的格式进行格式化 \r\n     * @param timeStr 时间格式字符串\r\n     * @param format\r\n     */\t\t\r\n    public static TimeStrFormat(timeStr:string,format:string = \"yyyy-MM-dd hh:mm:ss\"):string\r\n    {\r\n        let date:Date = DateUtils.StringFormatToDate(timeStr);\r\n        return DateUtils.DateFormat(new Date(date.getTime()),format);\r\n    }\r\n\r\n    public static StringFormatToDate(format:string = \"YYYY-MM-DD JJ:NN:SS\"):Date\r\n    {\r\n        //兼容浏览器:格式转换为\"YYYY/MM/DD JJ:NN:SS\"\r\n        format = StringUtils.replace(format,\"-\",\"/\");\r\n        let date:Date = new Date(format);\r\n        return date;\r\n    }\r\n}","/*\r\n* 封装ByteArray继承Laya.Byte 实现部分缺失功能\r\n* Created by caochangli on 2017-11-07. \r\n*/\r\nexport default class ByteArray extends Laya.Byte\r\n{\r\n    constructor(data?: any)\r\n    {\r\n        super(data);\r\n    }\r\n\r\n    /**\r\n     * 在字节流的当前字节偏移量位置处写入指定的 Int16 值。\r\n     * @param value\t需要写入的 Int16 值。\r\n     */\r\n    public writeShort(value:number):void\r\n\t{\r\n\t\tthis.writeInt16(value);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流的当前字节偏移量位置处读取一个 Int16 值。\r\n     * @return Int16 值。\r\n     */\r\n    public readShort():number\r\n\t{\r\n\t\treturn this.getInt16();\r\n\t}\r\n\r\n    /**\r\n     * 在字节流的当前字节偏移量位置处写入 Uint32 值。\r\n     * @param value 需要写入的 Uint32 值。\r\n     */\r\n    public writeUnsignedInt(value:number):void\r\n\t{\r\n\t\tthis.writeUint32(value);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流的当前字节偏移量位置处读取一个 Uint32 值。\r\n     * @return Uint32 值。\r\n     */\r\n    public readUnsignedInt():number\r\n\t{\r\n\t\treturn this.getUint32();\r\n\t}\r\n\r\n    /**\r\n     * 从字节流的当前字节偏移量位置处读取一个 Uint16 值。\r\n     * @return Uint16 值。\r\n     */\r\n    public readUnsignedShort():number\r\n\t{\r\n\t\treturn this.getUint16();\r\n\t}\r\n\r\n    public writeUnsignedShort(val:number):void{\r\n        this.writeUint16(val);\r\n    }\r\n\r\n    /**\r\n     * 在字节流的当前字节偏移量位置处写入指定的 Int32 值。\r\n     * @param value 需要写入的 Int32 值。\r\n     */\r\n    public writeInt(value:number):void\r\n\t{\r\n\t\tthis.writeInt32(value);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流的当前字节偏移量位置处读取一个 Int32 值。\r\n     * @return Int32 值。\r\n     */\r\n    public readInt():number\r\n\t{\r\n\t\treturn this.getInt32();\r\n\t}\r\n\r\n    /**\r\n     * 写入布尔值。根据 value 参数写入单个字节。如果为 true，则写入 1，如果为 false，则写入 0\r\n     * @param value 确定写入哪个字节的布尔值。如果该参数为 true，则该方法写入 1；如果该参数为 false，则该方法写入 0\r\n     */\r\n    public writeBoolean(value:boolean):void\r\n\t{\r\n\t\tthis.writeByte(value ? 1 : 0);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流中读取布尔值。读取单个字节，如果字节非零，则返回 true，否则返回 false\r\n     * @return 如果字节不为零，则返回 true，否则返回 false\r\n     */\r\n\tpublic readBoolean():boolean\r\n\t{\r\n        return (this.readByte() != 0);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流中读取无符号的字节\r\n     * @return 介于 0 和 255 之间的 32 位无符号整数\r\n     */\r\n    public readUnsignedByte():number\r\n\t{\r\n\t\treturn this.getUint8();\r\n\t}\r\n\r\n     /**\r\n     * 在字节流中写入一个 IEEE 754 双精度（64 位）浮点数\r\n     * @param value 双精度（64 位）浮点数\r\n     */\r\n    public writeDouble(value:number):void\r\n\t{\r\n\t\tthis.writeFloat64(value);\r\n\t}\r\n\r\n    /**\r\n     * 从字节流中读取一个 IEEE 754 双精度（64 位）浮点数\r\n     * @return 双精度（64 位）浮点数\r\n     */\r\n\tpublic readDouble():number\r\n\t{\r\n\t\treturn this.getFloat64();\r\n\t}\r\n\r\n    /**\r\n     * 将指定字节数组 bytes（起始偏移量为 offset，从零开始的索引）中包含 length 个字节的字节序列写入字节流\r\n     * 如果省略 length 参数，则使用默认长度 0；该方法将从 offset 开始写入整个缓冲区。如果还省略了 offset 参数，则写入整个缓冲区\r\n     * 如果 offset 或 length 超出范围，它们将被锁定到 bytes 数组的开头和结尾\r\n     * @param bytes ByteArray 对象\r\n     * @param offset 从 0 开始的索引，表示在数组中开始写入的位置\r\n     * @param length 一个无符号整数，表示在缓冲区中的写入范围\r\n     */\r\n    public writeBytes(bytes:ByteArray, offset:number = 0, length:number = 0):void \r\n    {\r\n        if (offset < 0 || length < 0) throw \"writeBytes error - Out of bounds\";\r\n        if (length == 0) length = bytes.length - offset;\r\n        this[\"_ensureWrite\"] (this._pos_ + length);\r\n        this._u8d_.set(bytes._u8d_.subarray (offset, offset + length), this._pos_);\r\n        this._pos_ += length;\r\n    }\r\n\r\n    /**\r\n     * 从字节流中读取 length 参数指定的数据字节数。从 offset 指定的位置开始，将字节读入 bytes 参数指定的 ByteArray 对象中，并将字节写入目标 ByteArray 中\r\n     * @param bytes 要将数据读入的 ByteArray 对象\r\n     * @param offset bytes 中的偏移（位置），应从该位置写入读取的数据\r\n     * @param length 要读取的字节数。默认值 0 导致读取所有可用的数据\r\n     */\r\n    public readBytes(bytes:ByteArray, offset:number = 0, length:number = 0):void\r\n    {\r\n        if (offset < 0 || length < 0) throw \"Read error - Out of bounds\";\r\n        if (length == 0) length = this._length - this._pos_;\r\n        bytes[\"_ensureWrite\"] (offset + length);\r\n        bytes._u8d_.set(this._u8d_.subarray(this._pos_, this._pos_ + length), offset);\r\n        bytes.pos = offset;\r\n        this._pos_ += length;\r\n        if (bytes.pos + length > bytes.length) bytes.length = bytes.pos + length;\r\n    }\r\n\r\n    public writeStringByLength(value:string,length:number):void\r\n\t{\r\n\t\t// this.data.writeUTFBytes\r\n\t\tif(null == value)\r\n\t\t{\r\n\t\t\tvalue = \"\";\r\n\t\t}\r\n\r\n\t\tlet stringBytes:ByteArray = new ByteArray();\r\n\t\t// if(value.length == 0)\r\n\t\t// {\r\n\t\tstringBytes.writeUTFBytes(value);\r\n\t\t// }\r\n\t\tlet bomPos:number = this.GetBomPosition(stringBytes);\r\n\t\tif(bomPos > 0)\r\n\t\t{\r\n\t\t\tvar bytes:ByteArray = new ByteArray();\r\n\t\t\tstringBytes.pos = bomPos;\r\n\t\t\tstringBytes.readBytes(bytes,bytes.pos,stringBytes.bytesAvailable);\r\n\t\t\tstringBytes = bytes;\r\n\t\t}\r\n\t\tstringBytes.pos = stringBytes.length;\r\n\t\tif(stringBytes.length < length)\r\n\t\t{\r\n\t\t\tvar index:number = stringBytes.length;\r\n\t\t\tfor(;index<length;index++)\r\n\t\t\t{\r\n\t\t\t\tif(index < length-1)\r\n\t\t\t\t{\r\n\t\t\t\t\tstringBytes.writeByte(0x00);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tstringBytes.writeByte(0xCC);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(stringBytes.length > length)\r\n\t\t{\r\n\t\t\tstringBytes.length = length;\r\n\t\t}\r\n\t\t\r\n\t\tthis.writeBytes(stringBytes);\r\n\t}\r\n\r\n    public readStringByLength(length:number):string\r\n\t{\r\n\t\tlet result:string = \"\";\r\n\t\t// 统计有效字符的长度\r\n\t\tvar charCount:number = 0;\r\n\t\tvar pos:number = this.pos;\r\n\t\tvar byteValue:number;\r\n\t\tfor(;charCount<length;charCount++)\r\n\t\t{\r\n\t\t\tbyteValue = this.readByte();\r\n\t\t\tif(byteValue == 0)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// 读取字符串\r\n\t\tthis.pos = pos;\r\n\t\tresult = this.readUTFBytes(length);\r\n\t\treturn result;\r\n\t}\r\n\r\n    private GetBomPosition(bytes:ByteArray):number\r\n\t{\r\n\t\tvar curPos:number = bytes.pos;\r\n\t\t\r\n\t\tbytes.pos = 0;\r\n\t\tvar bom1:number = bytes.bytesAvailable?bytes.readUnsignedByte():0;\r\n\t\tvar bom2:number = bytes.bytesAvailable?bytes.readUnsignedByte():0;\r\n\t\tvar bom3:number = bytes.bytesAvailable?bytes.readUnsignedByte():0;\r\n\t\t\r\n\t\tvar pos:number = 0;\r\n\t\t\r\n\t\t// 忽略 UTF-8 的 BOM 标记 EF BB BF\r\n\t\tif(bom1 == 0xEF && bom2 == 0xBB && bom3 == 0xBF)\r\n\t\t{\r\n\t\t\tpos = 3;\r\n\t\t}\r\n\t\t// Big-Endian\r\n\t\telse if(bom1 == 0xFE && bom2 == 0xFF)\r\n\t\t{\r\n\t\t\tpos = 2;\r\n\t\t}\r\n\t\t// Little-Endian\r\n\t\telse if(bom1 == 0xFF && bom2 == 0xFE)\r\n\t\t{\r\n\t\t\tpos = 2;\r\n\t\t}\r\n\t\t// Android 从输入框中输入的文本，前面会带有这个标记\r\n\t\telse if(bom1 == 0x3F)\r\n\t\t{\r\n\t\t\tpos = 1;\r\n\t\t}\r\n\t\t\r\n\t\tbytes.pos = curPos;\r\n\t\t\r\n\t\treturn pos;\r\n\t}\r\n}","import SystemContext from \"./../../SystemContext\";\r\nimport GameEventDispatcher from \"./../../event/GameEventDispatcher\";\r\n/*\r\n* 层级基类\r\n*/\r\nexport default class LayerBase extends Laya.Sprite\r\n{\r\n    constructor(layerOrder)\r\n    {\r\n        super();\r\n\r\n        this.zOrder = layerOrder;\r\n\r\n        this.on(Laya.Event.ADDED, this, this.onAddToStage);\r\n        this.on(Laya.Event.REMOVED, this, this.onRemoveToStage);\r\n    }\r\n\r\n    /** 获取层级序号 */\r\n    public get LayerOrder():number\r\n    {\r\n        return this.zOrder;\r\n    }\r\n\r\n    protected onAddToStage(event?:Laya.Event):void\r\n    {   \r\n        GameEventDispatcher.GetInstance().on(Laya.Event.RESIZE, this, this.onGameResize);\r\n        GameEventDispatcher.GetInstance().on(GameEventDispatcher.GAME_ADAPTATION, this, this.onGameAdaptation);\r\n\r\n        this.onGameResize();\r\n        this.onGameAdaptation();\r\n    }\r\n    \r\n    protected onRemoveToStage(event?:Laya.Event):void\r\n    {\r\n        GameEventDispatcher.GetInstance().off(Laya.Event.RESIZE, this, this.onGameResize);\r\n        GameEventDispatcher.GetInstance().off(GameEventDispatcher.GAME_ADAPTATION, this, this.onGameAdaptation);\r\n    }\r\n\r\n    public addChild(child:Laya.Node):Laya.Node\r\n\t{\r\n        var addChild:Laya.Node = super.addChild(child);\r\n        this.addChildToLayer();\r\n\t\treturn addChild;\r\n\t}\r\n\r\n    public addChildAt(node:Laya.Node, index:number):Laya.Node\r\n    {\r\n        var addChild:Laya.Node = super.addChildAt(node,index);\r\n        this.addChildToLayer();\r\n        return addChild;\r\n    } \r\n\r\n    public addChildren(...args: any[]):void\r\n    {\r\n        super.addChildren(...args);\r\n        this.addChildToLayer();\r\n    } \r\n\r\n    public removeChild(child:Laya.Node):Laya.Node\r\n\t{\r\n        var removeChild:Laya.Node = super.removeChild(child);\r\n        this.removeChildToLayer();\r\n\t\treturn removeChild;\r\n\t}\r\n\r\n    public removeChildAt(index:number):Laya.Node\r\n\t{\r\n        var removeChild:Laya.Node = super.removeChildAt(index);\r\n        this.removeChildToLayer();\r\n\t\treturn removeChild;\r\n\t}\r\n\r\n    public removeChildByName(name:string):Laya.Node\r\n\t{\r\n        var removeChild:Laya.Node = super.removeChildByName(name);\r\n        this.removeChildToLayer();\r\n\t\treturn removeChild;\r\n\t}\r\n\r\n    public removeChildren(beginIndex:number, endIndex:number):Laya.Node\r\n\t{\r\n        var removeChild:Laya.Node = super.removeChildren(beginIndex,endIndex);\r\n        this.removeChildToLayer();\r\n\t\treturn removeChild;\r\n    }\r\n    \r\n    protected addChildToLayer():void//添加子项到层\r\n    {\r\n        if (this && !this.parent && this.numChildren > 0)//层级还未添加到舞台\r\n            Laya.stage.addChild(this);\r\n    }\r\n\r\n    protected removeChildToLayer():void//从层中移除子项\r\n    {\r\n        if (this && this.parent && this.numChildren <= 0)\r\n            Laya.stage.removeChild(this);\r\n    }\r\n\r\n    protected onGameResize():void//游戏尺寸变化\r\n\t{\r\n        if (!this.scrollRect)\r\n        {\r\n            this.scrollRect = new Laya.Rectangle(0,0,SystemContext.gameWidth,SystemContext.gameHeight);\r\n        }\r\n        else\r\n        {\r\n            this.scrollRect.width = SystemContext.gameWidth;\r\n            this.scrollRect.height = SystemContext.gameHeight;\r\n        }\r\n    }\r\n\r\n    protected onGameAdaptation():void//游戏适配\r\n    {\r\n        // this.x = SystemContext.GamePaddingLeft;\r\n        // this.y = SystemContext.GamePaddingTop;\r\n        // this.scale(SystemContext.gameScale,SystemContext.gameScale);\r\n    }\r\n}","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n\r\n/*\r\n* 最低层\r\n*/\r\nexport default class BottomLayer extends LayerBase \r\n{\r\n    constructor()\r\n    {\r\n        super(LayerOrder.BottomLayer);\r\n    }\r\n\r\n    protected static instance:BottomLayer;\r\n\tpublic static GetInstance():BottomLayer\r\n\t{\r\n\t\tif (null == BottomLayer.instance)\r\n\t\t{\r\n\t\t\tBottomLayer.instance = new BottomLayer();\r\n\t\t}\r\n\t\treturn BottomLayer.instance;\r\n\t}\r\n}\r\n","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n\r\n/*\r\n* 背景层\r\n*/\r\nexport default class BackgroundLayer extends LayerBase \r\n{\r\n\tprivate border:Laya.Image;\r\n\r\n    constructor()\r\n    {\r\n        super(LayerOrder.BackgroundLayer);\r\n    }\r\n\r\n    protected static instance:BackgroundLayer;\r\n\tpublic static GetInstance():BackgroundLayer\r\n\t{\r\n\t\tif (null == BackgroundLayer.instance)\r\n\t\t{\r\n\t\t\tBackgroundLayer.instance = new BackgroundLayer();\r\n\t\t}\r\n\t\treturn BackgroundLayer.instance;\r\n\t}\r\n}\r\n","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n/*\r\n* 动画层\r\n*/\r\nexport default class AnimationLayer extends LayerBase\r\n{\r\n    constructor()\r\n    {\r\n        super(LayerOrder.AnimationLayer);\r\n    }\r\n\r\n    protected static instance:AnimationLayer;\r\n\tpublic static GetInstance():AnimationLayer\r\n\t{\r\n\t\tif (null == AnimationLayer.instance)\r\n\t\t{\r\n\t\t\tAnimationLayer.instance = new AnimationLayer();\r\n\t\t}\r\n\t\treturn AnimationLayer.instance;\r\n\t}\r\n\r\n}","\r\n/*\r\n* name;\r\n*/\r\nexport default class DressTabPanel extends Laya.Panel\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    protected onScrollBarChange(scrollBar:Laya.ScrollBar):void\r\n    {\r\n        super.onScrollBarChange(scrollBar);\r\n        this.event(\"scrollChange\");\r\n    }\r\n}\r\n","import DressConfiger from \"../../config/DressConfiger\";\r\nimport RES from \"../../res/RES\";\r\nimport DressPartVO from \"../../vo/DressPartVO\";\r\nimport DressVO from \"../../vo/DressVO\";\r\n\r\nexport default class DressAvatarLoad extends Laya.EventDispatcher\r\n{\r\n    private resources:Array<string>;\r\n    private loadedCount:number = 0;\r\n\r\n    private dressVo:DressVO;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.resources = [];\r\n    }\r\n\r\n    public get DressVO():DressVO\r\n    {\r\n        return this.dressVo;\r\n    }\r\n\r\n    public LoadDressPartRes(dressVo:DressVO):void\r\n    {\r\n        this.CancelDressPartRes();\r\n        this.dressVo = dressVo;\r\n        let dressConfig:DressConfiger = DressConfiger.GetInstance();\r\n        let dressParts:Array<DressPartVO> = dressConfig.GetDresPartsByDressID(dressVo.DressID);\r\n        if (dressParts && dressParts.length > 0)\r\n        {\r\n            let resourceUrl:string = \"\";\r\n            dressParts.forEach(dressPartVo => {\r\n                resourceUrl = dressPartVo.ResourceUrl;\r\n                if (resourceUrl) \r\n                    this.resources.push(resourceUrl);\r\n            });\r\n        }\r\n        if (this.resources.length > 0)\r\n        {\r\n            this.resources.forEach(element => {\r\n                RES.AddReference(element);\r\n                RES.GetResByUrl(element,this,this.onLoadComplete,\"image\");\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.event(Laya.Event.COMPLETE,this);\r\n            this.dressVo = null;\r\n        }\r\n    }\r\n\r\n    public CancelDressPartRes():void\r\n    {\r\n        if (this.resources.length > 0)\r\n        {\r\n            this.resources.forEach(element => {\r\n                RES.DelReference(element);\r\n                RES.CancelGetResByUrl(element,this,this.onLoadComplete);\r\n                RES.ClearResByUrl(element);\r\n            });\r\n            this.resources.length = 0;\r\n        }\r\n        this.loadedCount = 0;\r\n        this.dressVo = null;\r\n    }\r\n\r\n    private onLoadComplete(texture:Laya.Texture,key:string):void\r\n    {\r\n        if (this.resources.indexOf(key) == -1) return;\r\n        this.loadedCount ++;\r\n        if (this.loadedCount >= this.resources.length)//加载完\r\n        {\r\n            this.event(Laya.Event.COMPLETE,this);//先派发事件给外面创建搭配UI，从而将资源引用上\r\n            this.resources.forEach(element => {\r\n                RES.DelReference(element);\r\n                RES.ClearResByUrl(element);\r\n            });\r\n            this.resources.length = 0;\r\n            this.loadedCount = 0;\r\n            this.dressVo = null;\r\n        }\r\n    }\r\n}","import ViewStackBase from \"./ViewStackBase\";\r\n/*\r\n* name;\r\n*/\r\nexport default class ViewStack\r\n{\r\n    private render:Laya.Sprite;\r\n\r\n    private _x:number = 0;\r\n    private _y:number = 0;\r\n    private _childList:Array<any>;\r\n    private _childUIList:Array<any>;\r\n    private _childInitDataList:Array<any>;\r\n    private _selectedIndex:number = -1;\r\n\r\n    constructor(render:Laya.Sprite)\r\n    {\r\n        this.render = render;\r\n        if (this.render)\r\n            this.render.on(\"destroyEvent\",this,this.onFollowDestroy);\r\n    }\r\n\r\n    public set x(value:number)\r\n    {\r\n        this.pos(value,this._y);\r\n    }\r\n\r\n    public get x():number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    public set y(value:number)\r\n    {\r\n        this.pos(this._x,value);\r\n    }\r\n\r\n    public get y():number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    public pos(x:number,y:number):void\r\n    {\r\n        if (this._x == x && this._y == y)\r\n            return;\r\n        this._x = x >> 0;\r\n        this._y = y >> 0;\r\n        this.resetChildsPos();\r\n    } \r\n\r\n    //设置子项列表\r\n    public set childList(value:Array<any>)\r\n    {\r\n        this.clearChilds();\r\n        if (!value || value.length <= 0) return;\r\n        this._childList = [];\r\n        this._childUIList = [];\r\n        for (let i:number = 0; i < value.length; i++)\r\n        {\r\n            this._childList.push(value[i]);\r\n            this._childUIList.push(null);\r\n        }\r\n    }\r\n\r\n    /**设置子项列表初始化数据*/\r\n    public set childInitDataList(value:Array<any>)\r\n    {\r\n        if (!value || value.length <= 0) return;\r\n        this._childInitDataList = [];\r\n        for (let i:number = 0; i < value.length; i++)\r\n        {\r\n            this._childInitDataList.push(value[i]);\r\n        }\r\n    }\r\n\r\n    public get selectedIndex():number\r\n    {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    public set selectedIndex(value:number)\r\n    {\r\n        if (this.selectedIndex == value) return;\r\n        this._selectedIndex = value;\r\n        this.updataView();\r\n    }\r\n\r\n    public get selectedChild():ViewStackBase\r\n    {\r\n        return this.getChildAt(this.selectedIndex);\r\n    }\r\n\r\n    public getChildAt(index:number):ViewStackBase\r\n    {\r\n        if (!this._childUIList) return null;\r\n        if (index < 0 || index >= this._childUIList.length) return null;\r\n        return this._childUIList[index];\r\n    }\r\n\r\n    private updataView():void//更新容器\r\n    {\r\n        if (!this.render) return;\r\n        if (!this._childList || this.selectedIndex < 0)\r\n        {\r\n            this.selectedIndex = -1;\r\n            return;\r\n        }\r\n        if (this.selectedIndex >= this._childList.length)\r\n            this.selectedIndex = this._childList.length - 1;\r\n        let showChild:ViewStackBase;\r\n        let child:ViewStackBase;\r\n        for (let i:number = 0; i < this._childUIList.length; i++)\r\n        {\r\n            child = this._childUIList[i];\r\n            if (!child) continue;\r\n            if (child.destroyed)//已被destroy\r\n            {\r\n                child = this._childList[i] = null;\r\n                continue;\r\n            }\r\n            if (i == this.selectedIndex)//当前view\r\n            {\r\n                if (!child.parent)\r\n                {\r\n                    this.render.addChild(child);\r\n                    child.Reset();\r\n                }\r\n                showChild = child;\r\n            }\r\n            else\r\n            {\r\n                if (child.parent)\r\n                {\r\n                    this.render.removeChild(child);\r\n                    child.Remove();\r\n                }\r\n            }\r\n        }\r\n        if (!showChild)\r\n        {\r\n            let childClass:any = this._childList[this.selectedIndex];\r\n            if (childClass == \"\") return;\r\n            let initData:any = this._childInitDataList ? this._childInitDataList[this.selectedIndex] : null;\r\n            if (initData != undefined)\r\n                showChild = new childClass(initData);\r\n            else\r\n                showChild = new childClass();\r\n            if (showChild)\r\n            {   \r\n                showChild.pos(this._x,this._y);\r\n                this.render.addChild(showChild);\r\n                showChild.StartLoadRes();\r\n                this._childUIList[this.selectedIndex] = showChild;\r\n            }\r\n        }\r\n    }\r\n\r\n    private resetChildsPos():void\r\n    {\r\n        if (this._childUIList && this._childUIList.length > 0)\r\n        {\r\n            this._childUIList.forEach((child:ViewStackBase)=>{\r\n                if (child && !child.destroyed)\r\n                    child.pos(this._x,this._y);\r\n            });\r\n        }\r\n    }\r\n\r\n    protected readyCloseChilds():void\r\n    {\r\n        if (this._childUIList)\r\n        {\r\n            let len:number = this._childUIList.length;\r\n            let child:ViewStackBase;\r\n            for (let i:number = 0; i < len; i++)\r\n            {\r\n                child = this._childUIList[i];\r\n                if (child && !child.destroyed) \r\n                    child.ReadyClose();\r\n            }\r\n        }\r\n    }\r\n\r\n    protected clearChilds():void\r\n    {\r\n        this._childList = null;\r\n        if (this._childUIList)\r\n        {\r\n            let child:ViewStackBase;\r\n            while (this._childUIList.length > 0)\r\n            {\r\n                child = this._childUIList.pop();\r\n                if (child)\r\n                    child.destroy();\r\n            }\r\n            this._childUIList = null;\r\n        }\r\n    }\r\n\r\n    //准备清理\r\n    public ReadyClose():void\r\n    {\r\n        this.readyCloseChilds();\r\n    }\r\n\r\n    //清理\r\n    public destroy():void\r\n    {\r\n        this.clearChilds();\r\n        this._childInitDataList = null;\r\n        if (this.render)\r\n        {\r\n            this.render.off(\"destroyEvent\",this,this.onFollowDestroy);\r\n            this.render = null;\r\n        }\r\n    }\r\n\r\n    protected onFollowDestroy(target:Laya.Sprite):void//回收跟随的对象destroy了\r\n    {\r\n        this.destroy();\r\n    }\r\n}","import SgsPanelItemBase from \"./SgsPanelItemBase\";\r\nimport SgsPanelHtmlBase from \"./SgsPanelHtmlBase\";\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsPanel extends Laya.Panel\r\n{\r\n    public static SCROLL_MAX:string = \"SCROLL_MAX\";\r\n\r\n    protected curPage:number = 0;//当前页(从1开始)\r\n    protected totalPage:number = 0;//总页数\r\n    protected reqIng:boolean = false;//是否请求数据中\r\n\r\n    protected isLeaveDrawClear:boolean = false;//离开渲染区域是否回收资源\r\n    protected scrollClearValue:number = 0;//滚动回收阈值(超出屏幕多少像素后回收，默认0 表示panel尺寸)\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * 设置滚动回收资源\r\n     * @param isLeaveDrawClear 离开渲染区域是否回收资源\r\n     * @param scrollClearValue 滚动回收阈值(超出屏幕多少像素后回收，默认0 表示panel尺寸)\r\n     * */\r\n    public SetScrollClearRes(isLeaveDrawClear:boolean,scrollClearValue:number = 0):void\r\n    {\r\n        this.isLeaveDrawClear = isLeaveDrawClear;\r\n        this.scrollClearValue = scrollClearValue;\r\n    }\r\n\r\n    public SetPage(curPage:number,totalPage:number):void\r\n    {\r\n        this.curPage = curPage;\r\n        this.totalPage = totalPage;\r\n        this.reqIng = false;\r\n    }\r\n\r\n    public UpdateDrawContent():void\r\n    {\r\n        if (this.vScrollBar)\r\n            this.virtualDraw(this.vScrollBar);\r\n        if (this.hScrollBar)\r\n            this.virtualDraw(this.hScrollBar);\r\n    }\r\n\r\n    protected onScrollBarChange(scrollBar:Laya.ScrollBar):void\r\n    {\r\n        super.onScrollBarChange(scrollBar);\r\n        \r\n        this.virtualDraw(scrollBar);\r\n\r\n        if(scrollBar.value == scrollBar.max)\r\n        {\r\n            this.event(SgsPanel.SCROLL_MAX);\r\n            if (!this.reqIng && this.totalPage > this.curPage)\r\n            {\r\n                this.reqIng = true;\r\n                this.event(\"reqNextPage\",this.curPage + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected virtualDraw(scrollBar:Laya.ScrollBar):void//虚拟渲染：不在显示区域内的子项不渲染\r\n    {\r\n        let isVertical:boolean = scrollBar.isVertical;\r\n        let start = scrollBar.value;\r\n        let numChildren:number = this.numChildren;\r\n        let item:SgsPanelItemBase | SgsPanelHtmlBase;\r\n        if (isVertical)\r\n        {\r\n            let scrollClearValue = this.scrollClearValue ? this.scrollClearValue : this.height;\r\n            for (let i:number = 0; i < numChildren; i++)\r\n            {\r\n                item = <SgsPanelItemBase | SgsPanelHtmlBase>this.getChildAt(i);\r\n                item[\"isLeaveDrawClear\"] = this.isLeaveDrawClear;\r\n                if (item.y + item.height >= start && item.y <= start + this.height)\r\n                    !item.Drawed && item.EnterDraw();\r\n                else\r\n                {\r\n                    item.Drawed && item.LeaveDraw();\r\n                    if (this.isLeaveDrawClear && item.Inited && item.Dataed && item.NeedLeaveDrawClear)//离开渲染区域时回收资源\r\n                    {\r\n                        if ((item.y + item.height < start - scrollClearValue) || (item.y > start + this.height + scrollClearValue))\r\n                            item.LeaveDrawClear();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let scrollClearValue = this.scrollClearValue ? this.scrollClearValue : this.width;\r\n            for (let i:number = 0; i < numChildren; i++)\r\n            {\r\n                item = <SgsPanelItemBase | SgsPanelHtmlBase>this.getChildAt(i);\r\n                item[\"isLeaveDrawClear\"] = this.isLeaveDrawClear;\r\n                if (item.x + item.width >= start && item.x <= start + this.width)\r\n                    !item.Drawed && item.EnterDraw();\r\n                else\r\n                {\r\n                    item.Drawed && item.LeaveDraw();\r\n                    if (this.isLeaveDrawClear && item.Inited && item.Dataed && item.NeedLeaveDrawClear)//离开渲染区域时回收资源\r\n                    {\r\n                        if ((item.x + item.width < start - scrollClearValue) || (item.x > start + this.width + scrollClearValue))\r\n                            item.LeaveDrawClear();\r\n                    }\r\n                }           \r\n            }\r\n        }        \r\n    }\r\n}","import LayoutEnum from \"../../enum/base/LayoutEnum\";\r\nimport Dictionary from \"./../../utils/Dictionary\";\r\nimport SgsSprite from \"./base/SgsSprite\";\r\nimport SgsFlatPanelItemBase from \"./SgsFlatPanelItemBase\";\r\n\r\n/*\r\n* 扁平panel，采用分层、虚拟布局方式(适用于itemRenderer一样且尺寸一样)\r\n*/\r\nexport default class SgsFlatPanel extends Laya.Panel\r\n{\r\n    public static ITEM_CLICK:string = \"ITEM_CLICK\";//子项点击事件DataProvider\r\n    public static ITEM_CUSTOM_EVENT:string = \"ITEM_CUSTOM_EVENT\";//子项自定义事件\r\n\r\n    protected contentSp:SgsSprite;//内容容器\r\n    protected otherRenders:Array<SgsSprite>;//其他渲染器(分层渲染层)\r\n    protected itemRenderer:any;//item呈现器\r\n    protected eventLayerIndex:number = -2;\r\n    protected layoutType:number = 0;//布局类型(参考：LayoutEnum枚举)\r\n    protected vGap:number = 0;//垂直间距\r\n    protected hGap:number = 0;//水平间距\r\n    protected col:number = 0;//最多列数(网格布局使用)\r\n    protected paddingLeft:number = 0;//左边距\r\n    protected paddingTop:number = 0;//顶边距\r\n    protected layoutFun:Function;//布局函数\r\n    protected itemCreateFunction:Laya.Handler;//子项创建时自定义函数\r\n    protected itemRendererFunction:Laya.Handler;//呈现器自定义函数\r\n    protected dataProvider:Array<any>;//列表数据源\r\n    protected selectedIndexs:Array<number>;//选中索引列表\r\n    protected scrollStopUpdate:boolean = false;//滚动时停止更新\r\n\r\n    protected isLeaveDrawClear:boolean = false;//离开渲染区域是否回收资源\r\n    protected scrollClearValue:number = 0;//滚动回收阈值(超出屏幕多少像素后回收，默认0 表示panel尺寸)\r\n    protected setScrollClearValue:number = 0;//设置的滚动回收阈值(超出屏幕多少像素后回收，默认0 表示panel尺寸)\r\n\r\n    protected itemWidth:number = 0;\r\n    protected itemHeight:number = 0;\r\n    protected itemMaxCountChanged:boolean = true;\r\n    protected itemMaxCount:number = 0;\r\n    protected startIndex:number = -1;\r\n    protected endIndex:number = -1;\r\n    protected itemUIDic:Object;\r\n    // protected itemPoolDic:Object;\r\n    protected itemPools:Array<SgsFlatPanelItemBase>;\r\n    protected invalidItemUIs:Array<SgsFlatPanelItemBase>;//舞台上本次失效的ui列表\r\n    // protected invalidPools:Array<SgsFlatPanelItemBase>;//对象池中本次失效的ui列表\r\n    protected itemLoadStatusDic:Dictionary;//ui列表加载状态\r\n\r\n    /**\r\n     * @param itemRenderer item呈现器\r\n     * @param otherLayerNum 额外层级数量\r\n     * @param eventLayerIndex 哪一层接受事件(-1 表示contentSp接受事件，>=0表示额外层接受事件)\r\n     * */\r\n    constructor(itemRenderer:any = SgsFlatPanelItemBase,otherLayerNum:number = 0,eventLayerIndex:number = -2)\r\n    {\r\n        super();\r\n\r\n        this.itemRenderer = itemRenderer;\r\n        this.eventLayerIndex = eventLayerIndex;\r\n        this.itemUIDic = {};\r\n        // this.itemPoolDic = {};\r\n        this.itemPools = [];\r\n        this.invalidItemUIs = [];\r\n        // this.invalidPools = [];\r\n        this.itemLoadStatusDic = new Dictionary();\r\n        \r\n        this.contentSp = new SgsSprite();\r\n        this.addChild(this.contentSp);\r\n        if (eventLayerIndex == -1)\r\n        {\r\n            this.contentSp.addDrawClick();\r\n            this.contentSp.addDrawMouseEvent();\r\n        }\r\n        \r\n        if (otherLayerNum > 0)//创建分层\r\n        {\r\n            this.otherRenders = [];\r\n            let layerSp:SgsSprite;\r\n            for (let i:number = 0; i < otherLayerNum; i++)\r\n            {\r\n                layerSp = new SgsSprite();\r\n                this.addChild(layerSp);\r\n                if (eventLayerIndex == i)\r\n                {\r\n                    layerSp.addDrawClick();\r\n                    layerSp.addDrawMouseEvent();\r\n                }\r\n                this.otherRenders.push(layerSp);\r\n            }\r\n        }\r\n\r\n        //计算单个itemRenderer尺寸\r\n        let itemUI:SgsFlatPanelItemBase = new this.itemRenderer(this.otherRenders);\r\n        itemUI.RendererIndex = -1;\r\n        // this.itemPoolDic[itemUI.RendererIndex] = itemUI;\r\n        this.itemPools.push(itemUI);\r\n        this.itemWidth = itemUI.width;\r\n        this.itemHeight = itemUI.height;\r\n    }\r\n\r\n    public set width(val:number)\r\n    {\r\n        if (val == this.width) return;\r\n        this.itemMaxCountChanged = true;\r\n        Laya.superSetter(SgsFlatPanel,this,\"width\",val);\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        return this[\"_width\"];\r\n    }\r\n\r\n    public set height(val:number)\r\n    {\r\n        if (val == this.height) return;\r\n        this.itemMaxCountChanged = true;\r\n        Laya.superSetter(SgsFlatPanel,this,\"height\",val);\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return this[\"_height\"];\r\n    }\r\n\r\n    /**\r\n     * 设置滚动回收资源\r\n     * @param isLeaveDrawClear 离开渲染区域是否回收资源\r\n     * @param scrollClearValue 滚动回收阈值(超出屏幕多少像素后回收，默认0表示panel尺寸)\r\n     * */\r\n    public SetScrollClearRes(isLeaveDrawClear:boolean,scrollClearValue:number = 0):void\r\n    {\r\n        this.isLeaveDrawClear = isLeaveDrawClear;\r\n        this.setScrollClearValue = scrollClearValue;\r\n        this.itemMaxCountChanged = true;\r\n    }\r\n\r\n    /**\r\n     * 设置布局\r\n     * @param layoutType 布局类型：参考LayoutEnum枚举\r\n     * @param vGap 垂直间距\r\n     * @param hGap 水平间距\r\n     * @param col 列数：网格布局时用于一行最多几列\r\n     * @param paddingLeft 左边距\r\n     * @param paddingTop 顶边距\r\n     * */\r\n    public SetLayout(layoutType:number = LayoutEnum.VerticalLayout,vGap:number = 0,hGap:number = 0,col:number = 0,paddingLeft:number = 0,paddingTop:number = 0):void\r\n    {\r\n        this.layoutType = layoutType;\r\n        this.vGap = vGap;\r\n        this.hGap = hGap;\r\n        this.col = col;\r\n        this.paddingLeft = paddingLeft;\r\n        this.paddingTop = paddingTop;\r\n        \r\n        if (this.layoutType == LayoutEnum.VerticalLayout)//垂直布局\r\n            this.layoutFun = this.setVerticalLayout;\r\n        else if (this.layoutType == LayoutEnum.HorizontalLayout)//水平布局\r\n            this.layoutFun = this.setHorizontalLayout;\r\n        else if (this.layoutType == LayoutEnum.TileLayout)//网格布局\r\n            this.layoutFun = this.setTileLayout;\r\n    }\r\n\r\n    //子项创建时自定义函数(在创建子项时执行itemCreateFunction(itemRenderer))\r\n    public set ItemCreateFunction(val:Laya.Handler)\r\n    {\r\n        this.itemCreateFunction = val;\r\n        if (val.once) val.once = false;\r\n        // if (this.itemPoolDic && this.itemPoolDic[-1] && this.itemCreateFunction)//默认创建的子项派发创建事件\r\n        //     this.itemCreateFunction.runWith([this.itemPoolDic[-1]]);\r\n        let length:number = this.itemPools ? this.itemPools.length : 0;\r\n        if (length > 0 && this.itemCreateFunction)//默认创建的子项派发创建事件\r\n        {\r\n            let itemUI:SgsFlatPanelItemBase;\r\n            for (let i:number = 0; i < length; i++)\r\n            {\r\n                itemUI = this.itemPools[i];\r\n                if (itemUI && itemUI.RendererIndex == -1)\r\n                {\r\n                    this.itemCreateFunction.runWith([itemUI]);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置呈现器自定义函数(在呈现器的updateRenderer(index,rendererData,itemRenderer)之前执行)\r\n    public set ItemRendererFunction(val:Laya.Handler)\r\n    {\r\n        this.itemRendererFunction = val;\r\n        if (val.once) val.once = false;\r\n    }\r\n\r\n    //获取数据索引 - 根据数据属性匹配\r\n    public GetIndexByProperty(val:string | number,property:string):number\r\n    {\r\n        if (property == \"\" || !this.dataProvider || this.dataProvider.length <= 0)\r\n            return -1;\r\n        for (let i:number = 0; i < this.dataProvider.length; i++)\r\n        {\r\n            if (this.dataProvider[i][property] == val)\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public get DataProvider():Array<any> \r\n    {\r\n        return this.dataProvider;\r\n    }\r\n\r\n    /** 列表数据源 */\r\n    public set DataProvider(value:Array<any>)\r\n    {\r\n        Laya.timer.clear(this,this.onDelayLoacation);\r\n        this.dataProvider = value;\r\n        if (this.selectedIndexs)//重置数据后，重置选中状态\r\n            this.selectedIndexs.length = 0;\r\n        let length:number = this.dataProvider ? this.dataProvider.length : 0;\r\n        let itemUI:SgsFlatPanelItemBase;\r\n        if (length <= 0)//数据为空\r\n        {\r\n            for (let index in this.itemUIDic)\r\n            {\r\n                itemUI = this.itemUIDic[index];\r\n                itemUI.off(Laya.Event.CLICK,this,this.onItemUIClick);\r\n                itemUI.off(SgsFlatPanel.ITEM_CUSTOM_EVENT,this,this.onItemUICustomEvent);\r\n                this.contentSp.removeDrawChild(itemUI,false);\r\n                // this.itemPoolDic[itemUI.RendererIndex] = itemUI;\r\n                this.itemPools.push(itemUI);\r\n            }\r\n            this.itemUIDic = {};\r\n            this.updateLayerSize(0,0);\r\n            return;\r\n        }\r\n\r\n        if (this.layoutType == LayoutEnum.VerticalLayout)//垂直布局\r\n            this.updateLayerSize(this.width,this.paddingTop + this.itemHeight * length + this.vGap * (length - 1));\r\n        else if (this.layoutType == LayoutEnum.HorizontalLayout)//水平布局\r\n            this.updateLayerSize(this.paddingLeft + this.itemWidth * length + this.hGap * (length - 1),this.height);\r\n        else if (this.layoutType == LayoutEnum.TileLayout)//网格布局\r\n            this.updateLayerSize(this.width,this.paddingTop + Math.floor((length - 1) / this.col) * (this.itemHeight + this.vGap) + this.itemHeight);\r\n        \r\n        //数据变化后清空每个对象保存的数据，防止数据中部分属性变化但对象是同一个对象而导致无法更新ui\r\n        for (let index in this.itemUIDic)\r\n        {\r\n            itemUI = this.itemUIDic[index];\r\n            if (this.isLeaveDrawClear && itemUI.RendererData)\r\n                itemUI.LeaveDrawClear();\r\n            itemUI.ResetRendererData();\r\n        }\r\n        // for (let index in this.itemPoolDic)\r\n        // {\r\n        //     itemUI = this.itemPoolDic[index];\r\n        //     if (this.isLeaveDrawClear && itemUI.RendererData)\r\n        //         itemUI.LeaveDrawClear();\r\n        //     itemUI.ResetRendererData();\r\n        // }\r\n        if (this.itemPools.length > 0)\r\n        {\r\n            this.itemPools.forEach(element => {\r\n                if (this.isLeaveDrawClear && element.RendererData)\r\n                    element.LeaveDrawClear();\r\n                element.ResetRendererData();\r\n            });\r\n        }\r\n\r\n        this.startIndex = -1;\r\n        this.endIndex = -1;\r\n        this.updateRenderers();\r\n    }\r\n\r\n    //选中个数\r\n    public get SelectedCount():number\r\n    {\r\n        return this.selectedIndexs ? this.selectedIndexs.length : 0;\r\n    }\r\n\r\n    //选中索引列表\r\n    public get SelectedIndexs():Array<number> \r\n    {\r\n        return this.selectedIndexs;\r\n    }\r\n\r\n    //获取itemRenderer选中状态\r\n    public GetSelected(index:number):boolean\r\n    {\r\n        return this.selectedIndexs && this.selectedIndexs.indexOf(index) != -1 ? true : false;\r\n    }\r\n\r\n    //获取选中UI - 单选\r\n    public GetSelectedItemUI():SgsFlatPanelItemBase\r\n    {\r\n        if (!this.itemUIDic || !this.selectedIndexs || this.selectedIndexs.length <= 0)\r\n            return null;\r\n        return this.itemUIDic[this.selectedIndexs[0]];\r\n    }\r\n\r\n    //获取选中UI列表 - 多选\r\n    public GetSelectedItemUIs():Array<SgsFlatPanelItemBase>\r\n    {\r\n        if (!this.itemUIDic || !this.selectedIndexs || this.selectedIndexs.length <= 0)\r\n            return null;\r\n        let result:Array<SgsFlatPanelItemBase> = [];\r\n        let selectedLength:number = this.selectedIndexs.length;\r\n        let itemUI:SgsFlatPanelItemBase;\r\n        for (let i:number = 0; i < selectedLength; i++)\r\n        {\r\n            itemUI = this.itemUIDic[this.selectedIndexs[i]];\r\n            if (itemUI)\r\n                result.push(itemUI);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    //获取选中数据 - 单选：property表示返回数据中指定属性的选中列表\r\n    public GetSelectedData(property:string = \"\"):any\r\n    {\r\n        if (!this.dataProvider || this.dataProvider.length <= 0 || !this.selectedIndexs || this.selectedIndexs.length <= 0) \r\n            return null;\r\n        if (property)\r\n            return this.dataProvider[this.selectedIndexs[0]][property];\r\n        else\r\n            return this.dataProvider[this.selectedIndexs[0]];\r\n    }\r\n\r\n    //获取选中数据列表 - 多选：property表示返回数据中指定属性的选中列表\r\n    public GetSelectedDatas(property:string = \"\"):Array<any>\r\n    {\r\n        if (!this.dataProvider || this.dataProvider.length <= 0 || !this.selectedIndexs || this.selectedIndexs.length <= 0) \r\n            return null;\r\n        let selectedLength:number = this.selectedIndexs.length;\r\n        let dataLength:number = this.dataProvider.length;\r\n        let result:Array<any> = [];\r\n        let selectedIndex:number = -1;\r\n        let data:any;\r\n        for (let i:number = 0; i < selectedLength; i++)\r\n        {\r\n            selectedIndex = this.selectedIndexs[i];\r\n            data = selectedIndex >= 0 && selectedIndex < dataLength ? this.dataProvider[selectedIndex] : null;\r\n            if (data)\r\n            {\r\n                if (property)\r\n                    result.push(data[property]);\r\n                else\r\n                    result.push(data);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    //设置选中列表 - 根据数据属性匹配(整个列表覆盖)\r\n    public SetSelectedDatas(val:Array<string | number>,property:string):void\r\n    {\r\n        if (!val || val.length <= 0 || property == \"\" || !this.dataProvider || this.dataProvider.length <= 0)\r\n            return;\r\n        let index:number = -1;\r\n        val.forEach(element => {\r\n            index = this.GetIndexByProperty(element,property);\r\n            if (index >= 0)\r\n                this.SetSelected(index,true,true);\r\n        });\r\n    }\r\n\r\n    //设置选中列表(整个列表覆盖,null表示取消所有选中)\r\n    public set SelectedIndexs(val:Array<number>)\r\n    {\r\n        this.selectedIndexs = val;\r\n        if (this.itemUIDic)\r\n        {\r\n            let itemUI:SgsFlatPanelItemBase;\r\n            let selected:boolean = false;\r\n            for (let index in this.itemUIDic)\r\n            {\r\n                selected = this.selectedIndexs && this.selectedIndexs.indexOf(Number(index)) != -1 ? true : false;\r\n                itemUI = this.itemUIDic[index];\r\n                if (itemUI && itemUI.Selected != selected)\r\n                    itemUI.Selected = selected;\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置itemRenderer选中状态\r\n    public SetSelected(index:number,selected:boolean,multiSelect:boolean = false):void\r\n    {\r\n        if (!this.selectedIndexs)\r\n            this.selectedIndexs = [];\r\n        if (multiSelect)//多选\r\n        {\r\n            let itemUI:SgsFlatPanelItemBase;\r\n            let selectedIndex:number = this.selectedIndexs.indexOf(index);\r\n            if (selected)//选中\r\n            {\r\n                if (selectedIndex == -1)//不存在\r\n                {\r\n                    this.selectedIndexs.push(index);\r\n                    itemUI = this.itemUIDic ? this.itemUIDic[index] : null;\r\n                    if (itemUI && !itemUI.Selected) \r\n                        itemUI.Selected = true;\r\n                }\r\n            }\r\n            else//取消\r\n            {\r\n                if (selectedIndex != -1)//存在\r\n                {\r\n                    this.selectedIndexs.splice(selectedIndex,1);\r\n                    itemUI = this.itemUIDic ? this.itemUIDic[index] : null;\r\n                    if (itemUI && itemUI.Selected) \r\n                        itemUI.Selected = false;\r\n                }\r\n            }\r\n        }\r\n        else//单选\r\n        {\r\n            this.selectedIndexs.length = 0;\r\n            if (selected)\r\n                this.selectedIndexs.push(index);\r\n            this.SelectedIndexs = this.selectedIndexs;\r\n        }\r\n    }\r\n\r\n    //设置定位子项\r\n    public SetLocationData(val:string | number,property:string):void\r\n    {\r\n        if (!val || property == \"\" || !this.dataProvider || this.dataProvider.length <= 0)\r\n            return;\r\n        let index:number = this.GetIndexByProperty(val,property);\r\n        if (index <= -1) return;\r\n        if (!this.vScrollBar && !this.hScrollBar) return;\r\n        Laya.timer.clear(this,this.onDelayLoacation);\r\n        Laya.timer.frameOnce(2,this,this.onDelayLoacation,[index]);\r\n    }\r\n\r\n    private onDelayLoacation(index:number):void\r\n    {\r\n        let scrollX:number = this.hScrollBar ? this.hScrollBar.value : 0;\r\n        let scrollY:number = this.vScrollBar ? this.vScrollBar.value : 0;\r\n        if (this.layoutType == LayoutEnum.TileLayout)\r\n        {\r\n            if (this.vScrollBar)\r\n                scrollY = this.paddingTop + Math.floor(index / this.col) * (this.itemHeight + this.vGap);\r\n            else\r\n                scrollX = this.paddingLeft + Math.ceil(index % this.col) * (this.itemWidth + this.hGap);\r\n        }\r\n        else if (this.layoutType == LayoutEnum.VerticalLayout)//垂直布局\r\n            scrollY = this.paddingTop + index * (this.itemHeight + this.vGap);\r\n        else if (this.layoutType == LayoutEnum.HorizontalLayout)//水平布局\r\n            scrollX = this.paddingLeft + index * (this.itemWidth + this.hGap);\r\n        let vScrollBarMax:number = this.vScrollBar ? this.vScrollBar.max : 0;\r\n        let hScrollBarMax:number = this.hScrollBar ? this.hScrollBar.max : 0;\r\n        if (scrollX > hScrollBarMax) \r\n            scrollX = hScrollBarMax;\r\n        if (scrollY > vScrollBarMax)\r\n            scrollY = vScrollBarMax;\r\n        this.scrollTo(scrollX,scrollY);\r\n    }\r\n\r\n    //设置panel内容尺寸\r\n    public SetContentSize(width:number,height:number):void\r\n    {\r\n        this.updateLayerSize(width,height);\r\n    } \r\n\r\n    //当前渲染的子项列表\r\n    public get CurDrawRenderers():Array<SgsFlatPanelItemBase>\r\n    {\r\n        if (!this.itemUIDic) return null;\r\n        let result:Array<SgsFlatPanelItemBase> = [];\r\n        for (let index in this.itemUIDic)\r\n        {\r\n            result.push(this.itemUIDic[index]);\r\n        }\r\n        return result.sort(this.itemUIsSort);\r\n    }\r\n\r\n    //获取指定索引渲染子项(有可能返回null)\r\n    public GetDrawRenderer(index:number):SgsFlatPanelItemBase\r\n    {\r\n        if (this.itemUIDic && this.itemUIDic[index])\r\n            return this.itemUIDic[index];\r\n        return null;\r\n    }\r\n\r\n    protected updateRenderers():void//更新呈现器\r\n    {\r\n        let dataLength:number = this.dataProvider ? this.dataProvider.length : 0;\r\n        if (dataLength <= 0) return;\r\n        //计算itemRenderer数量\r\n        this.updateItemMaxCount();\r\n        let vStart:number = this.vScrollBar ? -this.paddingTop + this.vScrollBar.value : -this.paddingTop;\r\n        let hStart:number = this.hScrollBar ? -this.paddingLeft + this.hScrollBar.value : -this.paddingLeft;\r\n        this.drawRenderers(vStart,hStart);\r\n    }\r\n\r\n    protected drawRenderers(vStart:number,hStart:number):void\r\n    {\r\n        let dataLength:number = this.dataProvider ? this.dataProvider.length : 0;\r\n        //计算开始、结束索引\r\n        let startIndex:number = -1;\r\n        let endIndex:number = -1;\r\n        if (this.layoutType == LayoutEnum.VerticalLayout)//垂直布局\r\n            startIndex = Math.floor((vStart - this.scrollClearValue) / (this.itemHeight + this.vGap));\r\n        else if (this.layoutType == LayoutEnum.HorizontalLayout)//水平布局\r\n            startIndex = Math.floor((hStart - this.scrollClearValue)/ (this.itemWidth + this.hGap));\r\n        else if (this.layoutType == LayoutEnum.TileLayout)//网格布局\r\n            startIndex = Math.floor((vStart - this.scrollClearValue) / (this.itemHeight + this.vGap)) * this.col;\r\n        if (startIndex < 0) startIndex = 0;\r\n        endIndex = startIndex + this.itemMaxCount - 1;\r\n        if (endIndex >= dataLength) endIndex = dataLength - 1;\r\n        if (startIndex == this.startIndex && endIndex == this.endIndex) return;\r\n        this.startIndex = startIndex;\r\n        this.endIndex = endIndex;\r\n        //找到舞台和对象池中不在本次索引范围内的对象\r\n        this.invalidItemUIs.length = 0;\r\n        // this.invalidPools.length = 0;\r\n        let itemUI:SgsFlatPanelItemBase;\r\n        for (let index in this.itemUIDic)\r\n        {\r\n            itemUI = this.itemUIDic[index];\r\n            if (itemUI.RendererIndex < startIndex || itemUI.RendererIndex > endIndex)\r\n                this.invalidItemUIs.push(itemUI);\r\n        }\r\n        // for (let index in this.itemPoolDic)\r\n        // {\r\n        //     itemUI = this.itemPoolDic[index];\r\n        //     if (itemUI.RendererIndex < startIndex || itemUI.RendererIndex > endIndex)\r\n        //         this.invalidPools.push(itemUI);\r\n        // }\r\n        //更新可视区域\r\n        let itemData:any;\r\n        let selected:boolean = false;\r\n        for (let index:number = startIndex; index <= endIndex; index++)\r\n        {\r\n            itemData = this.dataProvider[index];\r\n            itemUI = this.itemUIDic[index];\r\n            if (itemUI)//在舞台上找到对应索引的ui\r\n            {\r\n            }\r\n            else if (this.invalidItemUIs.length > 0)//舞台上有已失效的ui\r\n            {\r\n                itemUI = this.invalidItemUIs.shift();\r\n                delete this.itemUIDic[itemUI.RendererIndex];\r\n                this.itemUIDic[index] = itemUI;\r\n            }\r\n            else\r\n            {\r\n                // itemUI = this.itemPoolDic[index];\r\n                // if (itemUI)//从对象池的找到对应索引的ui\r\n                // {\r\n                //     delete this.itemPoolDic[index];\r\n                // }\r\n                // else if (this.invalidPools.length > 0)//对象池中有失效的ui\r\n                // {\r\n                //     itemUI = this.invalidPools.shift();\r\n                //     delete this.itemPoolDic[itemUI.RendererIndex];\r\n                // }\r\n                if (this.itemPools.length > 0)\r\n                {\r\n                    itemUI = this.itemPools.shift();\r\n                }\r\n                else\r\n                {\r\n                    itemUI = new this.itemRenderer(this.otherRenders);\r\n                    if (this.itemCreateFunction)//派发创建事件\r\n                        this.itemCreateFunction.runWith([itemUI]);\r\n                }\r\n                this.itemUIDic[index] = itemUI;\r\n                this.contentSp.addDrawChild(itemUI);\r\n            }\r\n            this.layoutFun(index,itemUI);\r\n            if (this.isLeaveDrawClear && itemUI.RendererData && itemUI.RendererData != itemData)//重新赋值前回收之前的资源\r\n                itemUI.LeaveDrawClear();\r\n            itemUI.RendererIndex = index;\r\n            itemUI.ItemRendererFunction = this.itemRendererFunction;\r\n            itemUI.ParentPanel = this;\r\n            itemUI.RendererData = itemData;\r\n            selected = this.selectedIndexs && this.selectedIndexs.indexOf(Number(index)) != -1 ? true : false;\r\n            if (itemUI.Selected != selected)\r\n                itemUI.Selected = selected;\r\n            itemUI.on(Laya.Event.CLICK,this,this.onItemUIClick);\r\n            itemUI.on(SgsFlatPanel.ITEM_CUSTOM_EVENT,this,this.onItemUICustomEvent);\r\n        }\r\n\r\n        let invalidLength:number = this.invalidItemUIs.length;\r\n        if (invalidLength)//舞台上多余ui\r\n        {\r\n            for (let i:number = 0; i < invalidLength; i++)\r\n            {\r\n                itemUI = this.invalidItemUIs[i];\r\n                delete this.itemUIDic[itemUI.RendererIndex];\r\n                itemUI.off(Laya.Event.CLICK,this,this.onItemUIClick);\r\n                itemUI.off(SgsFlatPanel.ITEM_CUSTOM_EVENT,this,this.onItemUICustomEvent);\r\n                this.contentSp.removeDrawChild(itemUI,false);\r\n                // this.itemPoolDic[itemUI.RendererIndex] = itemUI;\r\n                this.itemPools.push(itemUI);\r\n            }\r\n        }\r\n        this.invalidItemUIs.length = 0;\r\n        // this.invalidPools.length = 0;\r\n    }\r\n    \r\n    protected setVerticalLayout(index:number,itemUI:SgsFlatPanelItemBase):void\r\n    {\r\n        itemUI.pos(this.paddingLeft,this.paddingTop + index * (this.itemHeight + this.vGap));\r\n    }\r\n\r\n    protected setHorizontalLayout(index:number,itemUI:SgsFlatPanelItemBase):void\r\n    {\r\n        itemUI.pos(this.paddingLeft + index * (this.itemWidth + this.hGap),this.paddingTop);\r\n    }\r\n\r\n    protected setTileLayout(index:number,itemUI:SgsFlatPanelItemBase):void\r\n    {\r\n        itemUI.pos(this.paddingLeft + Math.ceil(index % this.col) * (this.itemWidth + this.hGap),this.paddingTop + Math.floor(index / this.col) * (this.itemHeight + this.vGap));\r\n    }\r\n\r\n    protected updateItemMaxCount():void//更新呈现器最大个数\r\n    {\r\n        if (!this.itemMaxCountChanged) return;\r\n        this.itemMaxCountChanged = false;\r\n        this.scrollClearValue = 0;\r\n        if (this.layoutType == LayoutEnum.VerticalLayout)//垂直布局\r\n        {\r\n            if (this.isLeaveDrawClear)\r\n            {\r\n                this.scrollClearValue = this.setScrollClearValue ? this.setScrollClearValue : this.height;\r\n                this.itemMaxCount = Math.ceil((this.height + this.scrollClearValue * 2) / (this.itemHeight + this.vGap));\r\n            }\r\n            else\r\n                this.itemMaxCount = Math.ceil(this.height / (this.itemHeight + this.vGap)) + 1;\r\n        }\r\n        else if (this.layoutType == LayoutEnum.HorizontalLayout)//水平布局\r\n        {\r\n            if (this.isLeaveDrawClear)\r\n            {\r\n                this.scrollClearValue = this.setScrollClearValue ? this.setScrollClearValue : this.width;\r\n                this.itemMaxCount = Math.ceil((this.width + this.scrollClearValue * 2) / (this.itemWidth + this.hGap));\r\n            } \r\n            else\r\n                this.itemMaxCount = Math.ceil(this.width / (this.itemWidth + this.hGap)) + 1;\r\n        }\r\n        else if (this.layoutType == LayoutEnum.TileLayout)//网格布局\r\n        {\r\n            if (this.isLeaveDrawClear)\r\n            {\r\n                this.scrollClearValue = this.setScrollClearValue ? this.setScrollClearValue : this.height;\r\n                this.itemMaxCount = this.col * Math.ceil((this.height + this.scrollClearValue * 2) / (this.itemHeight + this.vGap));\r\n            }\r\n            else\r\n                this.itemMaxCount = this.col * (Math.ceil(this.height / (this.itemHeight + this.vGap)) + 1);\r\n        } \r\n    }\r\n\r\n    protected updateLayerSize(width:number,height:number,isDelayRefresh:boolean = true):void//更新层级尺寸：确保滚动条正确\r\n    {\r\n        //仅接受事件的层设置尺寸，若没有接受事件的层 则默认contentSp设置尺寸(总要有一个层设置尺寸，否则滚动区域无法滚动)\r\n        let sizeSp:SgsSprite;\r\n        if (this.eventLayerIndex <= -1)\r\n        {\r\n            this.contentSp.size(width,height);\r\n            sizeSp = this.contentSp;\r\n        }\r\n        if (this.otherRenders)\r\n        {\r\n            for (let i:number = 0; i < this.otherRenders.length; i++)\r\n            {\r\n                if (this.eventLayerIndex == i)\r\n                {\r\n                    this.otherRenders[i].size(width,height);\r\n                    sizeSp = this.otherRenders[i];\r\n                }\r\n            }\r\n        }\r\n        if (isDelayRefresh)\r\n        {\r\n            if (sizeSp)\r\n                sizeSp.event(Laya.Event.RESIZE,this.contentSp);//派发尺寸变化事件，让panel重新计算滚动\r\n        } \r\n        else\r\n            this.refresh();\r\n    }\r\n\r\n    protected onScrollBarChange(scrollBar:Laya.ScrollBar):void\r\n    {\r\n        super.onScrollBarChange(scrollBar);\r\n\r\n        if (!this.scrollStopUpdate)//滚动时停止更新\r\n            this.updateRenderers();\r\n\r\n        this.event(\"scrollChange\");\r\n    }\r\n\r\n    protected onItemUIClick(event:SgsFlatPanelItemBase):void\r\n    {\r\n        this.event(SgsFlatPanel.ITEM_CLICK,[event.RendererIndex,event.RendererData,event]);\r\n    }\r\n\r\n    protected onItemUICustomEvent(event:SgsFlatPanelItemBase,customData:any):void\r\n    {\r\n        this.event(SgsFlatPanel.ITEM_CUSTOM_EVENT,[event.RendererIndex,event.RendererData,event,customData]);\r\n    }\r\n\r\n    protected itemUIsSort(a:SgsFlatPanelItemBase,b:SgsFlatPanelItemBase):number\r\n    {\r\n        return a.RendererIndex - b.RendererIndex;\r\n    }\r\n\r\n    public UpdateItemLoadStatus(rendererIndex:number,loadStatus:number):void\r\n    {\r\n        if (this.itemLoadStatusDic)\r\n        {\r\n            if (loadStatus == 0)\r\n                this.itemLoadStatusDic.del(rendererIndex);\r\n            else\r\n                this.itemLoadStatusDic.addNumberKey(rendererIndex,loadStatus);\r\n        }\r\n    }\r\n\r\n    public GetItemLoadStatus(rendererIndex:number):number\r\n    {\r\n        if (this.itemLoadStatusDic && this.itemLoadStatusDic.has(rendererIndex))\r\n            return this.itemLoadStatusDic.getNumberKey(rendererIndex);\r\n        return 0;\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        Laya.timer.clear(this,this.onDelayLoacation);\r\n        // if (this.itemPoolDic)\r\n        // {\r\n        //     let itemUI:SgsFlatPanelItemBase;\r\n        //     for (let index in this.itemPoolDic)\r\n        //     {\r\n        //         itemUI = this.itemPoolDic[index];\r\n        //         this.contentSp.removeDrawChild(itemUI,true);\r\n        //     }\r\n        //     this.itemPoolDic = null;\r\n        // }\r\n        if (this.itemPools)\r\n        {\r\n            this.itemPools.forEach(element => {\r\n                this.contentSp.removeDrawChild(element,true);\r\n            });\r\n            this.itemPools = null;\r\n        }\r\n        super.destroy();\r\n        this.itemUIDic = null;\r\n        this.itemRenderer = null;\r\n        this.otherRenders = null;\r\n        this.invalidItemUIs = null;\r\n        // this.invalidPools = null;\r\n        this.layoutFun = null;\r\n        this.itemCreateFunction = null;\r\n        this.itemRendererFunction = null;\r\n        this.dataProvider = null;\r\n        this.selectedIndexs = null;\r\n        this.itemLoadStatusDic = null;\r\n    }\r\n}","import SgsSprite from \"./SgsSprite\";\r\nimport Global from \"../../../Global\";\r\nimport EventExpand from \"../../../event/EventExpand\";\r\nimport TipsManager from \"../../../mode/base/TipsManager\";\r\n\r\n/*\r\n* 绘制纹理：支持缩放、尺寸、九宫格\r\n*/\r\nexport default class SgsTexture extends Laya.EventDispatcher\r\n{\r\n    /**空纹理*/\r\n    public static EmptyTexture:Laya.Texture;\r\n\r\n    public name:string = \"\";\r\n    /**父管理节点*/\r\n    public parentContainer:any;\r\n    /**渲染器*/\r\n    protected render:SgsSprite;\r\n\r\n    protected _x:number = 0;\r\n    protected _y:number = 0;\r\n    protected _width:number = 0;\r\n    protected _height:number = 0;\r\n    protected _scaleX:number = 1;\r\n    protected _scaleY:number = 1;\r\n    protected _matrix:Laya.Matrix;\r\n    protected _alpha:number = 1;\r\n    protected _color:string = \"\";\r\n    protected _gray:boolean = false;\r\n    protected _sizeGrid:Array<string>;\r\n    protected _texture:Laya.Texture;\r\n    protected _visible:boolean = true;\r\n    protected _mouseEnabled:boolean = false;\r\n    protected _globalPoint:Laya.Point;\r\n    protected _destroyed:boolean = false;\r\n\r\n    protected gridTextures:Array<Laya.Texture>;\r\n    protected cmds:Array<any> = null;//[0:texture,1:x,2:y,3:width,4:height,5:matrix,6:alpha]\r\n\r\n    protected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected toolTip:any = \"\";\r\n    // protected buttonMode:boolean = false;//鼠标手型\r\n\r\n    public mouseOffsetX:number = 0;\r\n    public mouseOffsetY:number = 0;\r\n    \r\n    constructor(texture:Laya.Texture = null)\r\n    {\r\n        super();\r\n        \r\n        this.texture = texture ? texture : SgsTexture.EmptyTexture;\r\n    }    \r\n    \r\n    public get Render():SgsSprite\r\n    {\r\n        return this.render;\r\n    }\r\n\r\n    public set Cmds(value:Array<any>)\r\n    {\r\n        this.cmds = value;\r\n    }\r\n\r\n    public get Cmds():Array<any>\r\n    {\r\n        return this.cmds;\r\n    }\r\n\r\n    public set x(value:number)\r\n    {\r\n        if (this._x == value) return;\r\n        this._x = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get x():number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    public set y(value:number)\r\n    {\r\n        if (this._y == value) return;\r\n        this._y = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get y():number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    public pos(x:number,y:number):void\r\n    {\r\n        this.x = x >> 0;\r\n        this.y = y >> 0;\r\n    }\r\n\r\n    public get renderX():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderX + this.x * this.parentContainer.renderScaleX : this.x;\r\n    }\r\n\r\n    public get renderY():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderY + this.y * this.parentContainer.renderScaleY : this.y;\r\n    }\r\n\r\n    public resetPos():void\r\n    {\r\n        if (this.cmds) this.drawTexture();\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n        if (this._width == value) return;\r\n        this._width = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        if (this._width != 0) return this._width;\r\n        if (this._texture) return this._texture.width;\r\n        return 0;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n        if (this._height == value) return;\r\n        this._height = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        if (this._height != 0) return this._height;\r\n        if (this._texture) return this._texture.height;\r\n        return 0;\r\n    }\r\n\r\n    public size(width:number,height:number):void\r\n    {\r\n        let isChange:boolean = false;\r\n        if (this._width != width) {\r\n            this._width = width;\r\n            isChange = true;\r\n        }   \r\n        if (this._height != height) {\r\n             this._height = height;\r\n             isChange = true;\r\n        }\r\n        if (isChange)\r\n            this.invalidateUpdate();\r\n    } \r\n\r\n    public set scaleX(value:number)\r\n    {\r\n        if (this._scaleX == value) return;\r\n        this._scaleX = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get scaleX():number\r\n    {\r\n        return this._scaleX;\r\n    }\r\n\r\n    public set scaleY(value:number)\r\n    {\r\n        if (this._scaleY == value) return;\r\n        this._scaleY = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get scaleY():number\r\n    {\r\n        return this._scaleY;\r\n    }\r\n\r\n    public set scale(value:number)\r\n    {\r\n        this.scaleX = value;\r\n        this.scaleY = value;\r\n    }\r\n\r\n    public get renderScaleX():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderScaleX * this._scaleX : this._scaleX;\r\n    }\r\n\r\n    public get renderScaleY():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderScaleY * this._scaleY : this._scaleY;\r\n    }\r\n\r\n    public resetScale():void\r\n    {\r\n        if (this.cmds) this.drawTexture();\r\n    }\r\n\r\n    public get renderWidth():number\r\n    {\r\n        return this.width * this.renderScaleX;\r\n    }\r\n\r\n    public get renderHeight():number\r\n    {\r\n        return this.height * this.renderScaleY;\r\n    }\r\n\r\n    /**九宫格,数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。*/\r\n    public set sizeGrid(value:string)\r\n    {\r\n        if (value && value.length > 0)\r\n        {\r\n            this._sizeGrid = value.split(\",\");\r\n            if (this._sizeGrid && this._sizeGrid.length >= 4)\r\n            {\r\n                //九宫格中出现0会导致部分区域没有纹理而出现混乱\r\n                if (this._sizeGrid[0] == \"0\") this._sizeGrid[0] = \"1\";\r\n                if (this._sizeGrid[1] == \"0\") this._sizeGrid[1] = \"1\";\r\n                if (this._sizeGrid[2] == \"0\") this._sizeGrid[2] = \"1\";\r\n                if (this._sizeGrid[3] == \"0\") this._sizeGrid[3] = \"1\";\r\n            }\r\n            this.changeGridTextures();\r\n        }\r\n        else\r\n        {\r\n            this._sizeGrid = null;\r\n            this.clearGridTextures();\r\n        }\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public set texture(value:Laya.Texture)\r\n    {\r\n        if (!value)//texture不能为空，引擎底层报错\r\n            value = SgsTexture.EmptyTexture;\r\n        if (this._texture == value) return;\r\n        this._texture = value;\r\n        this.changeGridTextures();\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get texture():Laya.Texture\r\n    {\r\n        return this._texture;\r\n    }\r\n\r\n    public get visible():boolean\r\n    {\r\n        return this._visible;\r\n    }\r\n\r\n    public set visible(value:boolean)\r\n    {\r\n        if (this._visible == value) return;\r\n        this._visible = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get renderVisible():boolean\r\n    {\r\n        if (this.parentContainer && !this.parentContainer.renderVisible) return false;\r\n        return this._visible;\r\n    }\r\n\r\n    public resetVisible():void\r\n    {\r\n        if (this.cmds) this.drawTexture();\r\n    }\r\n\r\n    public get mouseEnabled():boolean\r\n    {\r\n        return this._mouseEnabled;\r\n    }\r\n\r\n    public set mouseEnabled(value:boolean)\r\n    {\r\n        this._mouseEnabled = value;\r\n    }\r\n\r\n    public set matrix(value:Laya.Matrix)\r\n    {\r\n        if (this._matrix == value) return;\r\n        this._matrix = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get matrix():Laya.Matrix\r\n    {\r\n        return this._matrix;\r\n    }\r\n\r\n    public set alpha(value:number)\r\n    {\r\n        if (this._alpha == value) return;\r\n        this._alpha = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get alpha():number\r\n    {\r\n        return this._alpha;\r\n    }\r\n\r\n    public set color(value:string)//颜色滤镜-颜色\r\n    {\r\n        if (this._color == value) return;\r\n        this._color = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get color():string\r\n    {\r\n        return this._color;\r\n    }\r\n\r\n    public set gray(value:boolean)//灰白滤镜\r\n    {\r\n        if (this._gray == value) return;\r\n        this._gray = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get gray():boolean\r\n    {\r\n        return this._gray;\r\n    }\r\n\r\n    public get textureWidth():number\r\n    {\r\n        if (this._texture) return this._texture.width;\r\n        return 0;\r\n    }\r\n\r\n    public get textureHeight():number\r\n    {\r\n        if (this._texture) return this._texture.height;\r\n        return 0;\r\n    }\r\n\r\n    /**是否已绘制*/\r\n    public get drawed():boolean\r\n    {\r\n        return this.cmds ? true : false;\r\n    }\r\n\r\n    /**是否在显示列表中显示*/\r\n    public get displayedInStage():boolean\r\n    {\r\n        if (!this.drawed) return false;\r\n        if (!this.render) return false;\r\n        return this.render.displayedInStage;\r\n    }\r\n\r\n    /**是否已destroy*/\r\n    public get destroyed():boolean\r\n    {\r\n        return this._destroyed;\r\n    }\r\n\r\n    /**相对舞台坐标*/\r\n    public get globalPoint():Laya.Point\r\n    {\r\n        if (!this._globalPoint)\r\n            this._globalPoint = new Laya.Point();\r\n        if (this.render && this.drawed)\r\n        {\r\n            this._globalPoint.setTo(this.renderX,this.renderY);\r\n            this._globalPoint = this.render.localToGlobal(this._globalPoint);\r\n        }\r\n        else\r\n        {\r\n            this._globalPoint.setTo(0,0);\r\n        }\r\n        return this._globalPoint;\r\n    }\r\n\r\n    /**开始索引*/\r\n    public get startIndex():number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        return this.getCmdIndex(this.cmds[0]);\r\n    }\r\n\r\n    /**结束索引*/\r\n    public get endIndex():number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        return this.getCmdIndex(this.cmds[this.cmds.length - 1]);\r\n    }\r\n\r\n    /**设置索引*/\r\n    public set index(index:number)\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (!graphicsCmds || graphicsCmds.length <= 0) return;//本渲染器仅有一个或没有绘制子项(仅有一个时在_one中)\r\n        graphicsCmds.splice(this.startIndex,this.cmds.length);\r\n        for (let i:number = 0; i < this.cmds.length; i++)\r\n        {\r\n            graphicsCmds.splice(index,0,this.cmds[i]);\r\n            index ++;\r\n        }\r\n    }\r\n\r\n    /**绘制*/\r\n    public draw(sgsSprite:SgsSprite,index:number = -1):void\r\n    {\r\n        this.render = sgsSprite;\r\n        if (!this._texture) return;\r\n        this.drawTexture(index);\r\n    }\r\n\r\n    /**清理*/\r\n    public clear(destroy:boolean = true):void\r\n    {\r\n        if (this.render && this.cmds)\r\n        {\r\n            let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n            let cmd:any;\r\n            let index:number = -1;\r\n            while (this.cmds.length > 0)\r\n            {\r\n                cmd = this.cmds.shift();\r\n                if (graphicsCmds && graphicsCmds.length > 0)//不止一个绘制子项\r\n                {\r\n                    index = graphicsCmds.indexOf(cmd);\r\n                    if (index > -1)\r\n                    {\r\n                        graphicsCmds.splice(index,1);\r\n                        cmd.recover();\r\n                        if (!graphicsCmds || graphicsCmds.length <= 0)//渲染器上已无任何绘制子项\r\n                            this.render.graphics.clear();//清理_one 防止再次渲染时又被渲染上去\r\n                    }\r\n                }\r\n                else if (this.render.graphics[\"_one\"] && this.render.graphics[\"_one\"] === cmd)//渲染器上仅绘制一个纹理且是我的cmd\r\n                    this.render.graphics.clear();\r\n            }\r\n            this.render = null;\r\n            this.cmds = null;\r\n        }\r\n        if (destroy)\r\n        {\r\n            this._destroyed = true;\r\n            this.parentContainer = null;\r\n            this._texture = null;\r\n            this.clearGridTextures();\r\n            Laya.timer.clear(this,this.onLongTimer);\r\n            this.removeSelfEvent();\r\n            this.ToolTip = null;\r\n            this.offAll();\r\n        }\r\n    }\r\n\r\n    /**碰撞 传入坐标为相对渲染器SgsSprite坐标*/\r\n    public contains(x:number,y:number):boolean\r\n    {\r\n        if (this.renderX <= x && this.renderY <= y && this.renderX + this.renderWidth >= x && this.renderY + this.renderHeight >= y)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    protected update():void\r\n    {\r\n        this.invalidateUpdateFlag = false;\r\n        if (!this.render || !this._texture) return;\r\n        this.drawTexture();\r\n    }\r\n\r\n    protected drawTexture(index:number = -1):void//绘制纹理\r\n    {\r\n        let cmdsLength:number = this.cmds ? this.cmds.length : 0;\r\n        if (this._sizeGrid && this._sizeGrid.length >= 4)\r\n        {\r\n            var top:number = parseInt(this._sizeGrid[0]);\r\n            var right:number = parseInt(this._sizeGrid[1]);\r\n            var bottom:number = parseInt(this._sizeGrid[2]);\r\n            var left:number = parseInt(this._sizeGrid[3]);\r\n        }\r\n        if (!this.gridTextures || this.gridTextures.length < 9//无九宫格纹理\r\n        || this._width == 0 || this._height == 0//未设置宽高\r\n        || this._width < left + right || this._height < top + bottom)//设置的宽高比九宫格小\r\n        {\r\n            this.delDrawCmd(1);//删除上次可能渲染的九宫格命令，保留一个渲染命令\r\n            cmdsLength = this.cmds ? this.cmds.length : 0;\r\n            if (cmdsLength > 0)\r\n                this.updateSingleTexture(this.cmds[0],this._texture,this.renderX,this.renderY,this.width,this.height);\r\n            else\r\n                this.drawSingleTexture(this._texture,this.renderX,this.renderY,this.width,this.height,index);\r\n            return;\r\n        }\r\n        if (cmdsLength <= 0)//首次绘制:绘制命令索引使用外部传入的index\r\n        {\r\n            if (index == -1)//外部传入的索引为-1表示增加到最后\r\n            {\r\n                let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n                if (graphicsCmds && graphicsCmds.length > 0) index = graphicsCmds.length;\r\n                else if (this.render.graphics[\"_one\"]) index = 1;\r\n                else index = 0;\r\n            }  \r\n        }\r\n        else//更新绘制:新增命令索引使用本纹理最后一个渲染命令索引+1\r\n        {\r\n            let lastIndex:number = this.getCmdIndex(this.cmds[this.cmds.length - 1]);\r\n            index = lastIndex + 1;\r\n        }\r\n        index = this.drawGrid(0,this.renderX + left * this.renderScaleX,this.renderY,this._width - left - right,top,index);\r\n        index = this.drawGrid(1,this.renderX + (this._width - right) * this.renderScaleX,this.renderY,right,top,index);\r\n        index = this.drawGrid(2,this.renderX + (this._width - right) * this.renderScaleX,this.renderY + top * this.renderScaleY,right,this._height - top - bottom,index);\r\n        index = this.drawGrid(3,this.renderX + (this._width - right) * this.renderScaleX,this.renderY + (this._height - bottom) * this.renderScaleY,right,bottom,index);\r\n        index = this.drawGrid(4,this.renderX + left * this.renderScaleX,this.renderY + (this._height - bottom) * this.renderScaleY,this._width - left - right,bottom,index);\r\n        index = this.drawGrid(5,this.renderX,this.renderY + (this._height - bottom) * this.renderScaleY,left,bottom,index);\r\n        index = this.drawGrid(6,this.renderX,this.renderY + top * this.renderScaleY,left,this._height - top - bottom,index);\r\n        index = this.drawGrid(7,this.renderX,this.renderY,left,top,index);\r\n        index = this.drawGrid(8,this.renderX + left * this.renderScaleX,this.renderY + top * this.renderScaleY,this._width - left - right,this._height - top - bottom,index);\r\n    }\r\n\r\n    protected drawGrid(gridNumber:number,x:number,y:number,width:number,height:number,index:number):number//绘制格子：用于九宫格绘制\r\n    {\r\n        let cmdsLength:number = this.cmds ? this.cmds.length : 0;\r\n        if (cmdsLength >= gridNumber + 1)\r\n        {\r\n            this.updateSingleTexture(this.cmds[gridNumber],this.gridTextures[gridNumber],x,y,width,height);\r\n            return index;\r\n        }\r\n        else\r\n        {\r\n            this.drawSingleTexture(this.gridTextures[gridNumber],x,y,width,height,index);\r\n            return index + 1;\r\n        }\r\n    }\r\n\r\n    protected drawSingleTexture(texture:Laya.Texture,x:number,y:number,width:number,height:number,index:number = -1):void//绘制单个纹理\r\n    {\r\n        let drwaAlpha:number = Math.max(this._alpha,0.01);//首次绘制时透明度小于0.01将无法绘制\r\n        let drawCmd = this.render.graphics.drawTexture(texture,x,y,this.getDrawSize(width,true),this.getDrawSize(height,false),this._matrix,drwaAlpha,this._color,null,null,this._gray);\r\n        if (!drawCmd) return;//本次cmd没有绘制成功：纹理不存在、纹理被destroy或没有bitmap、透明度<0.01、\r\n        if (!this.cmds) this.cmds = [];\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (!graphicsCmds || graphicsCmds.length <= 0)//本渲染器上第一个绘制内容\r\n        {\r\n            this.cmds.push(this.render.graphics[\"_one\"]);\r\n        }\r\n        else\r\n        {\r\n            this.cmds.push(graphicsCmds[graphicsCmds.length - 1]);\r\n            if (index >= 0 && index < graphicsCmds.length)//调整索引\r\n            {\r\n                let cmd:any = graphicsCmds.pop();\r\n                graphicsCmds.splice(index,0,cmd);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected updateSingleTexture(cmd:Laya.DrawTextureCmd,texture:Laya.Texture,x:number,y:number,width:number,height:number):void//更新单个纹理\r\n    {\r\n        if (!cmd || !texture) return;\r\n\r\n        let oldColor = cmd.color;\r\n        let oldGray = cmd.gray;\r\n\r\n        if (cmd.texture) cmd.texture[\"_removeReference\"]();\r\n        cmd.texture = texture;\r\n        cmd.texture[\"_addReference\"]();\r\n        cmd.x = x;\r\n        cmd.y = y;\r\n        cmd.width = this.getDrawSize(width,true);\r\n        cmd.height = this.getDrawSize(height,false);\r\n        cmd.matrix = this._matrix;\r\n        cmd.alpha = this._alpha;\r\n        cmd.color = this._color;\r\n        cmd.gray = this._gray;\r\n\r\n        if (cmd.color || cmd.gray)//需要颜色滤镜或灰掉\r\n        {\r\n            if (!cmd.colorFlt)\r\n                cmd.colorFlt = new Laya.ColorFilter();\r\n            if (cmd.color)//使用颜色滤镜\r\n            {\r\n                if (oldColor != cmd.color)\r\n                    cmd.colorFlt.setColor(cmd.color);\r\n            }\r\n            else if (oldGray != cmd.gray)//灰掉\r\n                cmd.colorFlt.gray();\r\n        }\r\n        else\r\n            cmd.colorFlt = null;\r\n    }\r\n\r\n    protected delDrawCmd(retainCount:number):void//删除渲染命令(用于删除多余纹理命令，参数为：要保留的个数)\r\n    {\r\n        if (!this.render || !this.render.graphics.cmds || !this.cmds) return;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        let cmd:any;\r\n        while (this.cmds.length > retainCount)\r\n        {\r\n            cmd = this.cmds.pop();\r\n            if (graphicsCmds && graphicsCmds.length > 0)\r\n            {\r\n                let index:number = graphicsCmds.indexOf(cmd);\r\n                if (index > -1) \r\n                {\r\n                    graphicsCmds.splice(index,1);\r\n                    cmd.recover();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected getDrawSize(value:number,isWidth:boolean):number//获取绘制尺寸：用于处理显示掩藏和尺寸为0的特殊情况\r\n    {\r\n        //0在绘制时会以纹理原始尺寸绘制：故设置成0.01\r\n        if (!this.renderVisible || this._texture === SgsTexture.EmptyTexture) return 0.01;\r\n        let drawSize:number = isWidth ? value * this.renderScaleX : value * this.renderScaleY;\r\n        if (drawSize == 0) return 0.01;\r\n        return drawSize;\r\n    }\r\n    \r\n    protected changeGridTextures():void//纹理变化：重置九宫格纹理\r\n    {\r\n        this.clearGridTextures();\r\n        \r\n        if (!this._texture) return;\r\n        if (!this._sizeGrid || this._sizeGrid.length < 4) return;\r\n        let sw:number = this._texture.width;\r\n        let sh:number = this._texture.height;\r\n        let top:number = parseInt(this._sizeGrid[0]);\r\n        let right:number = parseInt(this._sizeGrid[1]);\r\n        let bottom:number = parseInt(this._sizeGrid[2]);\r\n        let left:number = parseInt(this._sizeGrid[3]);\r\n        if (top + bottom >= sh || left + right >= sw) return;//九宫格异常\r\n        if (!this.gridTextures) this.gridTextures = [];\r\n        //九宫格编号规则\r\n        //8,1,2\r\n        //7,9,3\r\n        //6,5,4    \r\n        this.gridTextures.push(this.createTextrue(left,0,sw - left - right,top));//1\r\n        this.gridTextures.push(this.createTextrue(sw - right,0,right,top));//2\r\n        this.gridTextures.push(this.createTextrue(sw - right,top,right,sh - top - bottom));//3\r\n        this.gridTextures.push(this.createTextrue(sw - right,sh - bottom,right,bottom));//4\r\n        this.gridTextures.push(this.createTextrue(left,sh - bottom,sw - left - right,bottom));//5\r\n        this.gridTextures.push(this.createTextrue(0,sh - bottom,left,bottom));//6\r\n        this.gridTextures.push(this.createTextrue(0,top,left,sh - top - bottom));//7\r\n        this.gridTextures.push(this.createTextrue(0,0,left,top));//8\r\n        this.gridTextures.push(this.createTextrue(left,top,sw - left - right,sh - top - bottom));//9\r\n    }\r\n\r\n    protected clearGridTextures():void\r\n    {\r\n        if (!this.gridTextures) return;\r\n        let texture:Laya.Texture;\r\n        while (this.gridTextures.length > 0)\r\n        {\r\n            texture = this.gridTextures.shift();\r\n            texture = null;\r\n        }\r\n        this.gridTextures = null;\r\n    }\r\n\r\n    protected getCmdIndex(cmd:any):number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        let index:number = -1;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (graphicsCmds && graphicsCmds.length > 0)\r\n            index = graphicsCmds.indexOf(cmd);\r\n        else \r\n            if (this.render.graphics[\"_one\"] && this.render.graphics[\"_one\"] === cmd) index = 0;\r\n        return index;\r\n    }\r\n\r\n    private invalidateUpdateFlag:boolean = false;\r\n    protected invalidateUpdate():void\r\n    {\r\n        if (!this.render) return;\r\n        if (this.drawed)\r\n        {\r\n            if (!this.invalidateUpdateFlag)\r\n            {\r\n                this.invalidateUpdateFlag = true;\r\n                Laya.timer.callLater(this,this.update);\r\n            }\r\n        }\r\n        else//未绘制时立即绘制，防止延后绘制出现层级异常\r\n        {\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    private createTextrue(x:number,y:number,width:number,height:number):Laya.Texture\r\n    {\r\n        if (!this._texture) return null;\r\n        let texture:Laya.Texture;\r\n        texture = Laya.Texture.createFromTexture(this._texture,x,y,width,height);\r\n        return texture;\r\n    }\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n        this.tipTriggerType = val;\r\n        if (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n    }\r\n\r\n    public get ToolTip():any\r\n    {\r\n        return this.toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        // if(val)\r\n        // {\r\n        //     this.mouseEnabled = true;\r\n        //     this.on(Laya.Event.ROLL_OVER,this,this.rollOverHandler);\r\n        //     this.on(Laya.Event.ROLL_OUT,this,this.rollOutHandler);\r\n        // }\r\n        // else\r\n        // {\r\n        //     this.off(Laya.Event.ROLL_OVER,this,this.rollOverHandler);\r\n        //     this.off(Laya.Event.ROLL_OUT,this,this.rollOutHandler);\r\n        //     TipsManager.GetInstance().HideTargetTips(this);\r\n        // }\r\n        if (this.toolTip == val) return;\r\n        this.toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n    }\r\n\r\n    // private rollOverHandler(tex:SgsTexture):void\r\n    // {\r\n    //     if (this.toolTip)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         event.stageX = Laya.stage.mouseX;\r\n    //         event.stageY = Laya.stage.mouseY;\r\n    //         event.offsetX = this.mouseOffsetX;\r\n    //         event.offsetY = this.mouseOffsetY;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OVER_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    // private rollOutHandler(tex:SgsTexture):void\r\n    // {\r\n    //     if (this.toolTip && TipsManager.GetInstance().CurrentTarget === this)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OUT_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    // public get ButtonMode():boolean\r\n    // {\r\n    //     return this.buttonMode;\r\n    // }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     if (value)\r\n    //     {\r\n    //         this.mouseEnabled = true;\r\n    //         this.on(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.on(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //     }\r\n    //     else\r\n    //     {\r\n    //         this.off(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.off(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //         SgsMouseManager.ButtonMode(this,false);\r\n    //     }\r\n    //     this.buttonMode = value;\r\n    // }\r\n\r\n    // private onOverButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     if (this.buttonMode) {\r\n    //         SgsMouseManager.ButtonMode(this,true);\r\n    //     }\r\n    // }\r\n\r\n    // private onOutButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     SgsMouseManager.ButtonMode(this,false);\r\n    // }\r\n\r\n    //是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:SgsTexture):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event]);\r\n    }\r\n\r\n    protected onSelfUp(event:SgsTexture):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n    }\r\n}\r\n","import TipsManager from \"../../../mode/base/TipsManager\";\r\nimport Global from \"../../../Global\";\r\nimport EventExpand from \"../../../event/EventExpand\";\r\n\r\nexport default class SgsTextField extends Laya.Text\r\n{\r\n\tprotected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected _toolTip:any = \"\";//注意如果sprite的texure设置了toolTip，可能会有问题\r\n\t// protected buttonMode:boolean = false;//鼠标手型\r\n\r\n\tpublic constructor() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\r\n\t//设置整数位置,避免字体位置出现小数点而模糊，\r\n\tpublic pos(x:number,y:number):Laya.Sprite\r\n\t{\r\n        return super.pos(x >> 0,y >> 0,true);\r\n    }\r\n\t\r\n\t// public get ButtonMode():boolean\r\n    // {\r\n    //     return this.buttonMode;\r\n    // }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     if (value)\r\n    //     {\r\n    //         this.mouseEnabled = true;\r\n    //         this.on(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.on(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //     }\r\n    //     else\r\n    //     {\r\n    //         this.off(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.off(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //         SgsMouseManager.ButtonMode(this,false);\r\n    //     }\r\n    //     this.buttonMode = value;\r\n    // }\r\n\r\n    // private onOverButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     if (this.buttonMode) {\r\n    //         SgsMouseManager.ButtonMode(this,true);\r\n    //     }\r\n    // }\r\n\r\n    // private onOutButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     SgsMouseManager.ButtonMode(this,false);\r\n\t// }\r\n\t\r\n\tpublic set TipTriggerType(val:string)\r\n\t{\r\n\t\tthis.tipTriggerType = val;\r\n\t\tif (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n\t}\r\n\r\n    public get ToolTip():any\r\n    {   \r\n        return this._toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        if (this._toolTip == val) return;\r\n\t\tthis._toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n\t}\r\n\t\r\n\t//是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:Laya.Event):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event.currentTarget]);\r\n    }\r\n\r\n    protected onSelfUp(event:Laya.Event):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n\t}\r\n\t\r\n\tpublic destroy(destroyChild:boolean = true):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n        this.removeSelfEvent();\r\n        this.ToolTip = null;\r\n        super.destroy(destroyChild);\r\n    }\r\n}","import SgsSprite from \"./SgsSprite\";\r\nimport Global from \"../../../Global\";\r\nimport EventExpand from \"../../../event/EventExpand\";\r\nimport TipsManager from \"../../../mode/base/TipsManager\";\r\n\r\n/*\r\n* 绘制文本：支持字体、字号、颜色、加粗、斜体、描边宽度、描边颜色、自动换行、水平对齐方式、垂直对齐方式\r\n* Created by caochangli\r\n*/\r\nexport default class SgsText extends Laya.EventDispatcher\r\n{\r\n    public name:string = \"\";\r\n    /**父管理节点*/\r\n    public parentContainer:any;\r\n    /**渲染器*/\r\n    protected render:SgsSprite;\r\n\r\n    protected _x:number = 0;\r\n    protected _y:number = 0;\r\n    protected _width:number = 0;\r\n    protected _height:number = 0;\r\n    // protected _scale:number = 1;\r\n    protected _italic:boolean = false;\r\n    protected _bold:boolean = false;\r\n    protected _fontSize:number = Laya.Text.defaultFontSize;\r\n    protected _font:string = Laya.Text.defaultFont;\r\n    protected _color:string = \"#000000\";\r\n    protected _stroke:number = 0;\r\n    protected _strokeColor:string = \"#000000\";\r\n    protected _wordWrap:boolean = false;\r\n    protected _leading:number = 0;\r\n    protected _align:string = \"left\";\r\n    protected _valign:string = \"top\";\r\n    protected _text:string = \"\";\r\n    protected _visible:boolean = true;\r\n    protected _mouseEnabled:boolean = false;\r\n    protected _globalPoint:Laya.Point;\r\n    protected _destroyed:boolean = false;\r\n\r\n    protected _textWidth:number = 0;\r\n    protected _textHeight:number = 0;\r\n    protected _lines:Array<any>;\r\n    protected _lineWidths:Array<number>;\r\n    protected _charSize:any;\r\n    protected _ctxFont:string = \"\";\r\n    protected _typesetChanged:boolean = false;\r\n    protected _fontChanged:boolean = false;\r\n\r\n    protected cmds:Array<any> = null;\r\n    protected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected toolTip:any = \"\";\r\n    // protected buttonMode:boolean = false;//鼠标手型\r\n\r\n    public mouseOffsetX:number = 0;\r\n    public mouseOffsetY:number = 0;\r\n\r\n    //测量文本尺寸\r\n    public static measureText(txt:string,font:string,fontSize:number,bold:boolean = false,italic:boolean = false):any\r\n    {\r\n        let ctxFont:string = (italic ? \"italic \" : \"\") + (bold ? \"bold \" : \"\") + fontSize + \"px \" + font;\r\n        if (Laya.Browser.context.font != ctxFont)\r\n            Laya.Browser.context.font = ctxFont;\r\n        return Laya.Browser.context.measureText(txt);\r\n    }\r\n\r\n    //测量文字宽度\r\n    public static measureTextWidth(txt:string,font:string,fontSize:number,bold:boolean = false,italic:boolean = false):number\r\n    {\r\n        return this.measureText(txt,font,fontSize,bold,italic).width;\r\n    }\r\n    \r\n    constructor(text:string = \"\")\r\n    {\r\n        super();\r\n\r\n        this._lines = [];\r\n        this._lineWidths = [];\r\n        this._charSize = {};\r\n        this.text = text;\r\n    }\r\n\r\n    public get Render():SgsSprite\r\n    {\r\n        return this.render;\r\n    }\r\n\r\n    public set Cmds(value:Array<any>)\r\n    {\r\n        this.cmds = value;\r\n    }\r\n\r\n    public get Cmds():Array<any>\r\n    {\r\n        return this.cmds;\r\n    }\r\n\r\n    public set x(value:number)\r\n    {   \r\n        if (this._x == value) return;\r\n        this._x = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get x():number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    public set y(value:number)\r\n    {\r\n        if (this._y == value) return;\r\n        this._y = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get y():number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    public pos(x:number,y:number):void\r\n    {\r\n        this.x = x >> 0;\r\n        this.y = y >> 0;\r\n    }\r\n\r\n    public get renderX():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderX + this.x : this.x;\r\n    }\r\n\r\n    public get renderY():number\r\n    {\r\n        // let yy:number = UIUtils.GetTextOffsetInBrowser(this.font,this.fontSize) + this.y;\r\n        // return this.parentContainer ? this.parentContainer.renderY + yy : yy;\r\n        return this.parentContainer ? this.parentContainer.renderY + this.y : this.y;\r\n    }\r\n\r\n    public resetPos():void\r\n    {\r\n        if (this.cmds) this.drawText();\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n        if (this._width == value) return;\r\n        this._width = value;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        if (this._width != 0) return this._width;\r\n        return this.textWidth;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n        if (this._height == value) return;\r\n        this._height = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        if (this._height != 0) return this._height;\r\n        return this.textHeight;\r\n    }\r\n\r\n    public size(width:number,height:number):void\r\n    {\r\n        let isChange:boolean = false;\r\n        if (this._width != width) {\r\n            this._width = width;\r\n            this._typesetChanged = true;\r\n            isChange = true;\r\n        }   \r\n        if (this._height != height) {\r\n             this._height = height;\r\n             isChange = true;\r\n        }\r\n        if (isChange)\r\n            this.invalidateUpdate();\r\n    } \r\n\r\n    public get renderWidth():number\r\n    {\r\n        return this.width * this.renderScaleX;\r\n    }\r\n\r\n    public get renderHeight():number\r\n    {\r\n        return this.height * this.renderScaleY;\r\n    }\r\n\r\n    public get alpha():number\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    // public set scale(value:number)\r\n    // {\r\n    //     if (this._scale == value) return;\r\n    //     this._scale = value;\r\n    //     this.invalidateUpdate();\r\n    // }\r\n\r\n    // public get scale():number\r\n    // {\r\n    //     return this._scale;\r\n    // }\r\n\r\n    public get renderScaleX():number\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    public get renderScaleY():number\r\n    {\r\n        return 1;\r\n    }\r\n\r\n    public resetScale():void\r\n    {\r\n        // if (this.cmd) \r\n    }\r\n\r\n    public set italic(value:boolean)\r\n    {\r\n        if (this._italic == value) return;\r\n        this._italic = value;\r\n        this._fontChanged = true;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get italic():boolean\r\n    {\r\n        return this._italic;\r\n    }\r\n\r\n    public set bold(value:boolean)\r\n    {\r\n        if (this._bold == value) return;\r\n        this._bold = value;\r\n        this._fontChanged = true;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get bold():boolean\r\n    {\r\n        return this._bold;\r\n    }\r\n\r\n    public set fontSize(value:number)\r\n    {\r\n        if (this._fontSize == value) return;\r\n        this._fontSize = value;\r\n        this._fontChanged = true;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get fontSize():number\r\n    {\r\n        return this._fontSize;\r\n    }\r\n\r\n    public set font(value:string)\r\n    {\r\n        if (this._font == value) return;\r\n        this._font = value;\r\n        this._fontChanged = true;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get font():string\r\n    {\r\n        return this._font;\r\n    }    \r\n\r\n    protected get renderFont():string\r\n    {\r\n        if (!this._ctxFont || this._fontChanged)\r\n            this._ctxFont = (this._italic ? \"italic \" : \"\") + (this._bold ? \"bold \" : \"\") + this._fontSize + \"px \" + this._font;\r\n        this._fontChanged = false;\r\n        return this._ctxFont;\r\n    }\r\n\r\n    public set color(value:string)\r\n    {\r\n        if (this._color == value) return;\r\n        this._color = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get color():string\r\n    {\r\n        return this._color;\r\n    }\r\n\r\n    public set strokeColor(value:string)\r\n    {\r\n        if (this._strokeColor == value) return;\r\n        this._strokeColor = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get strokeColor():string\r\n    {\r\n        return this._strokeColor;\r\n    }\r\n\r\n    public set stroke(value:number)\r\n    {\r\n        if (this._stroke == value) return;\r\n        this._stroke = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get stroke():number\r\n    {\r\n        return this._stroke;\r\n    }\r\n\r\n    public set wordWrap(value:boolean)\r\n    {\r\n        if (this._wordWrap == value) return;\r\n        this._wordWrap = value;\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get wordWrap():boolean\r\n    {\r\n        return this._wordWrap;\r\n    }\r\n\r\n    public set leading(value:number)\r\n    {\r\n        if (this._leading == value) return;\r\n        this._leading = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get leading():number\r\n    {\r\n        return this._leading;\r\n    }\r\n\r\n    public set align(value:string)\r\n    {\r\n        if (this._align == value) return;\r\n        this._align = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get align():string\r\n    {\r\n        return this._align;\r\n    }\r\n\r\n    public set valign(value:string)\r\n    {\r\n        if (this._valign == value) return;\r\n        this._valign = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get valign():string\r\n    {\r\n        return this._valign;\r\n    }\r\n\r\n    public set text(value:string)\r\n    {\r\n        if (this._text == value) return;\r\n        this._text = value + \"\";\r\n        this._typesetChanged = true;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get text():string\r\n    {\r\n        return this._text;\r\n    }\r\n\r\n    public get visible():boolean\r\n    {\r\n        return this._visible;\r\n    }\r\n\r\n    public set visible(value:boolean)\r\n    {\r\n        if (this._visible == value) return;\r\n        this._visible = value;\r\n        this.invalidateUpdate();\r\n    }\r\n\r\n    public get renderVisible():boolean\r\n    {\r\n        if (this.parentContainer && !this.parentContainer.renderVisible) return false;\r\n        return this._visible;\r\n    }\r\n\r\n    public resetVisible():void\r\n    {\r\n        if (this.cmds) this.drawText();\r\n    }\r\n\r\n    public get mouseEnabled():boolean\r\n    {\r\n        return this._mouseEnabled;\r\n    }\r\n\r\n    public set mouseEnabled(value:boolean)\r\n    {\r\n        this._mouseEnabled = value;\r\n    }\r\n\r\n    /**是否已绘制*/\r\n    public get drawed():boolean\r\n    {\r\n        return this.cmds ? true : false;\r\n    }\r\n\r\n    /**是否在显示列表中显示*/\r\n    public get displayedInStage():boolean\r\n    {\r\n        if (!this.drawed) return false;\r\n        if (!this.render) return false;\r\n        return this.render.displayedInStage;\r\n    }\r\n\r\n    /**是否已destroy*/\r\n    public get destroyed():boolean\r\n    {\r\n        return this._destroyed;\r\n    }\r\n\r\n    /**相对舞台坐标*/\r\n    public get globalPoint():Laya.Point\r\n    {\r\n        if (!this._globalPoint)\r\n            this._globalPoint = new Laya.Point();\r\n        if (this.render && this.drawed)\r\n        {\r\n            this._globalPoint.setTo(this.renderX,this.renderY);\r\n            this._globalPoint = this.render.localToGlobal(this._globalPoint);\r\n        }\r\n        else\r\n        {\r\n            this._globalPoint.setTo(0,0);\r\n        }\r\n        return this._globalPoint;\r\n    }\r\n\r\n    /**开始索引*/\r\n    public get startIndex():number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        return this.getCmdIndex(this.cmds[0]);\r\n    }\r\n\r\n    /**结束索引*/\r\n    public get endIndex():number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        return this.getCmdIndex(this.cmds[this.cmds.length - 1]);\r\n    }\r\n\r\n    /**设置索引*/\r\n    public set index(index:number)\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (!graphicsCmds || graphicsCmds.length <= 0) return;//本渲染器仅有一个或没有绘制子项(仅有一个时在_one中)\r\n        graphicsCmds.splice(this.startIndex,this.cmds.length);\r\n        for (let i:number = 0; i < this.cmds.length; i++)\r\n        {\r\n            graphicsCmds.splice(index,0,this.cmds[i]);\r\n            index ++;\r\n        }\r\n    }\r\n\r\n    public get textWidth():number\r\n    {\r\n        if (this._typesetChanged) this.typeset();\r\n        return this._textWidth;\r\n    }\r\n\r\n    public get textHeight():number\r\n    {\r\n        let lines:Array<any> = this.lines;\r\n        if (lines)\r\n        {\r\n            if (lines.length > 1)\r\n                return this._textHeight + (lines.length - 1) * this._leading;\r\n            return this._textHeight;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**行数*/\r\n    public get lineNum():number\r\n    {\r\n        let lines:Array<any> = this.lines;\r\n        return lines ? lines.length : 0;\r\n    }\r\n\r\n    /**行文字列表*/\r\n    public get lines():Array<any>\r\n    {\r\n        if (this._typesetChanged) this.typeset();\r\n        return this._lines;\r\n    }\r\n    \r\n    /**单行高度*/\r\n    public get lineHeight():number\r\n    {\r\n        let lines:Array<any> = this.lines;\r\n        if (lines)\r\n        {\r\n            if (lines.length > 1)\r\n                return this._textHeight / lines.length;\r\n            return this._textHeight;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**绘制*/\r\n    public draw(sgsSprite:SgsSprite,index:number = -1):void\r\n    {   \r\n        this.render = sgsSprite;\r\n        this.drawText(index);\r\n    }\r\n\r\n    /**清理*/\r\n    public clear(destroy:boolean = true):void\r\n    {\r\n        if (this.render && this.cmds)\r\n        {\r\n            let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n            let cmd:any;\r\n            let index:number = -1;\r\n            while (this.cmds.length > 0)\r\n            {\r\n                cmd = this.cmds.shift();\r\n                if (graphicsCmds && graphicsCmds.length > 0)//不止一个绘制子项\r\n                {\r\n                    index = graphicsCmds.indexOf(cmd);\r\n                    if (index > -1)\r\n                    {\r\n                        graphicsCmds.splice(index,1);\r\n                        cmd.recover();\r\n                        if (!graphicsCmds || graphicsCmds.length <= 0)//渲染器上已无任何绘制子项\r\n                            this.render.graphics.clear();//清理_one 防止再次渲染时又被渲染上去\r\n                    }\r\n                }\r\n                else if (this.render.graphics[\"_one\"] && this.render.graphics[\"_one\"] === cmd)//渲染器上仅绘制一个纹理且是我的cmd\r\n                    this.render.graphics.clear();\r\n            }\r\n            this.render = null;\r\n            this.cmds = null;\r\n        }\r\n        if (destroy)\r\n        {\r\n            this._destroyed = true;\r\n            this.parentContainer = null;\r\n            this._lines = null;\r\n            this._lineWidths = null;\r\n            this._charSize = null;\r\n            Laya.timer.clear(this,this.onLongTimer);\r\n            this.removeSelfEvent();\r\n            this.ToolTip = null;\r\n            this.offAll();\r\n        }\r\n    }\r\n\r\n    /**碰撞 传入坐标为相对渲染器SgsSprite坐标*/\r\n    public contains(x:number,y:number):boolean\r\n    {\r\n        if (this.renderX <= x && this.renderY <= y && this.renderX + this.renderWidth >= x && this.renderY + this.renderHeight >= y)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    protected update():void\r\n    {\r\n        this.invalidateUpdateFlag = false;\r\n        if (!this.render) return;\r\n        this.drawText();\r\n    }\r\n\r\n    protected drawText(index:number = -1):void//绘制文字\r\n    {\r\n        if (!this.lines) return;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        let cmdsLength:number = this.cmds ? this.cmds.length : 0;\r\n        let lines:Array<any> = this.lines;\r\n        let length:number = lines.length;\r\n        let lineHeight:number = this.lineHeight;\r\n        if (length == 0)//空文本:删除多余渲染命令，更新一行渲染命令\r\n        {\r\n            this.delDrawCmd(1);\r\n            cmdsLength = this.cmds ? this.cmds.length : 0;\r\n            if (cmdsLength > 0)\r\n                this.updateLineText(this.cmds[0],this.text,this.renderX,this.renderY);   \r\n            else\r\n                this.drawLineText(this.text,this.renderX,this.renderY,\"\",index);\r\n            return;   \r\n        }\r\n       \r\n        let curAlign:string = this.align;\r\n        let sx:number = this.renderX;\r\n        let sy:number = this.renderY;\r\n        if (this._width > 0)\r\n        {\r\n            if (this.align == \"center\") \r\n                sx += this._width * 0.5;\r\n            else if (this.align == \"right\") \r\n                sx += this._width;\r\n        }\r\n        else\r\n        {\r\n            curAlign = \"left\";\r\n        }\r\n        if (this._height > 0)\r\n        {\r\n            if (this.valign == \"middle\")\r\n                sy += (this._height - this.textHeight >> 1);\r\n            else if (this.valign == \"bottom\")\r\n                sy += (this._height - this.textHeight);\r\n        }\r\n        \r\n        if (cmdsLength > length)//本次文本行数少于已绘制行数：删除多余行\r\n        {\r\n            this.delDrawCmd(length);\r\n            cmdsLength = this.cmds ? this.cmds.length : 0;\r\n        }\r\n        if (cmdsLength <= 0)//首次绘制:绘制命令索引使用外部传入的index\r\n        {\r\n            if (index == -1)//外部传入的索引为-1表示增加到最后\r\n            {\r\n                let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n                if (graphicsCmds && graphicsCmds.length > 0) index = graphicsCmds.length;\r\n                else if (this.render.graphics[\"_one\"]) index = 1;\r\n                else index = 0;\r\n            }  \r\n        }\r\n        else//更新绘制:新增命令索引使用本文本最后一个渲染命令索引+1\r\n        {\r\n            let lastIndex:number = this.getCmdIndex(this.cmds[this.cmds.length - 1]);\r\n            index = lastIndex + 1;\r\n        }\r\n        for (var i:number = 0; i < length; i++)\r\n        {\r\n            if (i < cmdsLength)//更新\r\n            {\r\n                this.updateLineText(this.cmds[i],lines[i],sx,sy,curAlign);\r\n            }\r\n            else//新增\r\n            {\r\n                this.drawLineText(lines[i],sx,sy,curAlign,index);\r\n                if (index >= 0) index ++;//存在索引控制\r\n            }\r\n            sy += lineHeight + this.leading;\r\n        }\r\n    }\r\n\r\n    protected drawLineText(text:string,x:number,y:number,align:string = \"\",index:number = -1):void//绘制单行文字\r\n    {\r\n        if (this.stroke > 0)//描边\r\n        {\r\n            this.render.graphics.fillBorderText(this.renderVisible ? text : \"\",x,y,this.renderFont,this.color,align,this.stroke,this.strokeColor);\r\n        }\r\n        else\r\n        {\r\n            this.render.graphics.fillText(this.renderVisible ? text : \"\",x,y,this.renderFont,this.color,align);\r\n        }\r\n        if (!this.cmds) this.cmds = [];\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (!graphicsCmds || graphicsCmds.length <= 0)//本渲染器上第一个绘制内容\r\n        {\r\n            this.cmds.push(this.render.graphics[\"_one\"]);\r\n        }\r\n        else\r\n        {\r\n            this.cmds.push(graphicsCmds[graphicsCmds.length - 1]);\r\n            if (index >= 0 && index < graphicsCmds.length)//调整索引\r\n            {\r\n                let cmd:any = graphicsCmds.pop();\r\n                graphicsCmds.splice(index,0,cmd);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected updateLineText(cmd:Laya.FillTextCmd,text:string,x:number,y:number,align:string = \"\"):void//更新单行文字\r\n    {\r\n        if (!cmd) return;\r\n        cmd.text = this.renderVisible ? text : \"\";\r\n        cmd.x = x;\r\n        cmd.y = y;\r\n        cmd.font = this.renderFont;\r\n        cmd.color = this.color;\r\n        cmd.textAlign = align;\r\n        \r\n        cmd[\"_lineWidth\"] = this.stroke;\r\n        cmd[\"_borderColor\"] = this.strokeColor;\r\n        // if (cmd.length >= 7)//描边\r\n        // {\r\n        //     cmd. = this.strokeColor;\r\n        //     cmd[6] = this.stroke;\r\n        //     cmd[7] = align;\r\n        // }\r\n        // else\r\n        // {\r\n            \r\n        // }\r\n    }\r\n\r\n    protected delDrawCmd(retainCount:number):void//删除渲染命令(用于删除多余行命令，参数为：要保留的行数)\r\n    {\r\n        if (!this.render || !this.render.graphics.cmds || !this.cmds) return;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        let cmd:any;\r\n        while (this.cmds.length > retainCount)\r\n        {\r\n            cmd = this.cmds.pop();\r\n            if (graphicsCmds && graphicsCmds.length > 0)\r\n            {\r\n                let index:number = graphicsCmds.indexOf(cmd);\r\n                if (index > -1)\r\n                {\r\n                    graphicsCmds.splice(index,1);\r\n                    cmd.recover();\r\n                } \r\n            }\r\n        }\r\n    }\r\n\r\n    protected getCmdIndex(cmd:any):number\r\n    {\r\n        if (!this.render || !this.cmds || this.cmds.length <= 0) return -1;\r\n        let index:number = -1;\r\n        let graphicsCmds:Array<any> = this.render.graphics.cmds;\r\n        if (graphicsCmds && graphicsCmds.length > 0)\r\n            index = graphicsCmds.indexOf(cmd);\r\n        else \r\n            if (this.render.graphics[\"_one\"] && this.render.graphics[\"_one\"] === cmd) index = 0;\r\n        return index;\r\n    }\r\n\r\n    private invalidateUpdateFlag:boolean = false;\r\n    protected invalidateUpdate():void\r\n    {\r\n        if (!this.render) return;\r\n        if (this.drawed)\r\n        {\r\n            if (!this.invalidateUpdateFlag)\r\n            {\r\n                this.invalidateUpdateFlag = true;\r\n                Laya.timer.callLater(this,this.update);\r\n            }\r\n        }\r\n        else//未绘制时立即绘制，防止延后绘制出现层级异常\r\n        {\r\n            this.update();\r\n        }\r\n    }\r\n\r\n    protected typeset():void//排版文本:进行宽高计算\r\n    {\r\n\t\tthis._typesetChanged = false;\r\n        this._textWidth = this._textHeight = 0;\r\n        if (!this._lines || !this._lineWidths) return;\r\n        this._lines.length = 0;\r\n        this._lineWidths.length = 0;\r\n\t\tif (!this._text)//空文本 \r\n            return;\r\n        let lastCtxFont:string = this._ctxFont;\r\n        let ctxFont:string = this.renderFont;\r\n\t\tLaya.Browser.context.font = ctxFont;\r\n        if (!this._charSize.width || lastCtxFont != ctxFont)\r\n        {\r\n            let measureResult = Laya.Browser.measureYouText(ctxFont);//SgsText.YouMeasureText(ctxFont);\r\n            this._charSize.width = measureResult.width;\r\n            this._charSize.height = (measureResult.height || this._fontSize);\r\n        }\r\n\t\tthis.parseLines(this._text);\r\n\t\tthis.evalTextSize();\r\n\t}\r\n\r\n\tprotected parseLines(text:string):void//分析文本换行\r\n    {\r\n\t\tvar needWordWrapOrTruncate = this._wordWrap;// || this.overflow == Laya.Text.HIDDEN;\r\n\t\tif (needWordWrapOrTruncate)\r\n\t\t\tvar wordWrapWidth = this.getWordWrapWidth();\r\n\t\tvar lines = text.replace(/\\r\\n/g,\"\\n\").split(\"\\n\");\r\n        var line:any;\r\n\t\tfor (var i = 0, n = lines.length; i < n; i++)\r\n        {\r\n\t\t\tline = lines[i];\r\n\t\t\tif (needWordWrapOrTruncate)\r\n\t\t\t\tthis.parseLine(line,wordWrapWidth);\r\n\t\t\telse \r\n            {\r\n\t\t\t\tthis._lineWidths.push(this.getTextWidth(line));\r\n\t\t\t\tthis._lines.push(line);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected parseLine(line,wordWrapWidth):void//解析行文本\r\n    {\r\n\t\tvar ctx = Laya.Browser.context;\r\n\t\tvar lines = this._lines;\r\n\t\tvar maybeIndex = 0;\r\n\t\tvar execResult;\r\n\t\tvar charsWidth=NaN;\r\n\t\tvar wordWidth=NaN;\r\n\t\tvar startIndex=0;\r\n\t\tcharsWidth = this.getTextWidth(line);\r\n\t\tif (charsWidth <= wordWrapWidth){\r\n\t\t\tlines.push(line);\r\n\t\t\tthis._lineWidths.push(charsWidth);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcharsWidth=this._charSize.width;\r\n\t\tmaybeIndex=Math.floor(wordWrapWidth / charsWidth);\r\n\t\t(maybeIndex==0)&& (maybeIndex=1);\r\n\t\tcharsWidth=this.getTextWidth(line.substring(0,maybeIndex));\r\n\t\twordWidth=charsWidth;\r\n\t\tfor (var j=maybeIndex,m=line.length;j < m;j++)\r\n        {\r\n\t\t\tcharsWidth=this.getTextWidth(line.charAt(j));\r\n\t\t\twordWidth+=charsWidth;\r\n\t\t\tif (wordWidth > wordWrapWidth)\r\n            {\r\n\t\t\t\tif (this._wordWrap)\r\n                {\r\n\t\t\t\t\tvar newLine=line.substring(startIndex,j);\r\n\t\t\t\t\tif (newLine.charCodeAt(newLine.length-1)< 255)\r\n                    {\r\n\t\t\t\t\t\texecResult=/(?:\\w|-)+$/.exec(newLine);\r\n\t\t\t\t\t\tif (execResult){\r\n\t\t\t\t\t\t\tj=execResult.index+startIndex;\r\n\t\t\t\t\t\t\tif (execResult.index==0)\r\n\t\t\t\t\t\t\t\tj+=newLine.length;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tnewLine=line.substring(startIndex,j);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n                    else if (Laya.Text.RightToLeft)\r\n                    {\r\n\t\t\t\t\t\texecResult=/([\\u0600-\\u06FF])+$/.exec(newLine);\r\n\t\t\t\t\t\tif(execResult){\r\n\t\t\t\t\t\t\tj=execResult.index+startIndex;\r\n\t\t\t\t\t\t\tif (execResult.index==0)\r\n\t\t\t\t\t\t\t\tj+=newLine.length;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tnewLine=line.substring(startIndex,j);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlines.push(newLine);\r\n\t\t\t\t\tthis._lineWidths.push(wordWidth-charsWidth);\r\n\t\t\t\t\tstartIndex=j;\r\n\t\t\t\t\tif (j+maybeIndex < m)\r\n                    {\r\n\t\t\t\t\t\tj+=maybeIndex;\r\n\t\t\t\t\t\tcharsWidth=this.getTextWidth(line.substring(startIndex,j));\r\n\t\t\t\t\t\twordWidth=charsWidth;\r\n\t\t\t\t\t\tj--;\r\n\t\t\t\t\t}\r\n                    else \r\n                    {\r\n\t\t\t\t\t\tlines.push(line.substring(startIndex,m));\r\n\t\t\t\t\t\tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t\t\t\t\tstartIndex=-1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n                // else if (this.overflow == Laya.Text.HIDDEN)\r\n                // {\r\n\t\t\t\t// \tlines.push(line.substring(0,j));\r\n\t\t\t\t// \tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._wordWrap && startIndex !=-1)\r\n        {\r\n\t\t\tlines.push(line.substring(startIndex,m));\r\n\t\t\tthis._lineWidths.push(this.getTextWidth(lines[lines.length-1]));\r\n\t\t}\r\n\t}\r\n\r\n    protected evalTextSize():void//计算文本尺寸\r\n    {\r\n\t\tvar nw=NaN,nh=NaN;\r\n\t\tnw = Math.max.apply(this,this._lineWidths);\r\n\t\tnh = this._lines.length * this._charSize.height;\r\n\t\tthis._textWidth = nw;\r\n\t\tthis._textHeight = nh;\r\n\t}\r\n\r\n    protected getTextWidth(text):number//获取文本宽度\r\n    {\r\n\t\treturn Laya.Browser.context.measureText(text).width;\r\n\t}\r\n\r\n\tprotected getWordWrapWidth():number//获取换行所需的宽度\r\n    {\r\n\t\tvar w = this._width;\r\n\t\tif (w <= 0)\r\n\t\t\tw = this._wordWrap ? 100 : Laya.Browser.width;\r\n\t\tw <= 0 && (w = 100);\r\n\t\treturn w;\r\n\t}\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n        this.tipTriggerType = val;\r\n        if (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n    }\r\n\r\n    public get ToolTip():any\r\n    {\r\n        return this.toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        // if(val)\r\n        // {\r\n        //     this.mouseEnabled = true;\r\n        //     this.on(Laya.Event.ROLL_OVER,this,this.rollOverHandler);\r\n        //     this.on(Laya.Event.ROLL_OUT,this,this.rollOutHandler);\r\n        // }\r\n        // else\r\n        // {\r\n        //     this.off(Laya.Event.ROLL_OVER,this,this.rollOverHandler);\r\n        //     this.off(Laya.Event.ROLL_OUT,this,this.rollOutHandler);\r\n        //     TipsManager.GetInstance().HideTargetTips(this);\r\n        // }\r\n        if (this.toolTip == val) return;\r\n        this.toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n    }\r\n\r\n    // private rollOverHandler(tex:SgsTexture):void\r\n    // {\r\n    //     if (this.toolTip)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         event.stageX = Laya.stage.mouseX;\r\n    //         event.stageY = Laya.stage.mouseY;\r\n    //         event.offsetX = this.mouseOffsetX;\r\n    //         event.offsetY = this.mouseOffsetY;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OVER_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    // private rollOutHandler(tex:SgsTexture):void\r\n    // {\r\n    //     if (this.toolTip && TipsManager.GetInstance().CurrentTarget === this)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OUT_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    // public get ButtonMode():boolean\r\n    // {\r\n    //     return this.buttonMode;\r\n    // }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     if (value)\r\n    //     {\r\n    //         this.mouseEnabled = true;\r\n    //         this.on(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.on(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //     }\r\n    //     else\r\n    //     {\r\n    //         this.off(Laya.Event.MOUSE_OVER,this,this.onOverButtonMode);\r\n    //         this.off(Laya.Event.MOUSE_OUT,this,this.onOutButtonMode);\r\n    //         SgsMouseManager.ButtonMode(this,false);\r\n    //     }\r\n    //     this.buttonMode = value;\r\n    // }\r\n\r\n    // private onOverButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     if (this.buttonMode) {\r\n    //         SgsMouseManager.ButtonMode(this,true);\r\n    //     }\r\n    // }\r\n\r\n    // private onOutButtonMode(event:SgsTexture):void\r\n    // {\r\n    //     SgsMouseManager.ButtonMode(this,false);\r\n    // }\r\n\r\n    //是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:SgsText):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event]);\r\n    }\r\n\r\n    protected onSelfUp(event:SgsText):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n    }\r\n}","/*\r\n* spine动画模板重构：解决资源加载完已被destroyed报错问题\r\n*/\r\nexport default class SgsTemplet extends Laya.Templet\r\n{\r\n    // protected bindSkeletons:Array<SgsSkeleton>;//绑定的Skeleton\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    protected _textureComplete():void//纹理加载完成\r\n    {\r\n        if (this[\"_isDestroyed\"]) {\r\n\t\t\tthis.destroy();\r\n            return;\r\n\t\t}\r\n        Laya.Templet.prototype[\"_textureComplete\"].call(this);\r\n    }\r\n\r\n    protected _parsePublicExtData():void//解析数据\r\n    {\r\n        if (this[\"_isDestroyed\"]) {\r\n\t\t\tthis.destroy();\r\n            return;\r\n\t\t}\r\n        Laya.Templet.prototype[\"_parsePublicExtData\"].call(this);\r\n    }\r\n\r\n    public getAnimationCount():number\r\n    {\r\n        if (!this[\"_anis\"]) return 0;\r\n        return super.getAnimationCount();\r\n    }\r\n\r\n    public getNodes(aniIndex:number):any\r\n    {\r\n        if (!this[\"_anis\"] || this[\"_anis\"].length <= aniIndex) return null;\r\n        return super.getNodes(aniIndex);\r\n    }\r\n\r\n    public getGrahicsDataWithCache(aniIndex: number, frameIndex: number):Laya.Graphics\r\n    {\r\n        if (!this[\"_graphicsCache\"] || this[\"_graphicsCache\"].length <= aniIndex || this[\"_graphicsCache\"][aniIndex].length <= frameIndex) {\r\n            return null;\r\n        }\r\n        return super.getGrahicsDataWithCache(aniIndex,frameIndex);\r\n    }\r\n\r\n    public setGrahicsDataWithCache(aniIndex: number, frameIndex: number, graphics:Laya.Graphics):void\r\n    {\r\n        if (!this[\"_graphicsCache\"] || this[\"_graphicsCache\"].length <= aniIndex) return;\r\n        super.setGrahicsDataWithCache(aniIndex,frameIndex,graphics);\r\n    }\r\n\r\n    public getOriginalData(aniIndex: number, originalData: Float32Array, nodesFrameIndices: Array<any>, frameIndex: number, playCurTime: number):void\r\n    {\r\n        if (!this[\"_anis\"] || this[\"_anis\"].length <= aniIndex) return;\r\n        super.getOriginalData(aniIndex,originalData,nodesFrameIndices,frameIndex,playCurTime);\r\n    }\r\n\r\n    public set skBufferUrl(val:string)\r\n    {\r\n    }\r\n\r\n    public get skBufferUrl():string\r\n    {\r\n        return this[\"_skBufferUrl\"];\r\n    }\r\n\r\n    //检查模板资源\r\n    public checkTempletRes():boolean\r\n    {\r\n        if (!this.getPublicExtData())\r\n            return false;\r\n        let mainTexture = this[\"_mainTexture\"];\r\n        if (!mainTexture || mainTexture.destroyed)\r\n            return false;\r\n        let textureDic = this[\"_textureDic\"];\r\n        if (!textureDic) \r\n            return false;\r\n        let textureExist = false;//纹理是否存在\r\n        for (let key in textureDic) \r\n        { \r\n            if (!key) continue;\r\n            textureExist = true;\r\n            if (!textureDic[key] || textureDic[key].destroyed) \r\n                return false;\r\n        }\r\n        return textureExist;\r\n    }\r\n\r\n    //是否是该模板资源\r\n    public hasTempletRes(url:string):boolean\r\n    {\r\n        if (this[\"_skBufferUrl\"] == url)\r\n            return true;\r\n        let loadList = this[\"_loadList\"];\r\n        if (loadList && loadList.length > 0)\r\n        {\r\n            for (let i:number = 0; i < loadList.length; i++)\r\n            {\r\n                if (loadList[i] == url)\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // public addBindSkeleton(val:SgsSkeleton)//skeleton中对templet的持有太多了不好处理\r\n    // {\r\n    //     if (!this.bindSkeletons)\r\n    //         this.bindSkeletons = [];\r\n    //     if (this.bindSkeletons.indexOf(val) == -1)\r\n    //         this.bindSkeletons.push(val);\r\n    // }\r\n\r\n    // public delBindSkeleton(val:SgsSkeleton)\r\n    // {\r\n    //     if (!this.bindSkeletons) return;\r\n    //     let index:number = this.bindSkeletons.indexOf(val);\r\n    //     if (index != -1)\r\n    //         this.bindSkeletons.splice(index,1);\r\n    // }\r\n\r\n    // public destroy(clearSk:boolean = true):void\r\n    // {\r\n        // //模板销毁时，对持有此模板的UI进行模板置空处理\r\n        // //比如：Skeleton回收到对象池后，模板回收了，而在对象池中的Skeleton还持有着模板\r\n        // if (this.bindSkeletons && this.bindSkeletons.length > 0)\r\n        // {\r\n        //     let templet:Laya.Templet;\r\n        //     this.bindSkeletons.forEach(element => {\r\n        //         templet = element ? element.templet : null;\r\n        //         if (templet && templet === this)\r\n        //         {\r\n        //             //光处理这个没有用，因为还有很多其他引用\r\n        //             templet[\"_removeReference\"](1);\r\n        //             element[\"_templet\"] = null;\r\n        //         }\r\n        //     });\r\n        //     this.bindSkeletons.length = 0;\r\n        // }\r\n\r\n        // super.destroy();\r\n\r\n        // if (clearSk && this[\"_skBufferUrl\"])//清理对应sk资源\r\n        // {\r\n        //     RES.ClearResByUrl(this[\"_skBufferUrl\"]);\r\n        // }\r\n    // }\r\n}","import SgsTexture from \"./SgsTexture\";\r\nimport SgsText from \"./SgsText\";\r\nimport SgsFlatContainer from \"./SgsFlatContainer\";\r\nimport Global from \"../../../Global\";\r\nimport EventExpand from \"../../../event/EventExpand\";\r\nimport TipsManager from \"../../../mode/base/TipsManager\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsSprite extends Laya.Sprite \r\n{\r\n    protected _realDraw:boolean = true;//以真实绘制情况做事件响应区域(当mouseThrough为true且未设置hitArea时)\r\n\r\n    protected drawContaniers:Array<SgsFlatContainer>;\r\n    protected textureList:Array<SgsTexture | SgsText>;\r\n    protected lastRolloverTexute:SgsTexture | SgsText;\r\n\r\n    protected startX:number = 0;\r\n    protected startY:number = 0;\r\n    protected endX:number = 0;\r\n    protected endY:number = 0;\r\n    protected startAlpha:number = 1;\r\n    protected endAlpha:number = 1;\r\n    protected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected _toolTip:any = \"\";//注意如果sprite的texure设置了toolTip，可能会有问题\r\n    // protected buttonMode:boolean = false;//鼠标手型\r\n\r\n\tpublic constructor() \r\n    {\r\n\t\tsuper();\r\n        this.drawContaniers = [];\r\n        this.textureList = [];\r\n\t}\r\n\r\n    public getGraphicBounds(realSize?: boolean):Laya.Rectangle//重构Graphic界限\r\n    {\r\n        if (!this._realDraw)\r\n        {\r\n            return super.getGraphicBounds(realSize);\r\n        }\r\n        else\r\n        {\r\n            let localP:Laya.Point = new Laya.Point(Laya.stage.mouseX,Laya.stage.mouseY);\r\n            localP = this.globalToLocal(localP);\r\n            let hitRect:Laya.Rectangle = Laya.MouseManager.instance ? Laya.MouseManager.instance[\"_rect\"] : null;\r\n            if (hitRect)\r\n            {\r\n                hitRect.setTo(0,0,this.width,this.height);\r\n                if (!hitRect.contains(localP.x,localP.y))//还未进入本sprite区域：按设置的宽高返回\r\n                    return hitRect;\r\n            }\r\n\r\n            let rect:Laya.Rectangle = new Laya.Rectangle();\r\n            let sgsTexture:SgsTexture | SgsText = this.getTextureByPosition(Laya.stage.mouseX,Laya.stage.mouseY);\r\n            // let localP:Laya.Point = new Laya.Point(Laya.stage.mouseX,Laya.stage.mouseY);\r\n            // localP = this.globalToLocal(localP);\r\n            if (sgsTexture)//找到了：直接返回一个包含该点的区域\r\n            {\r\n                rect.setTo(localP.x - 1,localP.y - 1,2,2);\r\n            }\r\n            else\r\n            {\r\n                rect.setTo(localP.x + 1,localP.y + 1,0,0);\r\n            }\r\n            return rect;\r\n        }\r\n    }\r\n    \r\n    /**添加绘制子项*/\r\n    public addDrawChild(child:SgsText | SgsTexture | SgsFlatContainer):void\r\n    {\r\n        if (child instanceof SgsFlatContainer)\r\n        {\r\n            if (this.drawContaniers.indexOf(child) == -1)\r\n                this.drawContaniers.push(child);\r\n            child.Draw(this);\r\n        }\r\n        else\r\n        {\r\n            if (this.textureList.indexOf(child) == -1)\r\n                this.textureList.push(child);\r\n            child.draw(this);\r\n        }\r\n    }\r\n\r\n    /**添加绘制子项\r\n     * @param index 索引(注意：单个SgsText、SgsTexture很可能有多个渲染命令，请使用getTextStartIndex、getEndIndex、getTextureStartIndex、getTextureEndIndex获取索引后再设置索引)\r\n     */\r\n    public addDrawChildAt(child:SgsText | SgsTexture | SgsFlatContainer,index:number):void\r\n    {\r\n        if (child instanceof SgsFlatContainer)\r\n        {\r\n            if (this.drawContaniers.indexOf(child) == -1)\r\n                this.drawContaniers.splice(index,0,child);\r\n            child.Draw(this,index);\r\n        }\r\n        else\r\n        {\r\n            if (this.textureList.indexOf(child) == -1)\r\n                this.textureList.splice(index,0,child);\r\n            child.draw(this,index);\r\n        }\r\n    }\r\n\r\n    /**删除绘制子项*/\r\n    public removeDrawChild(child:SgsText | SgsTexture | SgsFlatContainer,destroy:boolean = true):void\r\n    {\r\n        if (child instanceof SgsFlatContainer)\r\n        {\r\n            child.ClearDraw(destroy);\r\n            if (!this.drawContaniers || this.drawContaniers.length <= 0) return;\r\n            let index:number = this.drawContaniers.indexOf(child);\r\n            if (index > -1)\r\n            {\r\n                this.drawContaniers.splice(index,1);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            child.clear(destroy);\r\n            if (!this.textureList || this.textureList.length <= 0) return;\r\n            let index:number = this.textureList.indexOf(child);\r\n            if (index > -1)\r\n            {\r\n                this.textureList.splice(index,1);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**获取绘制子项的开始索引*/\r\n    public getDrawChildStartIndex(child:SgsText | SgsTexture | SgsFlatContainer):number\r\n    {\r\n        return child.startIndex;\r\n    }\r\n\r\n    /**获取绘制子项的结束索引*/\r\n    public getDrawChildEndIndex(child:SgsText | SgsTexture | SgsFlatContainer):number\r\n    {\r\n        return child.endIndex;\r\n    }\r\n\r\n    public setDrawChildIndex(child:SgsText | SgsTexture | SgsFlatContainer,index:number):void\r\n    {\r\n        child.index = index;   \r\n    }\r\n\r\n    /**已绘制子项个数*/\r\n    public get drawCount():number\r\n    {\r\n        let graphicsCmds:Array<any> = this.graphics.cmds;\r\n        if (graphicsCmds)\r\n        {\r\n            return graphicsCmds.length;\r\n        }\r\n        else if (this.graphics[\"_one\"])\r\n        {\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**以真实绘制区域响应事件 默认true*/\r\n    public set realDraw(value:boolean)\r\n    {\r\n        this._realDraw = value;\r\n    }\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n        this.tipTriggerType = val;\r\n        if (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n    }\r\n\r\n    public get ToolTip():any\r\n    {   \r\n        return this._toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        // if(val)\r\n        // {\r\n        //     this.on(Laya.Event.ROLL_OUT,this,this.tipsRollOut);\r\n        //     this.on(Laya.Event.ROLL_OVER,this,this.onRollOver);\r\n        // }\r\n        // else\r\n        // {\r\n        //     this.off(Laya.Event.ROLL_OUT,this,this.tipsRollOut);\r\n        //     this.off(Laya.Event.ROLL_OVER,this,this.onRollOver);\r\n        //     TipsManager.GetInstance().HideTargetTips(this);\r\n        // }\r\n        if (this._toolTip == val) return;\r\n        this._toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n    }\r\n\r\n    // public get ButtonMode():boolean\r\n    // {\r\n    //     return this.buttonMode;\r\n    // }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     if (value)\r\n    //     {\r\n    //         this.on(Laya.Event.MOUSE_OVER,this,this.onButtonMode);\r\n    //         this.on(Laya.Event.MOUSE_OUT,this,this.onButtonMode);\r\n    //     }\r\n    //     else\r\n    //     {\r\n    //         this.off(Laya.Event.MOUSE_OVER,this,this.onButtonMode);\r\n    //         this.off(Laya.Event.MOUSE_OUT,this,this.onButtonMode);\r\n    //         SgsMouseManager.ButtonMode(this,false);\r\n    //     }\r\n    //     this.buttonMode = value;\r\n    // }\r\n\r\n    // private onButtonMode(event:Laya.Event):void\r\n    // {\r\n    //     if (this.buttonMode) {\r\n    //         SgsMouseManager.ButtonMode(this,event.type == Laya.Event.MOUSE_OVER ? true : false);\r\n    //     }\r\n    // }\r\n\r\n    public get StartX():number\r\n\t{\r\n\t\treturn this.startX;\r\n\t}\r\n\r\n\tpublic set StartX(val:number)\r\n\t{\r\n\t\tthis.startX = val;\r\n\t}\r\n\r\n\tpublic get EndX():number\r\n\t{\r\n\t\treturn this.endX;\r\n\t}\r\n\r\n\tpublic set EndX(val:number)\r\n\t{\r\n\t\tthis.endX = val;\r\n\t}\r\n\tpublic get StartY():number\r\n\t{\r\n\t\treturn this.startY;\r\n\t}\r\n\r\n\tpublic set StartY(val:number)\r\n\t{\r\n\t\tthis.startY = val;\r\n\t}\r\n\r\n\tpublic get EndY():number\r\n\t{\r\n\t\treturn this.endY;\r\n\t}\r\n\r\n\tpublic set EndY(val:number)\r\n\t{\r\n\t\tthis.endY = val;\r\n\t}\r\n\r\n    public set StartAlpha(val:number)\r\n    {\r\n        this.startAlpha = val;\r\n    }\r\n\r\n    public set EndAlpha(val:number)\r\n    {\r\n        this.endAlpha = val;\r\n    }\r\n\r\n    public get StartAlpha():number\r\n    {   \r\n        return this.startAlpha;\r\n    }\r\n\r\n    public get EndAlpha():number\r\n    {\r\n        return this.endAlpha;\r\n    }\r\n\r\n    public addDrawClick():void\r\n    {\r\n        this.on(Laya.Event.CLICK,this,this.onClick);\r\n    }\r\n\r\n    public removeDrawClick():void\r\n    {\r\n        this.off(Laya.Event.CLICK,this,this.onClick);\r\n    }\r\n    \r\n    public addDrawMouseEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n        this.on(Laya.Event.ROLL_OUT,this,this.onRollOut);\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n    }\r\n\r\n    public removeDrawMouseEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n        this.off(Laya.Event.ROLL_OUT,this,this.onRollOut);\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onMouseDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n    }\r\n\r\n    protected onRollOut(e:Laya.Event):void\r\n    {\r\n        if (this.lastRolloverTexute)\r\n        {\r\n            this.lastRolloverTexute.event(Laya.Event.ROLL_OUT,this.lastRolloverTexute);\r\n            this.lastRolloverTexute = null;\r\n        }\r\n    }\r\n\r\n    public onMouseMove(event:Laya.Event):void\r\n    {\r\n        let target:SgsSprite = event.currentTarget as SgsSprite;\r\n        if (target && target instanceof SgsSprite)\r\n        {\r\n            let tex:SgsTexture | SgsText = target.getTextureByPosition(event.stageX,event.stageY);\r\n            if (this.lastRolloverTexute != tex)\r\n            {\r\n                if (this.lastRolloverTexute && !this.isInOverlap(this.lastRolloverTexute,event.stageX,event.stageY))\r\n                {\r\n                    this.lastRolloverTexute.event(Laya.Event.ROLL_OUT,this.lastRolloverTexute);\r\n                    this.lastRolloverTexute = null;\r\n                }\r\n                if (tex)\r\n                {\r\n                    tex.event(Laya.Event.ROLL_OVER,tex);\r\n                    this.lastRolloverTexute = tex;\r\n                }\r\n            }\r\n            if (tex)\r\n            {\r\n                tex.event(Laya.Event.MOUSE_MOVE,tex);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 当前over区域是否在上一个over的SgsTexure上\r\n     */\r\n    private isInOverlap(tex1:SgsTexture | SgsText,sx:number,sy:number):boolean{\r\n        let flag:boolean = false;\r\n        let localP:Laya.Point = new Laya.Point(sx,sy);\r\n        localP = this.globalToLocal(localP);\r\n        if (tex1.renderX + tex1.renderWidth > localP.x && localP.x >= tex1.renderX && tex1.renderY + tex1.renderHeight > localP.y && localP.y >= tex1.renderY)\r\n        {\r\n            flag = true;\r\n        }\r\n        return flag;\r\n    }\r\n\r\n    protected onMouseDown(event:Laya.Event):void\r\n    {\r\n        let target:SgsSprite = event.currentTarget as SgsSprite;\r\n        if (target && target instanceof SgsSprite)\r\n        {\r\n            let tex:SgsTexture | SgsText = target.getTextureByPosition(event.stageX,event.stageY);\r\n            if (tex)\r\n            {\r\n                tex.event(Laya.Event.MOUSE_DOWN,tex);\r\n                this.lastRolloverTexute = tex;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected onMouseUp(event:Laya.Event):void\r\n    {\r\n        let target:SgsSprite = event.currentTarget as SgsSprite;\r\n        if (target && target instanceof SgsSprite)\r\n        {\r\n            let tex:SgsTexture | SgsText = target.getTextureByPosition(event.stageX,event.stageY);\r\n            if (tex)\r\n            {\r\n                tex.event(Laya.Event.MOUSE_UP,tex);\r\n                this.lastRolloverTexute = tex;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected onClick(event:Laya.Event):void\r\n    {\r\n        let target:SgsSprite = event.currentTarget as SgsSprite;\r\n        if (target && target instanceof SgsSprite)\r\n        {\r\n           let tex:SgsTexture | SgsText = target.getTextureByPosition(event.stageX,event.stageY);\r\n           if(tex)\r\n           {\r\n             tex.event(Laya.Event.CLICK,tex);\r\n           }\r\n        }\r\n    }\r\n\r\n    // protected tipsRollOut(e:Laya.Event):void\r\n    // {\r\n    //     if (this.toolTip)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OUT_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    // protected onRollOver(e:Laya.Event):void\r\n    // {\r\n    //     if(this.toolTip)\r\n    //     {\r\n    //         let event:TipsEvent = new TipsEvent();\r\n    //         event.target = this;\r\n    //         event.stageX = e.stageX;\r\n    //         event.stageY = e.stageY;\r\n    //         let localP:Laya.Point = new Laya.Point(e.stageX,e.stageY);\r\n    //         localP = this.globalToLocal(localP);\r\n    //         event.offsetX = localP.x;\r\n    //         event.offsetY = localP.y;\r\n    //         GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_OVER_EVENT,event);\r\n    //     }\r\n    // }\r\n\r\n    protected getTextureByPosition(x:number,y:number):SgsTexture | SgsText\r\n    {\r\n        let result:SgsTexture | SgsText = null;\r\n        let cmds = this.graphics.cmds;\r\n        cmds = cmds ? cmds : [this.graphics[\"_one\"]];\r\n        if(cmds)\r\n        {\r\n            let length:number = this.textureList.length;\r\n            let tex:SgsTexture | SgsText;\r\n            let localP:Laya.Point = new Laya.Point(x,y);\r\n            localP = this.globalToLocal(localP);\r\n            for(let i:number = length - 1 ; i > -1; i--)\r\n            {\r\n                tex = this.textureList[i];\r\n                if (tex.mouseEnabled && tex.renderVisible && tex.alpha >= 0.01 && tex.renderX <= localP.x && tex.renderY <= localP.y && tex.renderX + tex.renderWidth >= localP.x && tex.renderY + tex.renderHeight >= localP.y)\r\n                {\r\n                    tex.mouseOffsetX = localP.x - tex.renderX;\r\n                    tex.mouseOffsetY = localP.y - tex.renderY;\r\n                    result = tex;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // public UpdateTweenPos(pos:number):void\r\n\t// {\r\n\r\n\t// \tthis.x = this.startX + (this.endX - this.startX) * pos;\r\n\t// \tthis.y = this.startY + (this.endY - this.startY) * pos;\r\n        \r\n\t// }\r\n    \r\n    // public TweenPos:number = 0;\r\n    // protected easePos:number = 0;\r\n    // protected tweenDura:number = 0;\r\n    // protected tweenEase:Function;\r\n    // protected tweenParams:Array<number>;//暂定number\r\n    // /**\r\n    //  * 自定义实现不同的Tween效果，\r\n    //  * 比如默认Laya.Ease.backIn 不支持设置过冲量，由这里实现支持过冲量设置等相关其他参数，目前从底层\r\n    //  * tween看到最多支持两个不同的扩展参数；所以tweenParams就只保存两个数据\r\n    //  * \r\n    //  */\r\n    // public UpdateSelfTweenPos():void{\r\n    //     let pos:number = this.TweenPos;\r\n    //     if(this.tweenEase){\r\n    //         if(this.tweenParams && this.tweenParams.length == 1){\r\n    //             // /1.70158\r\n    //             pos = this.tweenEase(this.TweenPos * this.tweenDura,0,1,this.tweenDura,this.tweenParams[0]);\r\n    //         }else if(this.tweenParams && this.tweenParams.length == 2){\r\n    //             pos = this.tweenEase(this.TweenPos * this.tweenDura,0,1,this.tweenDura,this.tweenParams[0],this.tweenParams[1]);\r\n    //         }else{\r\n    //             pos = this.tweenEase(this.TweenPos * this.tweenDura,0,1,this.tweenDura);\r\n    //         }\r\n            \r\n    //     }\r\n    //     this.UpdateTweenPos(pos);\r\n    // }\r\n\r\n    // /**\r\n    //  * \r\n    //  * @param dura \r\n    //  * @param delay \r\n    //  * @param ease \r\n    //  * @param s1 额外参数 (例：指定过冲量，此处数值越大，过冲越大。)\r\n    //  * @param s2 额外参数 \r\n    //  */\r\n    // public StartSelfTween(dura:number,delay:number,ease?:Function,s1?:number,s2?:number):void\r\n    // {\r\n    //     this.TweenPos = 0;\r\n    //     this.tweenEase = ease;\r\n    //     this.tweenDura = dura;\r\n    //     if(!this.tweenParams){\r\n    //         this.tweenParams = [];\r\n    //     }\r\n    //     this.tweenParams.splice(0);\r\n    //     if(s1 !== undefined && s1 !== null && s1 !== NaN){\r\n    //         this.tweenParams.push(s1);\r\n    //     }\r\n    //     if(s2 !== undefined && s2 !== null && s2 !== NaN){\r\n    //         this.tweenParams.push(s2);\r\n    //     }\r\n    //     let tween:Laya.Tween = Laya.Tween.to(this,{TweenPos:1},dura,null,null,delay,true);\r\n    //     tween.update = new Laya.Handler(this,this.UpdateSelfTweenPos);\r\n    // }\r\n\r\n\r\n    // public CompleteTweenPos():void\r\n\t// {\r\n\t// \tthis.startX = this.endX;\r\n\t// \tthis.startY = this.endY;\r\n\t// \tthis.x = this.endX;\r\n\t// \tthis.y = this.endY;\r\n\t// }\r\n\r\n    // public UpdateTweenAlpha(pos:number):void\r\n    // {\r\n    //     if (this.destroyed) return;\r\n    //     this.alpha = this.startAlpha + (this.endAlpha - this.startAlpha) * pos;\r\n    // }\r\n\r\n    // public CompleteTweenAlpha():void\r\n    // {\r\n    //     if (this.destroyed) return;\r\n    //     this.alpha = this.startAlpha = this.endAlpha;\r\n    // }\r\n\r\n    public RemoveDrawChildren():void\r\n    {\r\n        this.drawContaniers.forEach(child => {\r\n            child.ClearDraw();\r\n        });\r\n        this.textureList.forEach(child => {\r\n            child.clear();\r\n        });\r\n        this.drawContaniers.length = 0;\r\n        this.textureList.length = 0;\r\n    }\r\n\r\n    //是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:Laya.Event):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event.currentTarget]);\r\n    }\r\n\r\n    protected onSelfUp(event:Laya.Event):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n    }\r\n\r\n    public destroy(destroyChild:boolean=true):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n        this.removeSelfEvent();\r\n        this.ToolTip = null;\r\n        // this.ButtonMode = false;\r\n        Laya.Tween.clearTween(this);\r\n        this.RemoveDrawChildren();\r\n        this.lastRolloverTexute = null;\r\n        this.removeDrawClick();\r\n        this.removeDrawMouseEvent();\r\n        super.destroy(destroyChild);\r\n    }\r\n}","import SgsSprite from \"./SgsSprite\";\r\nimport SgsTexture from \"./SgsTexture\";\r\nimport RES from \"../../../res/RES\";\r\nimport SgsSpriteButton from \"./SgsSpriteButton\";\r\nimport FilterUtils from \"../../../utils/FilterUtils\";\r\n\r\nexport default class SgsSlider extends SgsSprite\r\n{\r\n    protected trackBg:SgsTexture;\r\n    protected trackBar:SgsTexture;\r\n    protected trackBtn:SgsSpriteButton;\r\n\r\n    protected _value:number = 0;\r\n    protected _minValue:number = 0;\r\n    protected _maxValue:number = 100;\r\n    protected _enabled:boolean = true;\r\n    protected _isVertical:boolean = false;//是否垂直\r\n\r\n    constructor(isVertical:boolean = false)\r\n    {\r\n        super();\r\n\r\n        this._isVertical = isVertical;\r\n\r\n        this.trackBg = new SgsTexture();\r\n        this.addDrawChild(this.trackBg);\r\n\r\n        this.trackBar = new SgsTexture();\r\n        this.addDrawChild(this.trackBar);\r\n\r\n        this.trackBtn = new SgsSpriteButton();\r\n        this.addChild(this.trackBtn);\r\n\r\n        this.trackBtn.on(Laya.Event.MOUSE_DOWN,this,this.onMouseDown);\r\n    }\r\n\r\n    public set width(val:number)\r\n    {\r\n        Laya.superSetter(SgsSlider,this,\"width\",val);\r\n        this.trackBg.width = val;\r\n        this.trackBar.width = val;\r\n        this.layoutTrackBtn();\r\n    }\r\n    public get width():number\r\n    {\r\n        return Laya.superGetter(SgsSlider,this,\"width\");\r\n    }\r\n\r\n    public set height(val:number)\r\n    {\r\n        Laya.superSetter(SgsSlider,this,\"height\",val);\r\n        this.trackBg.height = val;\r\n        this.trackBar.height = val;\r\n        this.layoutTrackBtn();\r\n    }\r\n    public get height():number\r\n    {\r\n        return Laya.superGetter(SgsSlider,this,\"height\");\r\n    }\r\n\r\n    public set bgSkin(val:string)\r\n    {\r\n        this.trackBg.texture = RES.GetRes(val);\r\n        if (this.width <= 0)\r\n            this.width = this.trackBg.width;\r\n        if (this.height <= 0)\r\n            this.height = this.trackBg.height;\r\n    }\r\n    public set bgSizeGrid(val:string)\r\n    {\r\n        this.trackBg.sizeGrid = val;\r\n    }\r\n\r\n    public set barSkin(val:string)\r\n    {\r\n        this.trackBar.texture = RES.GetRes(val);\r\n    }\r\n    public set barSizeGrid(val:string)\r\n    {\r\n        this.trackBar.sizeGrid = val;\r\n    }\r\n\r\n    public setBtnSkin(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\",selectedDisableSkin:string = \"\")\r\n    {\r\n        this.trackBtn.InitSkin(upSkin,overSkin,downSkin,disableSkin,selectedSkin,selectedDisableSkin);\r\n        this.layoutTrackBtn();\r\n    }\r\n    \r\n    public setSlider(min:number,max:number,value:number):void\r\n    {\r\n        this._minValue = min;\r\n        this._maxValue = max;\r\n        this.value = value;\r\n    }\r\n\r\n    public set value(val:number)\r\n    {\r\n        this._value = val;\r\n        this.updateView();\r\n    }\r\n    public get value():number\r\n    {\r\n        return this._value;\r\n    }\r\n\r\n    public set enabled(val:boolean)\r\n    {\r\n        if(this._enabled == val)return;\r\n        this._enabled = val;\r\n        this.mouseEnabled = val;\r\n        this.filters = val ? null : FilterUtils.GetGrayFilter();\r\n        if (!this._enabled)//禁用\r\n        {\r\n            Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n            Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n            this.trackBtn.stopDrag();\r\n        }\r\n    }\r\n    public get enabled():boolean\r\n    {\r\n        return this._enabled;\r\n    }\r\n\r\n    protected onMouseDown(e:Laya.Event):void\r\n    {\r\n        Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n        let rect:Laya.Rectangle;\r\n        if (this._isVertical)\r\n            rect = new Laya.Rectangle(this.width - this.trackBtn.width >> 1,-(this.trackBtn.height >> 1),0,this.height);\r\n        else\r\n            rect = new Laya.Rectangle(-(this.trackBtn.width >> 1),this.height - this.trackBtn.height >> 1,this.width,0);\r\n        this.trackBtn.startDrag(rect);\r\n    }\r\n\r\n    public onMouseMove(e:Laya.Event):void\r\n    {\r\n        this.updateValue();\r\n    }\r\n\r\n    protected updateValue():void\r\n    {\r\n        let oldValue:number = this._value;\r\n        let num = this._maxValue - this._minValue;\r\n        if (this._isVertical)\r\n            this._value = ((this.trackBtn.y >> 0) + (this.trackBtn.height >> 1)) / this.height * num + this._minValue;\r\n        else\r\n            this._value = ((this.trackBtn.x >> 0) + (this.trackBtn.width >> 1)) / this.width * num + this._minValue;\r\n        if (this._value < this._minValue)\r\n            this._value = this._minValue;\r\n        else if (this._value > this._maxValue)\r\n            this._value = this._maxValue;\r\n        \r\n        if (oldValue != this._value)\r\n        {\r\n            this.updateView();\r\n            this.event(Laya.Event.CHANGE,this);\r\n        }\r\n    }\r\n\r\n    protected updateView():void\r\n    {\r\n        let num = this._maxValue - this._minValue;\r\n        let barValue:number = 0;\r\n        if (this._isVertical)\r\n        {\r\n            barValue = this.height * (this._value - this._minValue) / num >> 0;\r\n            this.trackBtn.x = barValue - (this.trackBtn.height >> 1);\r\n            this.trackBar.height = barValue;\r\n        }\r\n        else\r\n        {\r\n            barValue = this.width * (this._value - this._minValue) / num >> 0;\r\n            this.trackBtn.x = barValue - (this.trackBtn.width >> 1);\r\n            this.trackBar.width = barValue;\r\n        }\r\n        this.trackBar.visible = barValue > 0 ? true : false;\r\n    }\r\n\r\n    protected onMouseUp(e:Laya.Event):void\r\n    {\r\n        Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n        this.trackBtn.stopDrag();\r\n        this.updateValue();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    protected layoutTrackBtn():void\r\n    {\r\n        if (this._isVertical)\r\n            this.trackBtn.x = this.width - this.trackBtn.width >> 1;\r\n        else\r\n            this.trackBtn.y = this.height - this.trackBtn.height >> 1;\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        Laya.stage.off(Laya.Event.MOUSE_UP,this,this.onMouseUp);\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onMouseMove);\r\n        this.trackBtn.stopDrag();\r\n        super.destroy();\r\n    }\r\n}","\r\nimport EventExpand from \"../../../event/EventExpand\";\r\nimport Global from \"../../../Global\";\r\nimport TipsManager from \"../../../mode/base/TipsManager\";\r\nimport SgsTemplet from \"./SgsTemplet\";\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsSkeleton extends Laya.Skeleton\r\n{\r\n    protected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected _toolTip:any = \"\";\r\n\r\n    protected nameOrIndex:any;\r\n    protected playLoop:boolean = false;\r\n    protected buttonMode:boolean = false;//鼠标手型\r\n    protected _playbackRate:number = 1;//播放速率\r\n\r\n    constructor(temp?:Laya.Templet,mode?:number)\r\n    {\r\n        super(temp,mode);\r\n    }\r\n\r\n    public init(temp:Laya.Templet,mode?:number):void\r\n    {\r\n        if (this.destroyed || !temp || temp.destroyed) return;\r\n        //启用对象池时，清理之前的数据\r\n        if (this[\"_templet\"])\r\n        {\r\n            // if (this.templet instanceof SgsTemplet)\r\n            //     this.templet.delBindSkeleton(this);\r\n            this[\"_templet\"][\"_removeReference\"](1);\r\n            this[\"_templet\"] = null;\r\n        }\r\n        if (this[\"_player\"])\r\n        {\r\n            this[\"_player\"][\"offAll\"]();\r\n            this[\"_player\"] = null;\r\n        }\r\n        this[\"_pathDic\"] = null;\r\n        this[\"_curOriginalData\"] = null;\r\n        this[\"_boneSlotDic\"] = null;\r\n        this[\"_bindBoneBoneSlotDic\"] = null;\r\n        this[\"_boneSlotArray\"] = null;\r\n        if (this[\"_boneMatrixArray\"])\r\n            this[\"_boneMatrixArray\"].length = 0;\r\n        if (this[\"_soundChannelArr\"].length > 0) {\r\n            this[\"_onAniSoundStoped\"](true);\r\n        }\r\n        //启用对象池时，清理之前的数据\r\n        super.init(temp,mode);\r\n        // //模板持有UI的风险在于：模板不回收的情况下，UI也没有destory，则UI回收不了，以前UI也许可以回收\r\n        // if (this.templet instanceof SgsTemplet)//绑定\r\n        //     this.templet.addBindSkeleton(this);\r\n        if (this._playbackRate != 1)\r\n            super.playbackRate(this._playbackRate);\r\n    }\r\n\r\n    /**\r\n     * 播放动画\r\n     * @param nameOrIndex 动画名字或者索引\r\n     * @param loop 是否循环播放\r\n     * @param force false,如果要播的动画跟上一个相同就不生效,true,强制生效\r\n     * @param start 起始时间\r\n     * @param end 结束时间\r\n     * @param freshSkin 是否刷新皮肤数据\r\n     * @param playAudio 是否播放音频\r\n     */\r\n    public play(nameOrIndex:any,loop:boolean,force:boolean = true,start:number = 0,end:number = 0,freshSkin:boolean = true,playAudio:boolean = true):void\r\n    {\r\n        if (this.destroyed || !this.templet || this.templet.destroyed) return;\r\n        super.play(nameOrIndex,loop,force,start,end,freshSkin,playAudio);\r\n    }\r\n\r\n    //设置动画播放速率(引擎底层在资源未加载之前设置无效)\r\n    public playbackRate(value:number):void\r\n    {\r\n        this._playbackRate = value;\r\n        super.playbackRate(value);\r\n    }\r\n\r\n    //获取动画播放速率\r\n    public GetPlaybackRate():number\r\n    {\r\n        return this._playbackRate;\r\n    }\r\n\r\n    protected _update(autoKey?:boolean):void\r\n    {\r\n        if (this.destroyed || !this[\"_templet\"] || this[\"_templet\"][\"_isDestroyed\"]) {\r\n            this.offAll(Laya.Event.STOPPED);\r\n            super.stop();//caochangli 动画播放中模板数据被回收时改为停止播放，防止UI被destroy后上层业务不知道还在使用UI对象进行各种操作\r\n            return;\r\n\t\t}\r\n        Laya.Skeleton.prototype[\"_update\"].call(this,autoKey);\r\n    }\r\n\r\n    protected _createGraphics(_clipIndex?:number):void\r\n    {\r\n        if (this.destroyed || !this[\"_templet\"] || this[\"_templet\"][\"_isDestroyed\"]) {\r\n            this.offAll(Laya.Event.STOPPED);\r\n            super.stop();//caochangli 动画播放中模板数据被回收时改为停止播放，防止UI被destroy后上层业务不知道还在使用UI对象进行各种操作\r\n            return;\r\n\t\t}\r\n        Laya.Skeleton.prototype[\"_createGraphics\"].call(this,_clipIndex);\r\n    }\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n        this.tipTriggerType = val;\r\n        if (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n    }\r\n    \r\n    public get ToolTip():any\r\n    {   \r\n        return this._toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        if (this._toolTip == val) return;\r\n        this._toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n    }\r\n\r\n    //是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:Laya.Event):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event.currentTarget]);\r\n    }\r\n\r\n    protected onSelfUp(event:Laya.Event):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n    }\r\n\r\n    public destroy(destroyChild:boolean = true):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n        this.removeSelfEvent();\r\n        this.ToolTip = null;\r\n        this.offAll(Laya.Event.STOPPED);\r\n        super.stop();\r\n        this.removeSelf();\r\n        this.removeChildren();\r\n        let templet = this.templet;\r\n        // if (templet && templet instanceof SgsTemplet)//组件销毁时解除绑定\r\n        //     templet.delBindSkeleton(this);\r\n        super.destroy(destroyChild);\r\n        \r\n        let graphicsCache = templet && !templet[\"_isDestroyed\"] && templet[\"_graphicsCache\"];\r\n        if (graphicsCache)\r\n        {\r\n            for (var i = 0, n = graphicsCache.length; i < n; i++) \r\n            {\r\n                for (var j = 0, len = graphicsCache[i].length; j < len; j++)\r\n                {\r\n                    var gp = graphicsCache[i][j];\r\n                    if (gp && gp._sp && gp._sp === this)\r\n                        gp._sp = null;\r\n                }\r\n            }\r\n        } \r\n        templet = null;  \r\n    }\r\n}","import SgsSpriteRadio from \"./SgsSpriteRadio\";\r\nimport SgsFlatRadio from \"./SgsFlatRadio\";\r\nimport SgsSprite from \"./SgsSprite\";\r\n/*\r\n* 控件定义一组 Radio 控件,这些控件相互排斥\r\n*/\r\nexport default class SgsRadioGroup extends Laya.EventDispatcher\r\n{\r\n    public static HORIZONTAL:string = \"horizontal\";\r\n    public static VERTICAL:string = \"vertical\";\r\n\r\n    protected _x:number = 0;\r\n    protected _y:number = 0;\r\n    protected _space:number = 10;\r\n    protected _rowledge:number = 10;\r\n    protected _direction:string = SgsRadioGroup.HORIZONTAL;\r\n    protected _visible:boolean = true;\r\n    protected _enabled:boolean = true;\r\n\r\n    protected _upSkin:string = \"\";\r\n    protected _overSkin:string = \"\";\r\n    protected _downSkin:string = \"\";\r\n    protected _disableSkin:string = \"\";\r\n    protected _selectedSkin:string = \"\";\r\n\r\n    protected _enabledField:string = \"enabled\";\r\n    protected _labelField:string = \"label\";\r\n    protected _labelColors:string = \"\";\r\n    protected _labelSize:number = Laya.Text.defaultFontSize;\r\n    protected _labelFont:string = Laya.Text.defaultFont;\r\n    protected _strokeColors:string = \"\";\r\n    protected _labelStroke:number = 0;\r\n    protected _labelBold:boolean = false;\r\n    protected _labelItalic:boolean = false;\r\n    protected _labelPadding:string = \"\";\r\n\r\n    protected _selectedIndex:number = -1;\r\n\r\n    protected _isCreate:boolean = false;\r\n    protected _childList:Array<any>;\r\n    protected _radioList:Array<SgsSpriteRadio | SgsFlatRadio>;\r\n\r\n    protected render:Laya.Sprite | SgsSprite;\r\n    protected isFlat:boolean = false;\r\n    protected otherRenders:Array<SgsSprite>;\r\n    \r\n    protected _lineLength:number = 10000;\r\n    protected _linefeed:boolean = false;\r\n\r\n    constructor(render:Laya.Sprite | SgsSprite,isFlat:boolean = false,otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super();\r\n\r\n        this.render = render;\r\n        if (this.render)\r\n            this.render.on(\"destroyEvent\",this,this.onFollowDestroy);\r\n        this.isFlat = isFlat;\r\n        this.otherRenders = otherRenders;\r\n    }\r\n\r\n    public set x(value:number)\r\n    {   \r\n        if (this._x == value) return;\r\n        this._x = value;\r\n        this.layout();\r\n    }\r\n\r\n    public get x():number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    public set y(value:number)\r\n    {\r\n        if (this._y == value) return;\r\n        this._y = value;\r\n        this.layout();\r\n    }\r\n\r\n    public get y():number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    /** 行长度,数值为除了正整数以外的其他数字，无效 */\r\n    public set LineLength(value:number)\r\n    {\r\n        if(value > 0 && value % 1 === 0)\r\n            this._lineLength = value;\r\n    }\r\n\r\n    /** 行长度,长度为0时，换行无效 */\r\n    public get LineLength()\r\n    {\r\n        return this._lineLength;\r\n    }\r\n\r\n    /** 是否换行 - 默认不换行 */\r\n    public set Linefeed(value:boolean)\r\n    {\r\n        this._linefeed = value;\r\n    }\r\n\r\n    /** 是否换行 - 默认不换行 */\r\n    public get Linefeed()\r\n    {\r\n        return this._linefeed;\r\n    }\r\n\r\n    public set enabled(value:boolean)\r\n    {\r\n        this._enabled = value;\r\n        if (this._radioList)\r\n        {\r\n            let radio:SgsSpriteRadio | SgsFlatRadio;\r\n            for (let i:number = 0; i < this._radioList.length; i++)\r\n            {\r\n                radio = this._radioList[i];\r\n                radio.enabled = this._enabled;\r\n            }\r\n        }\r\n    }\r\n\r\n    public get enabled():boolean\r\n    {\r\n        return this._enabled;\r\n    }\r\n\r\n    public set visible(value:boolean)\r\n    {\r\n        this._visible = value;\r\n        if (this._radioList)\r\n        {\r\n            let radio:SgsSpriteRadio | SgsFlatRadio;\r\n            for (let i:number = 0; i < this._radioList.length; i++)\r\n            {\r\n                radio = this._radioList[i];\r\n                radio.visible = this._visible;\r\n            }\r\n        }\r\n    }\r\n\r\n    public get visible():boolean\r\n    {\r\n        return this._visible;\r\n    }\r\n\r\n    /**间距*/\r\n    public set space(value:number)\r\n    {\r\n        this._space = value;\r\n        this.layout();\r\n    }\r\n\r\n    /**行间距*/\r\n    public set Rowledge(value:number)\r\n    {\r\n        this._rowledge = value;\r\n        this.layout();\r\n    }\r\n\r\n    /**布局方向：HORIZONTAL、VERTICAL*/\r\n    public set direction(value:string)\r\n    {\r\n        this._direction = value;\r\n        this.layout();\r\n    }\r\n\r\n    public set childList(value:Array<any>)\r\n    {\r\n        this.removeChilds();\r\n\r\n        if (!value || value.length <= 0) return;\r\n\r\n        this._childList = [];\r\n        for (let i:number = 0; i < value.length; i++)\r\n        {\r\n            this._childList.push(value[i]);\r\n        }\r\n        this.createChilds();\r\n    }\r\n\r\n    /**清理*/\r\n    public Clear():void\r\n    {\r\n        this.removeChilds();\r\n        if (this.render)\r\n        {\r\n            this.render.off(\"destroyEvent\",this,this.onFollowDestroy);\r\n            this.render = null;\r\n        }\r\n        this.otherRenders = null;\r\n        this.offAll();\r\n    }\r\n\r\n    public InitSkin(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\"):void\r\n    {\r\n        this._upSkin = upSkin;\r\n        this._overSkin = overSkin;\r\n        this._downSkin = downSkin;\r\n        this._disableSkin = disableSkin;\r\n        this._selectedSkin = selectedSkin;\r\n\r\n        this.createChilds();\r\n    }\r\n\r\n    public get SelectedValue():number\r\n    {\r\n        if (!this._childList || this._childList.length <= 0) return -1;\r\n        if (this._selectedIndex < 0 || this._selectedIndex >= this._childList.length) return -1;\r\n        return this._childList[this._selectedIndex].value;\r\n    }\r\n\r\n    public set SelectedValue(value:number)\r\n    {\r\n        this.selectedIndex = this.getIndexByValue(value);\r\n        this.updateRadioState();\r\n    }\r\n\r\n    protected getIndexByValue(value:number):number\r\n    {\r\n        if (!this._childList || this._childList.length <= 0) return -1;\r\n        let result:number = -1;\r\n        let data:any;\r\n        for (let i:number = 0; i < this._childList.length; i++)\r\n        {\r\n            data = this._childList[i];\r\n            if (typeof(data) == \"object\")\r\n            {\r\n                if (this._childList[i].value == value)\r\n                {\r\n                    result = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**选中索引*/\r\n    public get selectedIndex():number\r\n    {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    /**选中索引*/\r\n    public set selectedIndex(value:number)\r\n    {\r\n        this._selectedIndex = value;\r\n        this.updateRadioState();\r\n    }\r\n\r\n    /**选中的数据*/\r\n    public get selectedItem():any\r\n    {\r\n        if (!this._childList || this._childList.length <= 0) return null;\r\n        if (this._selectedIndex < 0 || this._selectedIndex >= this._childList.length) return null;\r\n        return this._childList[this._selectedIndex];\r\n    }\r\n\r\n    /**选中的数据*/\r\n    public get selectedRadio():any\r\n    {\r\n        if (!this._radioList || this._radioList.length <= 0) return null;\r\n        if (this._selectedIndex < 0 || this._selectedIndex >= this._radioList.length) return null;\r\n        return this._radioList[this._selectedIndex];\r\n    }\r\n\r\n    /**标签显示字段名(如传入数组为字符串类型可忽略)*/\r\n    public set labelField(value:string)\r\n    {\r\n        this._labelField = value;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的文本颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set labelColors(value:string)\r\n    {\r\n        this._labelColors = value;\r\n        this.styleChanged();\r\n    }\r\n\r\n    /**表示按钮文本标签的字体大小。*/        \r\n    public set labelSize(value:number)\r\n    {   \r\n        this._labelSize = value;\r\n        this.styleChanged();\r\n    }        \r\n    \r\n    /**表示按钮文本标签的字体名称，以字符串形式表示。*/\r\n    public set labelFont(value:string)\r\n    {\r\n        this._labelFont = value;\r\n        this.styleChanged();\r\n    }\r\n    \r\n    /**\r\n     * 表示按钮各个状态下的描边颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set strokeColors(value:string)\r\n    {\r\n        this._strokeColors = value;\r\n        this.styleChanged();\r\n    }\r\n    \r\n    /**描边宽度（以像素为单位）。 默认值0，表示不描边*/\r\n    public set labelStroke(value:number)\r\n    {\r\n        this._labelStroke = value;\r\n        this.styleChanged();\r\n    }\r\n    \r\n    /**表示按钮文本标签是否为粗体字。*/\r\n    public set labelBold(value:boolean)\r\n    {\r\n        this._labelBold = value;\r\n        this.styleChanged();\r\n    }\r\n    \r\n    /**表示按钮文本标签是否为斜体。*/\r\n    public set labelItalic(value:boolean)\r\n    {   \r\n        this._labelItalic = value;\r\n        this.styleChanged();\r\n    }\r\n    \r\n    /**\r\n    *表示按钮文本标签的边距。\r\n    *<p><b>格式：</b>\"上边距,右边距,下边距,左边距\"。</p>\r\n    */\r\n    public set labelPadding(value:string)\r\n    {\r\n        this._labelPadding = value;\r\n        this.styleChanged();\r\n    }\r\n    /**\r\n     * \r\n     * @param val \r\n     */\r\n    public RemoveChildByValue(val:number):void{\r\n        let index:number = this.getIndexByValue(val);\r\n        let radio:SgsSpriteRadio | SgsFlatRadio = this._radioList[index];\r\n        if(radio){\r\n            this._radioList.splice(index,1);\r\n            if (radio instanceof SgsFlatRadio && this.render instanceof SgsSprite)\r\n            {\r\n                this.render.removeDrawChild(radio);\r\n            }\r\n            else if (radio instanceof SgsSprite)\r\n            {\r\n                if (radio.parent) radio.parent.removeChild(radio);\r\n            }\r\n            this.layout();\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param val \r\n     */\r\n    public RemoveChildWithoutValue(val:number):void{\r\n        let index:number = this.getIndexByValue(val);\r\n        let radio:SgsSpriteRadio | SgsFlatRadio = this._radioList[index];\r\n        for(let i:number = 0;i < this._radioList.length;i++){\r\n            let radio1:SgsSpriteRadio | SgsFlatRadio = this._radioList[i];\r\n            if(radio1 != radio){\r\n                this._radioList.splice(i,1);\r\n                if (radio1 instanceof SgsFlatRadio && this.render instanceof SgsSprite)\r\n                {\r\n                    this.render.removeDrawChild(radio1);\r\n                }\r\n                else if (radio1 instanceof SgsSprite)\r\n                {\r\n                    if (radio1.parent) radio1.parent.removeChild(radio1);\r\n                }         \r\n                i--           \r\n            }\r\n            \r\n        }\r\n        this.layout();\r\n    }\r\n\r\n    protected createChilds():void\r\n    {\r\n        if (!this.render) return;\r\n        if (!this._childList || this._childList.length <= 0) return;\r\n        if (this._upSkin == \"\") return;\r\n        if (this._isCreate) return;\r\n        this._isCreate = true;\r\n        this._radioList = [];\r\n        let radio:SgsSpriteRadio | SgsFlatRadio;\r\n        let data:any;\r\n        for (let i:number = 0; i < this._childList.length; i++)\r\n        {\r\n            data = this._childList[i];\r\n            if (this.isFlat) \r\n                radio = new SgsFlatRadio(this.otherRenders);\r\n            else \r\n                radio = new SgsSpriteRadio();\r\n            radio.name = i.toString();\r\n            radio.enabled = this._enabled;\r\n            radio.visible = this._visible;\r\n            radio.InitSkin(this._upSkin,this._overSkin,this._downSkin,this._disableSkin,this._selectedSkin);\r\n            radio.on(Laya.Event.CHANGE,this,this.onChange);\r\n            if (typeof(data) == \"string\")\r\n            {\r\n                radio.label = data;\r\n            }\r\n            else if (typeof(data) == \"number\")\r\n            {\r\n                radio.label = data.toString();\r\n            }\r\n            else\r\n            {\r\n                radio.label = data[this._labelField];\r\n            }\r\n            \r\n            if (radio instanceof SgsFlatRadio && this.render instanceof SgsSprite)\r\n                this.render.addDrawChild(radio);\r\n            else\r\n                this.render.addChild(<SgsSpriteRadio>radio);\r\n            this._radioList.push(radio);\r\n        }\r\n        this.updateRadioState();\r\n        this.styleChanged();\r\n    }\r\n\r\n    protected removeChilds():void\r\n    {\r\n        if (!this.render) return;\r\n        if (this._childList)\r\n        {\r\n            while (this._childList.length > 0)\r\n            {\r\n                this._childList.pop();\r\n            }\r\n            this._childList = null;\r\n        }\r\n        if (this._radioList)\r\n        {\r\n            let radio:SgsSpriteRadio | SgsFlatRadio;\r\n            while (this._radioList.length > 0)\r\n            {\r\n                radio = this._radioList.pop();\r\n                radio.off(Laya.Event.CHANGE,this,this.onChange);\r\n                if (radio instanceof SgsFlatRadio && this.render instanceof SgsSprite)\r\n                {\r\n                    this.render.removeDrawChild(radio);\r\n                }\r\n                else if (radio instanceof SgsSprite)\r\n                {\r\n                    if (radio.parent) radio.parent.removeChild(radio);\r\n                }\r\n            }\r\n            this._radioList = null;\r\n        }\r\n\r\n        // todo 重新赋值需要重置状态\r\n        this._isCreate = false;\r\n        this._styleChanged = false;\r\n    }\r\n\r\n    protected onChange(event:any):void\r\n    {\r\n        let index:number = -1;\r\n        if (event instanceof SgsFlatRadio) index = parseInt(event.name);\r\n        else if (event instanceof Laya.Event) index = parseInt(event.currentTarget.name);\r\n        this._selectedIndex = index;\r\n        this.updateRadioState();\r\n        this.event(Laya.Event.CHANGE,this);\r\n    }\r\n\r\n    protected updateRadioState():void\r\n    {\r\n        if (!this._radioList || this._radioList.length <= 0) return;\r\n        let radio:SgsSpriteRadio | SgsFlatRadio;\r\n        for (let i:number = 0; i < this._radioList.length; i++)\r\n        {\r\n            radio = this._radioList[i];\r\n            radio.selected = i == this._selectedIndex ? true : false;\r\n        }\r\n    }\r\n\r\n    protected _styleChanged:boolean = false;\r\n    protected styleChanged():void\r\n    {\r\n        if (!this._styleChanged)\r\n        {\r\n            this._styleChanged = true;\r\n            Laya.timer.callLater(this,this.changeChanged);\r\n        }\r\n    }\r\n\r\n    protected changeChanged():void\r\n    {\r\n        if (!this._radioList || this._radioList.length <= 0) return;\r\n        let radio:SgsSpriteRadio | SgsFlatRadio;\r\n        for (let i:number = 0; i < this._radioList.length; i++)\r\n        {\r\n            radio = this._radioList[i];\r\n            if (this._labelColors != \"\") radio.labelColors = this._labelColors;\r\n            radio.labelSize = this._labelSize;\r\n            radio.labelFont = this._labelFont;\r\n            if (this._strokeColors != \"\") radio.strokeColors = this._strokeColors;\r\n            radio.labelStroke = this._labelStroke;\r\n            radio.labelBold = this._labelBold;\r\n            radio.labelItalic = this._labelItalic;\r\n            if (this._labelPadding != \"\") radio.labelPadding = this._labelPadding;\r\n        }\r\n        this.layout();\r\n    }\r\n\r\n    protected layout():void\r\n    {\r\n        if (!this._radioList || this._radioList.length <= 0) return;\r\n        let lastRadio:SgsSpriteRadio | SgsFlatRadio;\r\n        let radio:SgsSpriteRadio | SgsFlatRadio;\r\n        for (let i:number = 0; i < this._radioList.length; i++)\r\n        {\r\n            radio = this._radioList[i];\r\n            if (this._direction == SgsRadioGroup.HORIZONTAL)\r\n            {\r\n                if(this._linefeed && this._lineLength > 0)\r\n                {\r\n                    if(i % this._lineLength === 0)\r\n                    {\r\n                        radio.x = this._x;\r\n                    }\r\n                    else\r\n                    {\r\n                        radio.x = lastRadio ? lastRadio.x + lastRadio.width + this._space : this._x;\r\n                    }\r\n                    radio.y = this._y +  Math.floor(i / this._lineLength) * this._rowledge;\r\n                }\r\n                else\r\n                {\r\n                    radio.x = lastRadio ? lastRadio.x + lastRadio.width + this._space : this._x;\r\n                    radio.y = this._y;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if(this._linefeed && this._lineLength > 0)\r\n                {\r\n\r\n                }\r\n                else\r\n                {\r\n                    radio.y = lastRadio ? lastRadio.y + lastRadio.height + this._space : this._y;\r\n                    radio.x = this._x;\r\n                }\r\n            }\r\n            lastRadio = radio;\r\n        }\r\n    }\r\n\r\n    protected onFollowDestroy(target:Laya.Sprite):void//回收跟随的对象destroy了\r\n    {\r\n        this.Clear();\r\n    }\r\n}","import RES from \"../../../res/RES\";\r\nimport Global from \"../../../Global\";\r\n\r\n\r\n/*\r\n* 加载texture：管理引用计数和资源回收\r\n*/\r\nexport default class SgsLoadTexture\r\n{\r\n    protected _url:string = \"\";\r\n    protected _complete:Laya.Handler;\r\n    protected _texture:Laya.Texture;\r\n\r\n    public isThorough:boolean = false;//是否彻底清理(调用RES.ClearRes)\r\n\r\n    constructor(complete:Laya.Handler)\r\n    {\r\n        this._complete = complete;\r\n    }\r\n\r\n    public completeFun(complete:Laya.Handler):void\r\n    {\r\n        this._complete = complete;\r\n    }\r\n\r\n    public loadTexture(value:string):void\r\n    {\r\n        if (this._url == value)\r\n        {\r\n            if (this._texture && this._texture.url == value)\r\n            {\r\n                this.runComplete(this._texture);\r\n            }\r\n            return;\r\n        }\r\n        this._texture = null;\r\n        this.clearTexure();//清理之前的加载\r\n        this._url = value;\r\n        if (this._url == \"\" || this._url == null) \r\n            return;\r\n        RES.AddReference(value);\r\n        RES.GetResByUrl(value,this,this.loadComplete,\"image\");\r\n    }\r\n\r\n    public get url():string\r\n    {\r\n        return this._url;\r\n    }\r\n\r\n    public get texture():Laya.Texture\r\n    {\r\n        return this._texture;\r\n    }\r\n\r\n    public set texture(value:Laya.Texture)\r\n    {\r\n        this._texture = value;\r\n        this.clearTexure();//清理之前的加载\r\n        this._url = null;\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        return this._texture ? this._texture.width : 0;\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return this._texture ? this._texture.height : 0;\r\n    }\r\n\r\n    protected loadComplete(texture:Laya.Texture,key:string):void\r\n    {\r\n        if (this._url != key) return;\r\n        if (!texture)//加载失败 \r\n        {\r\n\t\t\tthis._texture = null;\r\n            this.runComplete(null);\r\n        }\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._texture = texture;\r\n\t\t\tthis.runComplete(this._texture);\r\n\t\t}\r\n    }\r\n\r\n    protected runComplete(texture:Laya.Texture):void\r\n    {\r\n        if (this._complete)\r\n            this._complete.runWith(texture);\r\n    }\r\n\r\n    protected clearTexure():void\r\n    {\r\n        if (this._url)\r\n        {\r\n            RES.DelReference(this._url);\r\n            RES.CancelGetResByUrl(this._url,this,this.loadComplete);\r\n            RES.ClearResByUrl(this._url);\r\n        }\r\n    }\r\n\r\n    public clear():void\r\n    {\r\n        this._complete = null;\r\n        this._texture = null;\r\n        this.clearTexure();\r\n        this._url = null;\r\n    }\r\n}","import EventExpand from \"../../../event/EventExpand\";\r\nimport Global from \"../../../Global\";\r\nimport TipsManager from \"../../../mode/base/TipsManager\";\r\nimport RES from \"../../../res/RES\";\r\nimport TextureAtlasManager from \"../../../textureAtlas/TextureAtlasManager\";\r\n\r\n/**\r\n * 重构Image组件：可根据Laya.Event.COMPLETE、Laya.Event.ERROR事件监听加载成功、失败\r\n */\r\nexport default class SgsImage extends Laya.Image\r\n{\r\n    protected _longDowned:boolean = false;//是否已长按\r\n    protected tipTriggerType:string = \"\";//tips触发类型(点击、长按 默认点击)\r\n    protected _toolTip:any = \"\";\r\n    \r\n    protected loadedSkins:Array<string>;//已加载的皮肤地址数组\r\n    \r\n    public autoClear:boolean = true;//自动清理纹理(laya2默认自动回收)\r\n    public onlyDestroyClear:boolean = false;//是否仅destroy时清理资源\r\n    public isMergeAtlas:boolean = true;//是否合并进动态图集\r\n    // public isThorough:boolean = false;//是否彻底清理(调用RES.ClearRes)(laya2采用引用计数回收不再需要保留壳的回收方式)\r\n\r\n    constructor(skin:string = \"\") \r\n    {\r\n\t\tsuper(skin);\r\n    }\r\n\r\n    public set skin(value:string)\r\n    {\r\n        if (this._skin == value) \r\n        {\r\n            if (this.source && this.source.url == value)\r\n                this.event(Laya.Event.COMPLETE,this);\r\n            return;\r\n        }\r\n        if (this._skin)//停止之前的加载\r\n        {\r\n            RES.DelReference(this._skin);\r\n            RES.CancelGetResByUrl(this._skin,this,this.loadSkinComplete);\r\n        }\r\n        this.source = null;\r\n        this._skin = value;\r\n        this.clearLoadedSkins(false);\r\n        if (!this._skin)\r\n            return;\r\n        RES.AddReference(value);\r\n        this.addLoadSkin(value);\r\n        this.loadSkin();\r\n    }\r\n\r\n    public get skin():string\r\n    {\r\n        return Laya.superGetter(SgsImage,this,\"skin\");\r\n    }\r\n\r\n    public set source(value:Laya.Texture)\r\n    {\r\n        Laya.superSetter(SgsImage,this,\"source\",value);\r\n    }\r\n\r\n    public get source():Laya.Texture\r\n    {\r\n        if (!this[\"_bitmap\"]) return null;\r\n        return Laya.superGetter(SgsImage,this,\"source\");\r\n    }\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n        this.tipTriggerType = val;\r\n        if (this.tipTriggerType == TipsManager.LONG_DOWN_TRIGGER)\r\n\t\t\tthis.addSelfEvent();\r\n\t}\r\n\r\n    public get ToolTip():any\r\n    {   \r\n        return this._toolTip;\r\n    }\r\n\r\n    public set ToolTip(val:any)\r\n    {\r\n        if (this._toolTip == val) return;\r\n        this._toolTip = val;\r\n        TipsManager.GetInstance().RegisterTips(val,this.tipTriggerType,this);\r\n    }\r\n\r\n    protected loadSkin():void\r\n    {\r\n        RES.GetResByUrl(this._skin,this,this.loadSkinComplete,\"image\",this._skin);\r\n    }\r\n\r\n    protected loadSkinComplete(texture:Laya.Texture,key:string):void\r\n    {\r\n\t\tif (this._skin != key) return;\r\n\t\tif (!texture)//加载失败 \r\n        {\r\n\t\t\tthis.source = null;\r\n            this.event(Laya.Event.ERROR,this);\r\n        }\r\n        else\r\n\t\t{\r\n            if (this.isMergeAtlas && TextureAtlasManager.Instance)\r\n                TextureAtlasManager.Instance.NeedPushAtlas(texture);\r\n\t\t\tthis.setSource(key,texture);\r\n            this.event(Laya.Event.COMPLETE,this);\r\n\t\t}\r\n    }\r\n\r\n    protected addLoadSkin(url:string):void\r\n    {\r\n        if (!this.loadedSkins)\r\n            this.loadedSkins = [];\r\n        if (url && this.loadedSkins.indexOf(url) == -1)\r\n            this.loadedSkins.push(url);\r\n    }\r\n\r\n    protected clearLoadedSkins(destroy:boolean = true):void\r\n    {\r\n        if (!this.autoClear) return;\r\n        if (this.onlyDestroyClear && !destroy) return;\r\n        if (!this.loadedSkins || this.loadedSkins.length <= 0) return;\r\n        let url:string;\r\n        for (let i:number = 0; i < this.loadedSkins.length; i++)\r\n        {\r\n            url = this.loadedSkins[i];\r\n            if (!destroy && url == this._skin) continue;\r\n            RES.ClearResByUrl(url);\r\n        }\r\n        this.loadedSkins.length = 0;\r\n        if (!destroy && this._skin)\r\n            this.loadedSkins.push(this._skin);\r\n    }\r\n\r\n    //是否已长按\r\n    public get longDowned():boolean\r\n    {\r\n        return this._longDowned;\r\n    }\r\n\r\n    protected addSelfEvent():void\r\n    {\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.on(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.on(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected removeSelfEvent():void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.onSelfDown);\r\n        this.off(Laya.Event.MOUSE_UP,this,this.onSelfUp);\r\n        this.off(Laya.Event.MOUSE_OUT,this,this.onSelfUp);\r\n    }\r\n\r\n    protected onSelfDown(event:Laya.Event):void\r\n    {\r\n        this._longDowned = false;\r\n        Laya.timer.once(Global.LongClickTime,this,this.onLongTimer,[event.currentTarget]);\r\n    }\r\n\r\n    protected onSelfUp(event:Laya.Event):void\r\n    {\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n    }\r\n\r\n    protected onLongTimer(event):void\r\n    {\r\n        this._longDowned = true;\r\n        event.type = EventExpand.LONG_DOWN;\r\n        this.event(EventExpand.LONG_DOWN,event);\r\n    }\r\n\r\n    public destroy(destroyChild:boolean = true):void\r\n    {\r\n        if (this._skin)\r\n        {\r\n            RES.DelReference(this._skin);\r\n            RES.CancelGetResByUrl(this._skin,this,this.loadSkinComplete);\r\n        }\r\n        Laya.timer.clear(this,this.onLongTimer);\r\n        this.removeSelfEvent();\r\n        this.ToolTip = null;\r\n        super.destroy(destroyChild);\r\n        this.clearLoadedSkins(true);\r\n        this._skin = null;\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class SgsHTMLDivElement extends Laya.HTMLDivElement\r\n{\r\n    // protected buttonMode:boolean = false;\r\n    public static HTML_REPAINT:string = \"HTML_REPAINT\";\r\n    /**\r\n     * 重新布局，当元素过多时应该会影响性能，主要用于图片加载\r\n     */\r\n    protected needRelayout:boolean = false;\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n        this.on(Laya.Event.LINK, this, this.onLink);\r\n    }\r\n\r\n    public get element():Laya.HTMLDivParser\r\n    {\r\n        return this[\"_element\"];\r\n    }\r\n\r\n    public get styleHeight():number\r\n    {\r\n        return this.height;\r\n    }\r\n\r\n    public set styleHeight(val:number)\r\n    {\r\n        this.height = val;\r\n    }\r\n\r\n    public get fontFamily():string\r\n    {\r\n        return this.style.family;\r\n    }\r\n\r\n    public set fontFamily(value:string)\r\n    {\r\n        this.style.family = value;\r\n    }\r\n\r\n    public get fontSize():number\r\n    {\r\n        return this.style.fontSize;\r\n    }\r\n\r\n    public set fontSize(value:number)\r\n    {\r\n        this.style.fontSize = value;\r\n    }\r\n\r\n    public get color():string\r\n    {\r\n        return this.style.color;\r\n    }\r\n\r\n    public set color(value: string)\r\n    {\r\n        this.style.color = value;\r\n    }\r\n\r\n    public get strokeColor():string\r\n    {\r\n        return this.style.strokeColor;\r\n    }\r\n\r\n    public set strokeColor(value: string)\r\n    {\r\n        this.style.strokeColor = value;\r\n    }\r\n\r\n    public get leading():number\r\n    {\r\n        return this.style.leading;\r\n    }\r\n\r\n    public set leading(val:number)\r\n    {\r\n        this.style.leading = val;\r\n    }\r\n\r\n    public get letterSpacing():number\r\n    {\r\n        return this.style.letterSpacing;\r\n    }\r\n\r\n    public set letterSpacing(val:number)\r\n    {\r\n        this.style.letterSpacing = val;\r\n    }\r\n\r\n    public set italic(value:boolean)\r\n    {\r\n        this.style.italic = value;\r\n    }\r\n\r\n    public get italic():boolean\r\n    {\r\n        return this.style.italic;\r\n    }\r\n\r\n    public get bold():boolean\r\n    {\r\n        return this.style.bold;\r\n    }\r\n\r\n    public set bold(val:boolean)\r\n    {\r\n        this.style.bold = val;\r\n    }\r\n\r\n    public get wordWrap():boolean\r\n    {\r\n        return this.style.wordWrap;\r\n    }\r\n\r\n    public set wordWrap(val: boolean)\r\n    {\r\n        this.style.wordWrap = val;\r\n    }\r\n\r\n    public get align(): string\r\n    {\r\n        return this.style.align;\r\n    }\r\n\r\n    public set align(val: string)\r\n    {\r\n        this.style.align = val;\r\n    }\r\n\r\n    public get valign(): string\r\n    {\r\n        return this.style.valign;\r\n    }\r\n\r\n    public set valign(val: string)\r\n    {\r\n        this.style.valign = val;\r\n    }\r\n\r\n    public set NeedRelayout(val:boolean){\r\n        this.needRelayout = val;\r\n    }\r\n\r\n    // public get ButtonMode():boolean\r\n    // {\r\n    //     return this.buttonMode;\r\n    // }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     if (value)\r\n    //     {\r\n    //         this.on(Laya.Event.MOUSE_OVER,this,this.onButtonMode); \r\n    //         this.on(Laya.Event.MOUSE_OUT,this,this.onButtonMode);\r\n    //     }\r\n    //     else\r\n    //     {\r\n    //         this.off(Laya.Event.MOUSE_OVER,this,this.onButtonMode);\r\n    //         this.off(Laya.Event.MOUSE_OUT,this,this.onButtonMode);\r\n    //         SgsMouseManager.ButtonMode(this,false);\r\n    //     }\r\n    //     this.buttonMode = value;\r\n    // }\r\n\r\n    public set innerHTML(text:string)\r\n    {\r\n        Laya.superSetter(SgsHTMLDivElement,this, \"innerHTML\",text);\r\n        //在设置文本后将textDecoration属性设置为none\r\n        if(this.style && !this.style.textDecoration)\r\n        {\r\n            this.style.textDecoration = \"none\";\r\n        }\r\n        if(this[\"_element\"] && this[\"_element\"][\"_children\"])\r\n        {\r\n            let childs:Array<any> = this[\"_element\"][\"_children\"];\r\n            let length = childs.length;\r\n            let htmlItem:any;\r\n            for(let i=0; i<length; ++i)\r\n            {\r\n                htmlItem = childs[i];\r\n                if(htmlItem && htmlItem.style)\r\n                    if(!htmlItem.style.textDecoration)\r\n                        htmlItem.style.textDecoration = \"none\";\r\n            }\r\n        }\r\n    }\r\n    \r\n    // private onButtonMode(event:Laya.Event):void\r\n    // {\r\n    //     if (this.buttonMode) {\r\n    //         SgsMouseManager.ButtonMode(this,event.type == Laya.Event.MOUSE_OVER ? true : false);\r\n    //     }\r\n    // }\r\n\r\n    private onLink(href:string)\r\n    {\r\n        let target:any = this.parent;\r\n        while (target){\r\n            target.event(Laya.Event.LINK,[href]);\r\n            target=target.parent;\r\n        }\r\n    }\r\n\r\n    public repaint():void{\r\n        super.repaint();\r\n        if(this.needRelayout){\r\n            // this.layout();\r\n            this.event(SgsHTMLDivElement.HTML_REPAINT,this);\r\n        }\r\n        \r\n    }\r\n}","import RES from \"../../../res/RES\";\r\nimport TextureAtlasManager from \"../../../textureAtlas/TextureAtlasManager\";\r\nimport SgsTexture from \"./SgsTexture\";\r\n\r\n/*\r\n* 扁平图片组件：可根据Laya.Event.COMPLETE、Laya.Event.ERROR事件监听加载成功、失败\r\n*/\r\nexport default class SgsFlatImage extends SgsTexture \r\n{\r\n    protected _skin:string = \"\";\r\n    protected loadedSkins:Array<string>;//已加载的皮肤地址数组\r\n\r\n    public autoClear:boolean = true;//自动清理纹理(laya2默认自动回收)\r\n    public onlyDestroyClear:boolean = false;//是否仅destroy时清理资源\r\n    public isMergeAtlas:boolean = true;//是否合并进动态图集\r\n    // public isThorough:boolean = false;//是否彻底清理(调用RES.ClearRes)(laya2采用引用计数回收不再需要保留壳的回收方式)\r\n\r\n    constructor(texture:Laya.Texture = null)\r\n    {\r\n        super(texture);\r\n    }\r\n\r\n    public set skin(value:string)\r\n    {\r\n        if (this._skin == value) \r\n        {\r\n            if (this.texture && this.texture.url == value)\r\n                this.event(Laya.Event.COMPLETE,this);\r\n            return;\r\n        }\r\n        if (this._skin)//停止之前的加载\r\n        {\r\n            RES.DelReference(this._skin);\r\n            RES.CancelGetResByUrl(this._skin,this,this.loadSkinComplete);\r\n        }\r\n        this.texture = null;\r\n        this._skin = value;\r\n        this.clearLoadedSkins(false);\r\n        if (!this._skin) \r\n            return;\r\n        RES.AddReference(value);\r\n        this.addLoadSkin(value);\r\n        this.loadSkin();\r\n    }\r\n\r\n    public get skin():string\r\n    {\r\n        return this._skin;\r\n    }\r\n\r\n    protected loadSkin():void\r\n    {\r\n        RES.GetResByUrl(this._skin,this,this.loadSkinComplete,\"image\",this._skin);\r\n    }\r\n\r\n    protected loadSkinComplete(texture:Laya.Texture,key:string):void\r\n    {\r\n        if (this._skin != key) return;\r\n        if (!texture)//加载失败 \r\n        {\r\n\t\t\tthis.texture = null;\r\n            this.event(Laya.Event.ERROR,this);\r\n        }\r\n\t\telse\r\n\t\t{\r\n            if (this.isMergeAtlas && TextureAtlasManager.Instance)\r\n                TextureAtlasManager.Instance.NeedPushAtlas(texture);\r\n\t\t\tthis.texture = texture;\r\n\t\t\tthis.event(Laya.Event.COMPLETE,this);\r\n\t\t}\r\n    }\r\n\r\n    protected addLoadSkin(url:string):void\r\n    {\r\n        if (!this.loadedSkins)\r\n            this.loadedSkins = [];\r\n        if (url && this.loadedSkins.indexOf(url) == -1)\r\n            this.loadedSkins.push(url);\r\n    }\r\n\r\n    protected clearLoadedSkins(destroy:boolean = true):void\r\n    {\r\n        if (!this.autoClear) return;\r\n        if (this.onlyDestroyClear && !destroy) return;\r\n        if (!this.loadedSkins || this.loadedSkins.length <= 0) return;\r\n        let url:string;\r\n        for (let i:number = 0; i < this.loadedSkins.length; i++)\r\n        {\r\n            url = this.loadedSkins[i];\r\n            if (!destroy && url == this._skin) continue;\r\n            RES.ClearResByUrl(url);\r\n        }\r\n        this.loadedSkins.length = 0;\r\n        if (!destroy && this._skin)\r\n            this.loadedSkins.push(this._skin);\r\n    }\r\n\r\n    public clear(destroy:boolean = true)\r\n    {\r\n        if (destroy && this._skin)\r\n        {\r\n            RES.DelReference(this._skin);\r\n            RES.CancelGetResByUrl(this._skin,this,this.loadSkinComplete);\r\n        }\r\n        super.clear(destroy);\r\n        this.clearLoadedSkins(destroy);\r\n        if (destroy)\r\n            this._skin = null;\r\n    }\r\n}","import SgsTexture from \"./SgsTexture\";\r\nimport SgsText from \"./SgsText\";\r\nimport SgsSprite from \"./SgsSprite\";\r\n/*\r\n* 扁平管理容器：管理sgsText、sgsTexture\r\n* 派发事件数据为{target:textTure,currentTarget:this}\r\n*/\r\nexport default class SgsFlatContainer extends Laya.EventDispatcher\r\n{\r\n    protected invalidateDisplayListFlag:boolean = false;\r\n    /**父管理节点*/\r\n    public parentContainer:any;\r\n    /**渲染器(SgsSprite)*/\r\n    public render:SgsSprite;\r\n    /**子项列表*/\r\n    protected childs:Array<any>;\r\n    /**其他渲染器*/\r\n    protected otherRenders:Array<SgsSprite>;\r\n    /**其他渲染器子项*/\r\n    protected otherChilds:Array<any>;\r\n\r\n    protected _x:number = 0;\r\n    protected _y:number = 0;\r\n    protected _width:number = 0;\r\n    protected _height:number = 0;\r\n    protected _name:string = \"\";\r\n    protected _visible:boolean = true;\r\n    protected _scaleX:number = 1;\r\n    protected _scaleY:number = 1;\r\n    protected _mouseEnabled:boolean = false;\r\n    protected _globalPoint:Laya.Point;\r\n    protected _destroyed:boolean = false;\r\n\r\n    public static SGSFLATCONTAINER_CLICK:string = \"sgsFlatContainerClick\";\r\n    public static SGSFLATCONTAINER_OVER:string = \"sgsFlatContainerOver\";\r\n    public static SGSFLATCONTAINER_OUT:string = \"sgsFlatContainerOut\";\r\n\r\n    //额外层\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super();\r\n\r\n        this.otherRenders = otherRenders;\r\n        if (this.otherRenders)\r\n        {\r\n            this.otherChilds = [];\r\n            let length:number = this.otherRenders.length;\r\n            for (let i:number = 0; i < length; i++)\r\n            {\r\n                this.otherChilds.push([]);\r\n            }\r\n        }\r\n        this.childs = [];\r\n    }\r\n\r\n    public get Render():SgsSprite\r\n    {\r\n        return this.render;\r\n    }\r\n\r\n    public set x(value:number)\r\n    {\r\n        this.pos(value,this._y);\r\n    }\r\n\r\n    public get x():number\r\n    {\r\n        return this._x;\r\n    }\r\n\r\n    public set y(value:number)\r\n    {\r\n        this.pos(this._x,value);\r\n    }\r\n\r\n    public get y():number\r\n    {\r\n        return this._y;\r\n    }\r\n\r\n    public get renderX():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderX + this.x * this.parentContainer.renderScaleX : this.x;\r\n    }\r\n\r\n    public get renderY():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderY + this.y * this.parentContainer.renderScaleY : this.y;\r\n    }\r\n\r\n    /**是否已destroy*/\r\n    public get destroyed():boolean\r\n    {\r\n        return this._destroyed;\r\n    }\r\n    \r\n    /**相对舞台坐标*/\r\n    public get globalPoint():Laya.Point\r\n    {\r\n        if (!this._globalPoint)\r\n            this._globalPoint = new Laya.Point();\r\n        if (this.render && this.drawed)\r\n        {\r\n            this._globalPoint.setTo(this.renderX,this.renderY);\r\n            this._globalPoint = this.render.localToGlobal(this._globalPoint);\r\n        }\r\n        else\r\n        {\r\n            this._globalPoint.setTo(0,0);\r\n        }\r\n        return this._globalPoint;\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n        this.size(value,this._height);\r\n    } \r\n\r\n    public get width():number\r\n    {\r\n        return this._width;\r\n    } \r\n\r\n    public set height(value:number)\r\n    {\r\n        this.size(this._width,value);\r\n    } \r\n\r\n    public get height():number\r\n    {\r\n        return this._height;\r\n    }\r\n\r\n    public set name(value:string)\r\n    {\r\n        this._name = value;\r\n    }\r\n\r\n    public get name():string\r\n    {\r\n        return this._name;\r\n    }\r\n\r\n    /**绘制*/\r\n    public Draw(render:SgsSprite,index:number = -1):void\r\n    {\r\n        if (!render) return;\r\n        this.render = render;\r\n        //循环绘制子项\r\n        let startIndex:number = index;\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                if (startIndex < 0)\r\n                {\r\n                    this.render.addDrawChild(child);\r\n                }\r\n                else//设置了索引，容器内子项以此为开始索引\r\n                {\r\n                    this.render.addDrawChildAt(child,startIndex);\r\n                    startIndex = child.endIndex + 1;\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.otherChilds && this.otherChilds.length > 0)\r\n        {\r\n            let spStartIndex:number = -1;\r\n            let i:number = 0;\r\n            let otherRender:SgsSprite;\r\n            this.otherChilds.forEach((childs:Array<any>) => {\r\n                startIndex = index;\r\n                spStartIndex = index;\r\n                if (childs && this.otherRenders && this.otherRenders.length > i)\r\n                {\r\n                    otherRender = this.otherRenders[i];\r\n                    if (otherRender)\r\n                    {\r\n                        childs.forEach((child:any) => {\r\n                            if (child instanceof Laya.Sprite)\r\n                            {\r\n                                this.oherChildScale(child,child.scaleX,child.scaleY);\r\n                                this.oherChildVisible(child,child.visible);\r\n                                if (spStartIndex < 0)\r\n                                    otherRender.addChild(child);\r\n                                else \r\n                                {\r\n                                    otherRender.addChildAt(child,spStartIndex);\r\n                                    spStartIndex ++;\r\n                                } \r\n                            }\r\n                            else \r\n                            {\r\n                                if (startIndex < 0)\r\n                                {\r\n                                    otherRender.addDrawChild(child);\r\n                                }\r\n                                else//设置了索引，容器内子项以此为开始索引\r\n                                {\r\n                                    otherRender.addDrawChildAt(child,startIndex);\r\n                                    startIndex = child.endIndex + 1;\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                i ++;\r\n            });\r\n        }\r\n    }\r\n\r\n    public set index(index:number)\r\n    {\r\n        if (!this.render) return;\r\n        //循环绘制子项\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                child.index = index;\r\n                index = child.endIndex + 1;\r\n            });\r\n        }\r\n    }\r\n\r\n     /**清除*/\r\n    public ClearDraw(destroy:boolean = true):void\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                this.removeChildMouseEvent(child);\r\n                if (this.render)\r\n                    this.render.removeDrawChild(child,destroy);\r\n                else if (child instanceof SgsFlatContainer)\r\n                    child.ClearDraw(destroy);\r\n                else\r\n                    child.clear(destroy);\r\n            });\r\n        }\r\n        this.render = null;\r\n\r\n        if (this.otherChilds && this.otherChilds.length > 0)\r\n        {\r\n            let i:number = 0;\r\n            let otherRender:SgsSprite;\r\n            this.otherChilds.forEach((childs:Array<any>) => {\r\n                if (childs && this.otherRenders && this.otherRenders.length > i)\r\n                {\r\n                    otherRender = this.otherRenders[i];\r\n                    if (otherRender)\r\n                    {\r\n                        childs.forEach((child:any) => {\r\n                            if (child instanceof Laya.Sprite)\r\n                            {\r\n                                if (destroy)\r\n                                {\r\n                                    child[\"parentContainer\"] = null;\r\n                                    child[\"otherRenderIndex\"] = -1;\r\n                                    child.destroy();\r\n                                }\r\n                                else\r\n                                    otherRender.removeChild(child);\r\n                            }\r\n                            else\r\n                                otherRender.removeDrawChild(child,destroy);                   \r\n                        });\r\n                    }\r\n                }\r\n                i ++;\r\n            });\r\n        }\r\n        if (destroy)\r\n        {\r\n            this._destroyed = true;\r\n            this.childs = [];\r\n            this.otherRenders = null;\r\n            this.otherChilds = null;\r\n            this.offAll();\r\n        }\r\n    }\r\n\r\n    public addText(child:SgsText):void//兼容老接口\r\n    {\r\n        this.addDrawChild(child);\r\n    }\r\n\r\n    public removeText(child:SgsText,destroy:boolean = true):void//兼容老接口\r\n    {\r\n        this.removeDrawChild(child,destroy);\r\n    }\r\n\r\n    public addTexture(child:SgsTexture):void//兼容老接口\r\n    {\r\n        this.addDrawChild(child);\r\n    }\r\n\r\n    public addTextureAt(child:SgsTexture,index:number):void//兼容老接口\r\n    {\r\n        this.addDrawChildAt(child,index);\r\n    }\r\n\r\n    public removeTexture(child:SgsTexture,destroy:boolean = true):void//兼容老接口\r\n    {\r\n        this.removeDrawChild(child,destroy);\r\n    }\r\n\r\n    /**添加子项 - 如果容器已绘制，则本次后增加的子项会绘制在本容器最后一个子项上面*/\r\n    public addDrawChild(child:SgsText | SgsTexture | SgsFlatContainer):void\r\n    {\r\n        if (this.childs.indexOf(child) != -1) return;\r\n        child.parentContainer = this;\r\n        if (this.render)//容器已绘制：新增加的子项保持在本容器子项最上面 \r\n        {\r\n            let endIndex:number = this.endIndex;\r\n            if (endIndex >= 0 && endIndex < this.render.drawCount)\r\n            {\r\n                this.render.addDrawChildAt(child,endIndex + 1);\r\n            }\r\n            else\r\n            {\r\n                this.render.addDrawChild(child);\r\n            }     \r\n        }\r\n        this.childs.push(child);\r\n        if (child instanceof SgsTexture || child instanceof SgsText)\r\n        {\r\n            if (this._mouseEnabled) \r\n            {\r\n                child.mouseEnabled = true;\r\n                this.addChildMouseEvent(child);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**添加子项\r\n     * @param index 索引(注意：单个SgsText、SgsTexture很可能有多个渲染命令，请使用getTextStartIndex、getEndIndex、getTextureStartIndex、getTextureEndIndex获取索引后再设置索引)\r\n    */\r\n    public addDrawChildAt(child:SgsText | SgsTexture | SgsFlatContainer,index:number = 0):void\r\n    {\r\n        if (this.childs.indexOf(child) != -1) return;\r\n        if (index < 0) return;\r\n        child.parentContainer = this;\r\n        if (this.render) this.render.addDrawChildAt(child,index);\r\n        this.childs.splice(index,0,child); \r\n        if (child instanceof SgsTexture || child instanceof SgsText)\r\n        {\r\n            if (this._mouseEnabled) \r\n            {\r\n                child.mouseEnabled = true;\r\n                this.addChildMouseEvent(child);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**移除子项*/\r\n    public removeDrawChild(child:SgsText | SgsTexture | SgsFlatContainer,destroy:boolean = true):void\r\n    {\r\n        let index:number = this.childs.indexOf(child);\r\n        if (index == -1) \r\n        {\r\n            if (destroy && !child.drawed)//可能是先移除了，本次需要destroy\r\n            {\r\n                if (child instanceof SgsFlatContainer)\r\n                    child.ClearDraw(destroy);\r\n                else\r\n                    child.clear(destroy);\r\n            }\r\n            return;\r\n        }\r\n        child.parentContainer = null;\r\n        this.childs.splice(index,1);\r\n        if (this.render) this.render.removeDrawChild(child,destroy);\r\n        if (child instanceof SgsTexture || child instanceof SgsText)\r\n        {\r\n            if (this._mouseEnabled)\r\n            {\r\n                child.mouseEnabled = false;\r\n                this.removeChildMouseEvent(child);\r\n            }\r\n        }  \r\n    }\r\n\r\n    public addOtherChild(otherRenderIndex:number,child:SgsText | SgsTexture | SgsFlatContainer | Laya.Sprite):void\r\n    {\r\n        if (!this.otherRenders || this.otherRenders.length <= otherRenderIndex) return;\r\n        let otherRender:SgsSprite = this.otherRenders[otherRenderIndex];\r\n        if (!otherRender || this.otherChilds[otherRenderIndex].indexOf(child) != -1) return;\r\n        if (child instanceof Laya.Sprite)\r\n        {\r\n            child[\"parentContainer\"] = this;\r\n            child[\"otherRenderIndex\"] = otherRenderIndex;\r\n        }\r\n        else \r\n            child.parentContainer = this;\r\n        if (this.render)\r\n        {\r\n            if (child instanceof Laya.Sprite)\r\n            {\r\n                this.oherChildScale(child,child.scaleX,child.scaleY);\r\n                this.oherChildVisible(child,child.visible);\r\n                let endIndex:number = this.getOtherEndIndex(otherRenderIndex,true);\r\n                if (endIndex >= 0 && endIndex < otherRender.numChildren)\r\n                    otherRender.addChildAt(child,endIndex + 1);\r\n                else\r\n                    otherRender.addChild(child);\r\n            }\r\n            else\r\n            {\r\n                let endIndex:number = this.getOtherEndIndex(otherRenderIndex,false);\r\n                if (endIndex >= 0 && endIndex < otherRender.drawCount)\r\n                    otherRender.addDrawChildAt(child,endIndex + 1);\r\n                else\r\n                    otherRender.addDrawChild(child);\r\n            }\r\n        }\r\n        this.otherChilds[otherRenderIndex].push(child);\r\n    }\r\n\r\n    public addOtherChildAt(otherRenderIndex:number,child:SgsText | SgsTexture | SgsFlatContainer | Laya.Sprite,index:number = 0):void\r\n    {\r\n        if (!this.otherRenders || this.otherRenders.length <= otherRenderIndex) return;\r\n        let otherRender:SgsSprite = this.otherRenders[otherRenderIndex];\r\n        if (!otherRender || this.otherChilds[otherRenderIndex].indexOf(child) != -1 || index < 0) return;\r\n        if (child instanceof Laya.Sprite)\r\n        {\r\n            child[\"parentContainer\"] = this;\r\n            child[\"otherRenderIndex\"] = otherRenderIndex;\r\n        }\r\n        else \r\n            child.parentContainer = this;\r\n        if (this.render) \r\n        {\r\n            if (child instanceof Laya.Sprite)\r\n            {\r\n                this.oherChildScale(child,child.scaleX,child.scaleY);\r\n                this.oherChildVisible(child,child.visible);\r\n                otherRender.addChildAt(child,index);\r\n            }\r\n            else\r\n                otherRender.addDrawChildAt(child,index);\r\n        }\r\n        this.otherChilds[otherRenderIndex].splice(index,0,child); \r\n    }\r\n\r\n    public removeOherChild(otherRenderIndex:number,child:SgsText | SgsTexture | SgsFlatContainer | Laya.Sprite,destroy:boolean = true):void\r\n    {\r\n        // if (!this.otherRenders || this.otherRenders.length <= otherRenderIndex) return;\r\n        // let otherRender:SgsSprite = this.otherRenders[otherRenderIndex];\r\n        // if (!otherRender) return;\r\n        // let index:number = this.otherChilds[otherRenderIndex].indexOf(child);\r\n        // if (index == -1) return;\r\n        let isInvalid:boolean = false;\r\n        if (!this.otherRenders || this.otherRenders.length <= otherRenderIndex) isInvalid = true;\r\n        let otherRender:SgsSprite = !isInvalid ? this.otherRenders[otherRenderIndex] : null;\r\n        if (!otherRender) isInvalid = true;\r\n        let index:number = !isInvalid ? this.otherChilds[otherRenderIndex].indexOf(child) : -1;\r\n        if (index == -1) isInvalid = true;\r\n        if (isInvalid)//无效\r\n        {\r\n            if (destroy)//可能是先移除了，本次需要destroy\r\n            {\r\n                if (child instanceof Laya.Sprite)\r\n                {\r\n                    if (!child.parent)\r\n                    {\r\n                        child[\"parentContainer\"] = null;\r\n                        child[\"otherRenderIndex\"] = -1;\r\n                        child.destroy();\r\n                    }\r\n                }   \r\n                else \r\n                {\r\n                    if (!child.drawed)\r\n                    {\r\n                        child.parentContainer = null;\r\n                        if (child instanceof SgsFlatContainer)\r\n                            child.ClearDraw(destroy);\r\n                        else\r\n                            child.clear(destroy);\r\n                    }\r\n                }\r\n            }\r\n            return;\r\n        }\r\n        if (child instanceof Laya.Sprite)\r\n        {\r\n            child[\"parentContainer\"] = null;\r\n            child[\"otherRenderIndex\"] = -1;\r\n        }\r\n        else \r\n            child.parentContainer = null;\r\n        this.otherChilds[otherRenderIndex].splice(index,1);\r\n        if (this.render)\r\n        {\r\n            if (child instanceof Laya.Sprite)\r\n            {\r\n                if (destroy)\r\n                    child.destroy();\r\n                else\r\n                    otherRender.removeChild(child);\r\n            }\r\n            else\r\n                otherRender.removeDrawChild(child,destroy);\r\n        } \r\n    }\r\n\r\n    public oherChildPos(child:Laya.Sprite,x:number,y:number):void\r\n    {\r\n        if (!child) return;\r\n        child[\"oherX\"] = x;\r\n        child[\"oherY\"] = y;\r\n        if (child[\"parentContainer\"])\r\n        {\r\n            let parentContainer = child[\"parentContainer\"];\r\n            child.pos(parentContainer.renderX + x * parentContainer.renderScaleX,parentContainer.renderY + y * parentContainer.renderScaleY);\r\n        }\r\n        else\r\n            child.pos(x,y);\r\n    }\r\n\r\n    public oherChildScale(child:Laya.Sprite,scaleX:number,scaleY:number):void\r\n    {\r\n        if (!child) return;\r\n        child[\"oherScaleX\"] = scaleX;\r\n        child[\"oherScaleY\"] = scaleY;\r\n        if (child[\"parentContainer\"])\r\n        {\r\n            let parentContainer = child[\"parentContainer\"];\r\n            child.scale(parentContainer.renderScaleX * scaleX,parentContainer.renderScaleY * scaleY);\r\n            //设置缩放会影响到坐标\r\n            this.oherChildPos(child,this.getOherChildX(child),this.getOherChildY(child));\r\n        }\r\n        else\r\n            child.scale(scaleX,scaleY);\r\n    }\r\n\r\n    public oherChildVisible(child:Laya.Sprite,visible:boolean):void\r\n    {\r\n        if (!child) return;\r\n        child[\"oherVisible\"] = visible;\r\n        if (child[\"parentContainer\"])\r\n            child.visible = !child[\"parentContainer\"].renderVisible ? false : visible;\r\n        else\r\n            child.visible = visible;\r\n    }\r\n\r\n    public getOherChildX(child:Laya.Sprite):number\r\n    {\r\n        if (!child) return 0;\r\n        if (child.hasOwnProperty(\"oherX\")) return child[\"oherX\"];\r\n        return child.x;\r\n    }\r\n\r\n    public getOherChildY(child:Laya.Sprite):number\r\n    {\r\n        if (!child) return 0;\r\n        if (child.hasOwnProperty(\"oherY\")) return child[\"oherY\"];\r\n        return child.y;\r\n    }\r\n\r\n    public getOherChildScaleX(child:Laya.Sprite):number\r\n    {\r\n        if (!child) return 0;\r\n        if (child.hasOwnProperty(\"oherScaleX\")) return child[\"oherScaleX\"];\r\n        return child.scaleX;\r\n    }\r\n\r\n    public getOherChildScaleY(child:Laya.Sprite):number\r\n    {\r\n        if (!child) return 0;\r\n        if (child.hasOwnProperty(\"oherScaleY\")) return child[\"oherScaleY\"];\r\n        return child.scaleY;\r\n    }\r\n\r\n    public getOherChildVisible(child:Laya.Sprite):boolean\r\n    {\r\n        if (!child) return false;\r\n        if (child.hasOwnProperty(\"oherVisible\")) return child[\"oherVisible\"];\r\n        return child.visible;\r\n    }\r\n\r\n    public set visible(value:boolean)\r\n    {\r\n        if (this._visible == value) return;\r\n        this._visible = value;\r\n        this.resetChildsVisible();\r\n    }\r\n\r\n    public get visible():boolean\r\n    {\r\n        return this._visible;\r\n    }\r\n\r\n    public get renderVisible():boolean\r\n    {\r\n        if (this.parentContainer && !this.parentContainer.renderVisible) return false;\r\n        return this._visible;\r\n    }\r\n\r\n    public set scaleX(value:number)\r\n    {\r\n        if (this._scaleX == value) return;\r\n        this._scaleX = value;\r\n        this.resetChildsScale();\r\n    }\r\n\r\n    public get scaleX():number\r\n    {\r\n        return this._scaleX;\r\n    }\r\n\r\n    public set scaleY(value:number)\r\n    {\r\n        if (this._scaleY == value) return;\r\n        this._scaleY = value;\r\n        this.resetChildsScale();\r\n    }\r\n\r\n    public get scaleY():number\r\n    {\r\n        return this._scaleY;\r\n    }\r\n\r\n    public get renderScaleX():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderScaleX * this._scaleX : this._scaleX;\r\n    }\r\n\r\n    public get renderScaleY():number\r\n    {\r\n        return this.parentContainer ? this.parentContainer.renderScaleY * this._scaleY : this._scaleY;\r\n    }\r\n\r\n    public set mouseEnabled(value:boolean)\r\n    {\r\n        if (this._mouseEnabled == value) return;\r\n        this._mouseEnabled = value;\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                if (child instanceof SgsTexture || child instanceof SgsText)\r\n                {\r\n                    child.mouseEnabled = this._mouseEnabled;\r\n                    if (this._mouseEnabled)\r\n                        this.addChildMouseEvent(child);\r\n                    else\r\n                        this.removeChildMouseEvent(child);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public get mouseEnabled():boolean\r\n    {\r\n        return this._mouseEnabled;\r\n    }\r\n\r\n     /**是否已绘制*/\r\n    public get drawed():boolean\r\n    {\r\n        // if (this.childs && this.childs.length > 0)\r\n        // {\r\n        //     return this.childs[0].drawed;\r\n        // }\r\n        // return false;\r\n        return this.render ? true : false;\r\n    }\r\n\r\n    /**开始索引*/\r\n    public get startIndex():number\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            return this.childs[0].startIndex;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    /**结束索引*/\r\n    public get endIndex():number\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            return this.childs[this.childs.length - 1].endIndex;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    /**获取本SgsFlatContainer管理的类在指定层绘制的最后索引*/\r\n    protected getOtherEndIndex(otherRenderIndex:number,isSprite:boolean):number\r\n    {\r\n        if (!this.otherChilds || this.otherChilds.length <= otherRenderIndex) return -1;\r\n        let childs:Array<any> = this.otherChilds[otherRenderIndex];\r\n        if (childs)\r\n        {\r\n            let length:number = childs.length;\r\n            let child:any;\r\n            for (let i:number = length - 1; i >= 0; i--)\r\n            {\r\n                if (isSprite)\r\n                {\r\n                    if (childs[i] instanceof Laya.Sprite)\r\n                    {\r\n                        child = childs[i];\r\n                        break;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    if (!(childs[i] instanceof Laya.Sprite))\r\n                    {\r\n                        child = childs[i];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (child)\r\n            {\r\n                if (isSprite)\r\n                {\r\n                    let otherRender = this.otherRenders && this.otherRenders.length > otherRenderIndex ? this.otherRenders[otherRenderIndex] : null;\r\n                    return otherRender && !otherRender.destroyed ? otherRender.getChildIndex(child) : -1;\r\n                }\r\n                else\r\n                    return child.endIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n     /**设置位置*/\r\n    public pos(x:number,y:number):void\r\n    {\r\n        if (this._x == x && this._y == y)\r\n            return;\r\n        this._x = x >> 0;\r\n        this._y = y >> 0;\r\n        this.resetChildsPos();\r\n    } \r\n\r\n    /**设置尺寸*/\r\n    public size(width:number, height:number):void\r\n    {\r\n        this._width = width;\r\n        this._height = height;\r\n        this.invalidateDisplayList();\r\n    }\r\n\r\n    protected addChildMouseEvent(child:any):void\r\n    {\r\n        child.on(Laya.Event.CLICK,this,this.onTextureClick);\r\n        child.on(Laya.Event.ROLL_OVER,this,this.onSomeTextureOver);\r\n        child.on(Laya.Event.ROLL_OUT,this,this.onSomeTextureOut);\r\n    }\r\n\r\n    protected removeChildMouseEvent(child:any):void\r\n    {\r\n        child.off(Laya.Event.CLICK,this,this.onTextureClick);\r\n        child.off(Laya.Event.ROLL_OVER,this,this.onSomeTextureOver);\r\n        child.off(Laya.Event.ROLL_OUT,this,this.onSomeTextureOut);\r\n    }\r\n\r\n    protected onTextureClick(textTure:SgsTexture):void\r\n    {\r\n        this.event(SgsFlatContainer.SGSFLATCONTAINER_CLICK,{target:textTure,currentTarget:this});\r\n    }\r\n\r\n    protected onSomeTextureOver(textTure:SgsTexture):void\r\n    {\r\n        this.event(SgsFlatContainer.SGSFLATCONTAINER_OVER,{target:textTure,currentTarget:this});\r\n    }\r\n\r\n    protected onSomeTextureOut(textTure:SgsTexture):void\r\n    {\r\n        this.event(SgsFlatContainer.SGSFLATCONTAINER_OUT,{target:textTure,currentTarget:this});\r\n    }\r\n\r\n    /**父对象位置变化后重置子项位置*/\r\n    protected resetChildsPos():void\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                if (child instanceof SgsFlatContainer)\r\n                    child.resetChildsPos();\r\n                else\r\n                    child.resetPos();\r\n            });\r\n        }\r\n\r\n        if (this.otherChilds && this.otherChilds.length > 0)\r\n        {\r\n            this.otherChilds.forEach((childs:Array<any>) => {\r\n                if (childs)\r\n                {\r\n                    childs.forEach((child:any) => {\r\n                        if (child instanceof Laya.Sprite)\r\n                            this.oherChildPos(child,this.getOherChildX(child),this.getOherChildY(child));\r\n                        else if (child instanceof SgsFlatContainer)\r\n                            child.resetChildsPos();\r\n                        else\r\n                            child.resetPos();                            \r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**父对象visible变化后重置子项渲染*/\r\n    protected resetChildsVisible():void\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                if (child instanceof SgsFlatContainer)\r\n                    child.resetChildsVisible();\r\n                else\r\n                   child.resetVisible();     \r\n            });\r\n        }\r\n\r\n        if (this.otherChilds && this.otherChilds.length > 0)\r\n        {\r\n            this.otherChilds.forEach((childs:Array<any>) => {\r\n                if (childs)\r\n                {\r\n                    childs.forEach((child:any) => {\r\n                        if (child instanceof Laya.Sprite)\r\n                            this.oherChildVisible(child,this.getOherChildVisible(child));\r\n                        else if (child instanceof SgsFlatContainer)\r\n                            child.resetChildsVisible();\r\n                        else\r\n                            child.resetVisible();     \r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**父对象缩放变化后重置子项渲染*/\r\n    protected resetChildsScale():void\r\n    {\r\n        if (this.childs && this.childs.length > 0)\r\n        {\r\n            this.childs.forEach((child:any)=>{\r\n                if (child instanceof SgsFlatContainer)\r\n                    child.resetChildsScale();\r\n                else\r\n                    child.resetScale();\r\n            });\r\n        }\r\n\r\n        if (this.otherChilds && this.otherChilds.length > 0)\r\n        {\r\n            this.otherChilds.forEach((childs:Array<any>) => {\r\n                if (childs)\r\n                {\r\n                    childs.forEach((child:any) => {\r\n                        if (child instanceof Laya.Sprite)\r\n                            this.oherChildScale(child,this.getOherChildScaleX(child),this.getOherChildScaleY(child));\r\n                        else if (child instanceof SgsFlatContainer)\r\n                            child.resetChildsScale();\r\n                        else\r\n                            child.resetScale();     \r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public ResetDrawPos():void\r\n    {\r\n        this.resetChildsPos();\r\n    }\r\n\r\n    public ResetDrawVisible():void\r\n    {\r\n        this.resetChildsVisible();\r\n    }\r\n\r\n    public ResetDrawScale():void\r\n    {\r\n        this.resetChildsScale();\r\n    }\r\n\r\n    /**稍后执行updateDisplayList*/\r\n    protected invalidateDisplayList():void\r\n    {\r\n        if (!this.invalidateDisplayListFlag)\r\n        {\r\n            this.invalidateDisplayListFlag = true;\r\n            Laya.timer.callLater(this,this.updateDisplayList,[this.width,this.height]);\r\n        }\r\n    }\r\n\r\n    /** 绘制对象和/或设置其子项的大小和位置 - 自身尺寸变化后执行 */\r\n    protected updateDisplayList(unscaledWidth:number, unscaledHeight:number):void\r\n    {\r\n        this.invalidateDisplayListFlag = false;\r\n\r\n        this.layout();\r\n    }\r\n\r\n    /**布局 - 尺寸改变后执行*/\r\n    protected layout():void\r\n    {\r\n\r\n    }\r\n}","import SgsFlatContainer from \"./SgsFlatContainer\";\r\nimport SgsTexture from \"./SgsTexture\";\r\nimport SgsText from \"./SgsText\";\r\nimport SgsSprite from \"./SgsSprite\";\r\nimport RES from \"../../../res/RES\";\r\nimport ButtonPhaseEnum from \"../../../enum/base/ButtonPhaseEnum\";\r\n\r\n/*\r\n* 扁平按钮：皮肤和文字均绘制到外部通过Draw接口传入的sgsSprite中\r\n* 派发事件数据为SgsFlatButton本身\r\n*/\r\nexport default class SgsFlatButton extends SgsFlatContainer\r\n{\r\n    protected phase:number = 0;//按钮状态标识\r\n\r\n    protected skins:Array<string>;//皮肤数组：up、over、down、disable、select\r\n    protected _labelColors:Array<string>;\r\n    protected _strokeColors:Array<string>;\r\n    protected _labelPadding:Array<string>;\r\n    protected _selected:boolean = false;\r\n    protected _enabled:boolean = true;\r\n    protected _text:string = \"\";\r\n    protected _loadSkins:Array<string>;\r\n\r\n    protected _stateChanged:boolean = false;\r\n    protected _layoutChanged:boolean = false;\r\n\r\n    public selectedEnabled:boolean = true;//选中状态时，是否触发点击事件\r\n\r\n    protected background:SgsTexture;\r\n    protected textField:SgsText;\r\n  \r\n    //额外层：如传入额外层，则额外第0层为文字层，第1层为红点层\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n\r\n        this.labelColors = \"#ffffff,#ffffff,#ffffff,#ffffff,#ffffff\";\r\n        this.strokeColors = \"#000000,#000000,#000000,#000000,#000000\";\r\n        this.labelPadding = \"0,0,0,0\";\r\n        this.initChilds();\r\n    }\r\n\r\n    public set alpha (value:number)\r\n    {\r\n        this.background.alpha = value;\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n        Laya.superSetter(SgsFlatButton,this,\"width\",value);\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        return this.background.width;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n        Laya.superSetter(SgsFlatButton,this,\"height\",value);\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return this.background.height;\r\n    }\r\n\r\n    public size(width:number, height:number):void\r\n    {\r\n        super.size(width,height);\r\n\r\n        this.background.width = width;\r\n        this.background.height = height;\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        this.background = new SgsTexture();\r\n        this.background.mouseEnabled = true;\r\n        // this.background.ButtonMode = true;\r\n        this.addDrawChild(this.background);\r\n\r\n        this.textField = new SgsText();\r\n        this.textField.wordWrap = false;\r\n        this.textField.align = \"center\";\r\n        this.textField.valign = \"middle\";\r\n        if (this.otherRenders && this.otherRenders.length)\r\n            this.addOtherChild(0,this.textField);\r\n        else\r\n            this.addDrawChild(this.textField);\r\n    }\r\n\r\n    public InitSkin(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\",selectedDisableSkin:string = \"\",selectedOverSkin:string=\"\"):void\r\n    {\r\n        this.skins = new Array<string>();\r\n        this.skins.push(upSkin);\r\n        this.skins.push(overSkin);\r\n        this.skins.push(downSkin);\r\n        this.skins.push(disableSkin);\r\n        this.skins.push(selectedSkin);\r\n        this.skins.push(selectedDisableSkin);\r\n        if(selectedOverSkin.length > 0)\r\n        {\r\n            this.skins.push(selectedOverSkin);\r\n        }\r\n\r\n        this.background.texture = RES.GetRes(upSkin);//先设置默认纹理，防止在外部立即调用Draw绘制接口时，纹理不存在无法绘制背景而先绘制了文字，导致文字绘制在了背景下面\r\n        this.setStateChanged();\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    public InitSkinUrl(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\",selectedDisableSkin:string = \"\",selectedOverSkin:string=\"\"):void\r\n    {\r\n        this.skins = new Array<string>();\r\n        this.skins.push(upSkin);\r\n        this.skins.push(overSkin);\r\n        this.skins.push(downSkin);\r\n        this.skins.push(disableSkin);\r\n        this.skins.push(selectedSkin);\r\n        this.skins.push(selectedDisableSkin);\r\n        if(selectedOverSkin.length > 0)\r\n        {\r\n            this.skins.push(selectedOverSkin);\r\n        }\r\n\r\n        if (!this._loadSkins)\r\n            this._loadSkins = [];\r\n        else\r\n        {\r\n            this.clearLoadSkins();\r\n            this._loadSkins.length = 0;\r\n        }\r\n        let url:string = \"\";\r\n        for (let i:number = 0; i < this.skins.length; i++)\r\n        {\r\n            url = this.skins[i];\r\n            if (url)\r\n            {   \r\n                if (this._loadSkins.indexOf(url) == -1)\r\n                {\r\n                    this._loadSkins.push(url);\r\n                    RES.AddReference(url);\r\n                    RES.GetResByUrl(url,this,this.onSkinLoaded,\"\",url);\r\n                }\r\n            }\r\n        }\r\n    } \r\n\r\n    /**重新加载按钮皮肤 - 针对runtime皮肤资源*/\r\n    public ReloadSkin():void\r\n    {\r\n        if (!this.skins || this.skins.length <= 0) return;\r\n        if (this.skins[0].indexOf(\"/\") == -1) return;\r\n        let url:string = \"\";\r\n        for (let i:number = 0; i < this.skins.length; i++)\r\n        {\r\n            url = this.skins[i];\r\n            if (url)\r\n            {\r\n                RES.GetResByUrl(url,this,this.onSkinLoaded,\"\",url);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected onSkinLoaded(texture:Laya.Texture,url:string):void\r\n    {\r\n        if (this.skins && this.skins.indexOf(url) != -1)\r\n        {\r\n            // this.setStateChanged();\r\n            // this.setLayoutChanged();\r\n            //线上偶现按钮显示不出问题：原因不明，尝试修改成立即执行看看效果\r\n            this.changeState();\r\n            this.changeLayout();\r\n        }\r\n    }\r\n\r\n    /**绘制*/\r\n\tpublic Draw(render:SgsSprite,index:number = -1):void\r\n\t{\r\n        super.Draw(render,index);\r\n\r\n        this.background.on(Laya.Event.MOUSE_UP,this,this.onUp);\r\n        this.background.on(Laya.Event.MOUSE_OVER,this,this.onOver);\r\n        this.background.on(Laya.Event.MOUSE_DOWN,this,this.onDown);\r\n        this.background.on(Laya.Event.MOUSE_OUT,this,this.onOut);\r\n        this.background.on(Laya.Event.CLICK,this,this.onClick);\r\n\t}\r\n\r\n\t/**清除 -- 擦除绘制及数据*/\r\n\tpublic ClearDraw(destroy:boolean = true):void\r\n\t{\r\n        super.ClearDraw(destroy);\r\n\r\n        this.background.off(Laya.Event.MOUSE_UP,this,this.onUp);\r\n        this.background.off(Laya.Event.MOUSE_OVER,this,this.onOver);\r\n        this.background.off(Laya.Event.MOUSE_DOWN,this,this.onDown);\r\n        this.background.off(Laya.Event.MOUSE_OUT,this,this.onOut);\r\n        this.background.off(Laya.Event.CLICK,this,this.onClick);\r\n\r\n        if (destroy)\r\n        {\r\n            this.clearLoadSkins();\r\n            this._loadSkins = null;\r\n        }\r\n\t}\r\n\r\n    /**九宫格,数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。*/\r\n    public set sizeGrid(value:string)\r\n    {\r\n        this.background.sizeGrid = value;\r\n    }\r\n\r\n    public set label(value:string)\r\n    {\r\n        this._text = value;\r\n        this.textField.text = value;\r\n    }\r\n\r\n    public get labelWidth():number\r\n    {\r\n        if(this.textField)\r\n        {\r\n            return this.textField.textWidth;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public set labelWidth(width:number)\r\n    {\r\n        if(this.textField)\r\n        {\r\n            this.textField.width = width;\r\n        }\r\n    }\r\n\r\n    public get label():string\r\n    {\r\n        return this._text;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的文本颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set labelColors(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._labelColors = value.split(\",\");\r\n            this.setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**表示按钮文本标签的字体大小。*/        \r\n    public set labelSize(value:number)\r\n    {\r\n        this.textField.fontSize = value;\r\n    }        \r\n\r\n    /**表示按钮文本标签的字体名称，以字符串形式表示。*/\r\n    public set labelFont(value:string)\r\n    {\r\n        this.textField.font = value;\r\n    }\r\n\r\n    public set labelWordWrap(value:boolean)\r\n    {\r\n        this.textField.wordWrap = value;\r\n    }\r\n\r\n    public set labelLeading(value:number)\r\n    {\r\n        this.textField.leading = value;\r\n    }\r\n\r\n    /**标签水平对齐模式，默认为居中对齐。 */\r\n    public set labelAlign(value:string)\r\n    {\r\n        this.textField.align = value;\r\n    }\r\n\r\n    /**标签垂直对齐模式，默认为居中对齐。 */\r\n    public set labelValign(value:string)\r\n    {\r\n        this.textField.valign = value;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的描边颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set strokeColors(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._strokeColors = value.split(\",\");\r\n            this.setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**描边宽度（以像素为单位）。 默认值0，表示不描边*/\r\n    public set labelStroke(value:number)\r\n    {\r\n        this.textField.stroke = value;\r\n    }\r\n    \r\n    \r\n    /**表示按钮文本标签是否为粗体字。*/\r\n    public set labelBold(value:boolean)\r\n    {\r\n        this.textField.bold = value;\r\n    }\r\n\r\n    /**表示按钮文本标签是否为斜体。*/\r\n    public set labelItalic(value:boolean)\r\n    {\r\n        this.textField.italic = value;\r\n    }\r\n\r\n    /**\r\n    *表示按钮文本标签的边距。\r\n    *<p><b>格式：</b>\"上边距,右边距,下边距,左边距\"。</p>\r\n    */\r\n    public set labelPadding(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._labelPadding = value.split(\",\");\r\n            this.setLayoutChanged();\r\n        }\r\n    }\r\n    \r\n    public set enabled(value:boolean)\r\n    {\r\n        this._enabled = value;\r\n        // this.background.ButtonMode = value;\r\n        this.setStateChanged();\r\n    }\r\n\r\n    public get enabled():boolean\r\n    {\r\n        return this._enabled;\r\n    }\r\n\r\n    public set selected(value:boolean)\r\n    {\r\n        this._selected = value;\r\n        this.setStateChanged();\r\n    }\r\n\t\t\r\n    public get selected():boolean\r\n    {\r\n        return this._selected;\r\n    }\r\n\r\n    // public set ButtonMode(value:boolean)\r\n    // {\r\n    //     this.background.ButtonMode = value;\r\n    // }\r\n\r\n    // public get ButtonMode():boolean\r\n    // {\r\n    //     return this.background.ButtonMode;\r\n    // }\r\n\r\n    public set TipTriggerType(val:string)\r\n\t{\r\n\t\tthis.background.TipTriggerType = val;\r\n\t}\r\n\r\n    public set ToolTip(value:any)\r\n    {\r\n        this.background.ToolTip = value;\r\n    }\r\n\r\n    public get ToolTip():any\r\n    {\r\n        return this.background.ToolTip;\r\n    }    \r\n\r\n    protected onUp(event:any):void\r\n    {\r\n        this.phase = ButtonPhaseEnum.over;\r\n        this.setStateChanged();\r\n        this.event(Laya.Event.MOUSE_UP,this);\r\n    }\r\n\r\n    protected onOver(event:any):void\r\n    {\r\n        this.phase = ButtonPhaseEnum.over;\r\n        this.setStateChanged();\r\n        this.event(Laya.Event.MOUSE_OVER,this);   \r\n    }\r\n\r\n    protected onDown(event:any):void\r\n    {\r\n        this.phase = ButtonPhaseEnum.down;\r\n        this.setStateChanged();\r\n        this.event(Laya.Event.MOUSE_DOWN,this);\r\n        // SgsSoundManager.PlayEffectSound(\"res/assets/runtime/voice/effect/button_effect_sound.mp3\");\r\n    }\r\n\r\n    protected onOut(event:any):void\r\n    {\r\n        this.phase = ButtonPhaseEnum.up;\r\n        this.setStateChanged();\r\n        this.event(Laya.Event.MOUSE_OUT,this);\r\n    }\r\n\r\n    protected onClick(event:Laya.Event):void\r\n    {\r\n        if (!this.enabled) return;//禁用状态阻止事件\r\n        if (this.selected && !this.selectedEnabled) return;//选中状态阻止事件 \r\n        \r\n        this.event(Laya.Event.CLICK,this);\r\n    }\r\n\r\n    protected setStateChanged():void\r\n    {\r\n        if (!this._stateChanged)\r\n        {\r\n            this._stateChanged = true;\r\n            Laya.timer.callLater(this,this.changeState);\r\n        }\r\n    }\r\n\r\n    protected changeState():void//状态变化\r\n    {\r\n        this._stateChanged = false;\r\n\r\n        if (!this.skins || this.skins.length < 6) return;\r\n\r\n        let curSkin:string = \"\";\r\n        let textColor:string = \"\";\r\n        let strokeColor:string = \"\";\r\n        if (!this._enabled)\r\n        {\r\n            curSkin = this._selected ? this.skins[5] : this.skins[3];\r\n            textColor = this._labelColors[3];\r\n            strokeColor = this._strokeColors[3];\r\n        }\r\n        else if (this._selected)\r\n        {\r\n            let skinIndex:number = 4;\r\n            if(this.skins.length == 7 && this.phase == ButtonPhaseEnum.over)\r\n            {\r\n                skinIndex = 6;\r\n            }\r\n            curSkin = this.skins[skinIndex];\r\n            textColor = this._labelColors[skinIndex];\r\n            strokeColor = this._strokeColors[skinIndex];\r\n        }\r\n        else\r\n        {\r\n            curSkin = this.skins[this.phase];\r\n            textColor = this._labelColors[this.phase];\r\n            strokeColor = this._strokeColors[this.phase];\r\n        }\r\n        if (curSkin == \"\" || !RES.GetRes(curSkin)) curSkin = this.skins[0];\r\n        if (!textColor) textColor = \"#ffffff\";\r\n        if (!strokeColor) strokeColor = \"#000000\";\r\n        this.background.texture = RES.GetRes(curSkin);\r\n        this.textField.color = textColor;\r\n        this.textField.strokeColor = strokeColor;\r\n    }\r\n\r\n    protected setLayoutChanged():void\r\n    {\r\n        if (!this._layoutChanged)\r\n        {\r\n            this._layoutChanged = true;\r\n            Laya.timer.callLater(this,this.changeLayout);\r\n        }\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        this._layoutChanged = false;\r\n\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        let right:number = parseInt(this._labelPadding[1]);\r\n        let top:number = parseInt(this._labelPadding[0]);\r\n        let bottom:number = parseInt(this._labelPadding[2]);\r\n\r\n        this.textField.x = left;\r\n        this.textField.y = top;\r\n        this.textField.width = this.width - left - right;\r\n        this.textField.height = this.height - top - bottom;\r\n    }\r\n\r\n    protected redPointFlag:SgsTexture;\r\n    protected redPointIsShow:boolean = false;\r\n    public ShowRedPoint(res:string = \"TopRedPoint\",x:number = 0,y:number = 0):void\r\n    {\r\n        if (!this.redPointFlag)\r\n        {\r\n            let tex:Laya.Texture = RES.GetRes(res);\r\n            if (!tex) return;\r\n            this.redPointFlag = new SgsTexture(tex);\r\n            let redPoint = this.RedPoint;\r\n            if (x) redPoint.x = x;\r\n            if (y) redPoint.y = y;\r\n            this.redPointFlag.x = redPoint.x;\r\n            this.redPointFlag.y = redPoint.y;\r\n            if (this.otherRenders && this.otherRenders.length > 1)\r\n                this.addOtherChild(1,this.redPointFlag);\r\n            else\r\n                this.addDrawChild(this.redPointFlag);\r\n        }\r\n        else\r\n        {\r\n           this.redPointFlag.visible = true; \r\n        }\r\n\r\n        this.redPointIsShow = true;\r\n    }\r\n\r\n    public RemoveRedPoint():void\r\n    {\r\n        if (this.redPointFlag)\r\n            this.redPointFlag.visible = false;\r\n        this.redPointIsShow = false;\r\n    }\r\n\r\n    public RedPointIsShow():boolean\r\n    {\r\n        return this.redPointIsShow;\r\n    }\r\n\r\n    //红点默认坐标\r\n    protected get RedPoint():{x:number,y:number}\r\n    {\r\n        return {x:this.width - 14,y:-4};\r\n    }\r\n\r\n    protected clearLoadSkins():void\r\n    {\r\n        if (this._loadSkins && this._loadSkins.length)\r\n        {\r\n            this._loadSkins.forEach(url => {\r\n                RES.DelReference(url);\r\n                RES.CancelGetResByUrl(url,this,this.onSkinLoaded);\r\n                RES.ClearResByUrl(url);\r\n            });\r\n            this._loadSkins.length = 0;\r\n        }\r\n    }\r\n}","import FontName from \"../../../enum/FontName\";\r\nimport RES from \"../../../res/RES\";\r\nimport ComboboxRenderItem from \"./ComboboxRenderItem\";\r\nimport TopUILayer from \"../../layer/TopUILayer\";\r\nimport SystemContext from \"../../../SystemContext\";\r\n\r\nexport default class SgsComboBox extends Laya.ComboBox\r\n{\r\n    protected _listSkin:string = \"\";\r\n    protected _listSizeGrid:string = \"\";\r\n    protected _scrollBarHide:boolean = false;\r\n    protected _scrollBarAutoHide:boolean = false;\r\n    protected _gap:number = 0;\r\n    protected _data:Array<{label:string,value:number}>;\r\n    \r\n    constructor(skin?:string,labels?:string) \r\n    {\r\n        super(skin,labels);\r\n\r\n        this.labelColors = \"#FAEDD9,#FAEDD9,#FAEDD9,gray\";\r\n        this.labelSize = 16;\r\n        this.itemSize = 16;\r\n        this.visibleNum = 10;\r\n        this.labelFont = FontName.ST;\r\n        this.scrollBarSkin = RES.GetAtlasUrl(\"hscrollMin\");\r\n        this.autoSize = false;\r\n        this.sizeGrid = \"10,25,10,10,0\";\r\n        this.itemRender = ComboboxRenderItem;\r\n\r\n        this.Width = this.width;\r\n    }\r\n\r\n    //下拉框背景\r\n    public set listSkin(value:string)\r\n    {\r\n        this._listSkin = value;\r\n    }\r\n\r\n    //下拉框九宫格\r\n    public set listSizeGrid(value:string)\r\n    {\r\n        this._listSizeGrid = value;\r\n    }\r\n\r\n    //下拉框滚动条掩藏\r\n    public set scrollBarHide(value:boolean)\r\n    {\r\n        this._scrollBarHide = value;\r\n    }\r\n \r\n     //下拉框滚动条自动掩藏\r\n     public set scrollBarAutoHide(value:boolean)\r\n     {\r\n        this._scrollBarAutoHide = value;\r\n     }\r\n\r\n     //下拉框和button按钮间距\r\n     public set gap(value:number)\r\n     {\r\n        this._gap = value;\r\n     }\r\n\r\n    //下拉数据\r\n    public set data(data:Array<{label:string,value:number}>)\r\n    {\r\n        this._data = data;\r\n        let labels:string = \"\";\r\n        data.forEach((item:{label:string,value:number})=>{\r\n            labels += item.label + \",\";\r\n        });\r\n        this.labels = labels.slice(0,labels.length - 1);\r\n    }\r\n\r\n    public set isOpen(value:boolean)\r\n    {\r\n        Laya.superSetter(SgsComboBox,this,\"isOpen\",value);\r\n        if (this._isOpen)\r\n        {\r\n            if (this._list)\r\n            {\r\n                if (this._list.scrollBar)\r\n                {\r\n                    this._list.scrollBar.hide = this._scrollBarHide;\r\n                    this._list.scrollBar.autoHide = this._scrollBarAutoHide;\r\n                }\r\n                this._list.removeSelf();\r\n                TopUILayer.GetInstance().addChild(this._list);\r\n                let p:Laya.Point = this.localToGlobal(Laya.Point.TEMP.setTo(0,0));\r\n                p = TopUILayer.GetInstance().globalToLocal(p);\r\n\t\t\t\tvar py = p.y + this._button.height + this._gap;\r\n\t\t\t\tpy = py + this._listHeight <= SystemContext.gameHeight ? py : p.y - this._gap - this._listHeight;\r\n\t\t\t\tthis._list.pos(p.x,py);\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置宽度：button和下拉List宽度保持一致\r\n    public set Width(value:number)\r\n    {\r\n        this.width = value;\r\n        this.list.width = value;\r\n    }\r\n\r\n    public get SelectedValue():number\r\n    {\r\n        return this._data[this.selectedIndex.toString()].value;\r\n    }\r\n\r\n    public set SelectedValue(value:number)\r\n    {\r\n        this.selectedIndex = this.getIndexByValue(value);\r\n    }\r\n\r\n    protected getIndexByValue(value:number):number\r\n    {\r\n        let result:number = 0;\r\n        for(let i:number = 0 ; i < this._data.length; i++)\r\n        {\r\n            if(this._data[i].value == value)\r\n            {\r\n                result = i;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    protected changeItem():void\r\n    {\r\n        super.changeItem();\r\n        let box:Laya.Box = this.list.getCell(0);\r\n        if (box)\r\n        {\r\n            if (!this.labels || this.labels.length <= 0)\r\n                box.width = this.list.width;\r\n            this._listHeight = Math.min(this._visibleNum,this._labels.length) * box.height;\r\n            if (!this._listHeight)\r\n                this._listHeight = this._itemHeight;\r\n            this.drawListSkin(box.width,this._listHeight);\r\n            Laya.timer.callLater(this,this.resetListHeightHandler)\r\n        }\r\n    }\r\n\r\n    protected resetListHeightHandler():void\r\n    {\r\n        this._list.height = this._listHeight;\r\n    }\r\n    \r\n    protected drawListSkin(width:number,height:number)//绘制下拉框背景\r\n    {\r\n        if (!this.list) return;\r\n        this.list.graphics.clear();\r\n        let tex:Laya.Texture = RES.GetRes(this._listSkin);\r\n        if (!tex) return;\r\n        if (this._listSizeGrid && this._listSizeGrid.length >= 4)//九宫格\r\n        {\r\n            let grid:Array<string> = this._listSizeGrid.split(\",\");\r\n            if (grid[0] == \"0\") grid[0] = \"1\";\r\n            if (grid[1] == \"0\") grid[1] = \"1\";\r\n            if (grid[2] == \"0\") grid[2] = \"1\";\r\n            if (grid[3] == \"0\") grid[3] = \"1\";\r\n            let sw:number = tex.width;\r\n            let sh:number = tex.height;\r\n            let top:number = parseInt(grid[0]);\r\n            let right:number = parseInt(grid[1]);\r\n            let bottom:number = parseInt(grid[2]);\r\n            let left:number = parseInt(grid[3]);\r\n            //九宫格编号规则\r\n            //8,1,2\r\n            //7,9,3\r\n            //6,5,4    \r\n            let tempTex = Laya.Texture.createFromTexture(tex,left,0,sw - left - right,top);\r\n            this.list.graphics.drawTexture(tempTex,left,0,width - left - right,top);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,sw - right,0,right,top);\r\n            this.list.graphics.drawTexture(tempTex,width - right,0,right,top);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,sw - right,top,right,sh - top - bottom);\r\n            this.list.graphics.drawTexture(tempTex,width - right,top,right,height - top - bottom);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,sw - right,sh - bottom,right,bottom);\r\n            this.list.graphics.drawTexture(tempTex,width - right,height - bottom,right,bottom);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,left,sh - bottom,sw - left - right,bottom);\r\n            this.list.graphics.drawTexture(tempTex,left,height - bottom,width - left - right,bottom);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,0,sh - bottom,left,bottom);\r\n            this.list.graphics.drawTexture(tempTex,0,height - bottom,left,bottom);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,0,top,left,sh - top - bottom);\r\n            this.list.graphics.drawTexture(tempTex,0,top,left,height - top - bottom);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,0,0,left,top);\r\n            this.list.graphics.drawTexture(tempTex,0,0,left,top);\r\n\r\n            tempTex = Laya.Texture.createFromTexture(tex,left,top,sw - left - right,sh - top - bottom);\r\n            this.list.graphics.drawTexture(tempTex,left,top,width - left - right,height - top - bottom);\r\n        }\r\n        else\r\n        {\r\n            this.list.graphics.drawTexture(tex,width,height);\r\n        }\r\n    }\r\n    \r\n    public destroy():void\r\n    {\r\n        this.isOpen = false;\r\n        //引擎底层静态event对象持有此对象，导致无法回收\r\n        var eventEmpty = Laya.Event.EMPTY;\r\n\t\tif (eventEmpty)\r\n\t\t{\r\n\t\t\tif (eventEmpty.currentTarget === this)\r\n\t\t\t\teventEmpty.currentTarget = null;\r\n\t\t\tif (eventEmpty.target === this)\r\n\t\t\t\teventEmpty.target = null;\r\n\t\t}\r\n        super.destroy();\r\n    }\r\n}","import SgsSprite from \"../controls/base/SgsSprite\";\r\nimport LayerBase from \"../layer/LayerBase\";\r\nimport WindowLayer from \"../layer/WindowLayer\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport GameEventDispatcher from \"../../event/GameEventDispatcher\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport SilenceResManager from \"../../mode/base/SilenceResManager\";\r\nimport LoadingManager from \"../../mode/base/LoadingManager\";\r\nimport RES from \"../../res/RES\";\r\nimport ResourceEvent from \"../../res/ResourceEvent\";\r\nimport AnimateManager from \"../../mode/base/AnimateManager\";\r\nimport EffectUtils from \"../../utils/EffectUtils\";\r\n\r\n/** 窗口基类 \r\n *  生命周期：OpenWindow > init > enterWindow > inAnimate > addEventListener > openEnd > outAnimate > closeEnd > removeEventListener > destroy\r\n*/\r\nexport default class WindowBase extends SgsSprite\r\n{\r\n\tpublic static CLOSE_NORMAL:number = 1;//正常关闭：不自动回收则从舞台移除，自动回收则destroy\r\n\tpublic static CLOSE_HIDE:number = 2;//掩藏关闭：仅从舞台移除，不destroy\r\n\r\n\tprotected parentLayer:LayerBase;//父级层\r\n\tprotected modalBg:Laya.Sprite;//模态背景\r\n\tprotected animateTween:Laya.Tween;//\r\n\r\n\tprotected autoRecover:boolean = true;//自动回收弹窗\r\n\tprotected autoRecoverRes:boolean = true;//自动回收弹窗资源\r\n\tprotected canAutoClose:boolean = true;//是否可以被自动关闭\r\n\tprotected hideOtherView:boolean = false;//打开时是否掩藏其他视图(全屏窗口打开时不显示其背后的其他窗口和场景)\r\n\tprotected modal:boolean = false;//是否模态窗口(true会在弹窗后面出现一个透明黑色背景阻止背后鼠标事件)\r\n\tprotected modalAlpha:number = 0.5;//模态透明度\r\n\tprotected needInAnimate:boolean = false;//需要进入动画\r\n\tprotected needOutAnimate:boolean = false;//需要离开动画\r\n\tprotected opening:boolean = false;//是否打开过程中\r\n\tprotected closeing:boolean = false;//是否关闭过程中\r\n\tprotected closeed:boolean = false;//已关闭\r\n    protected resNames:Array<string>;//弹窗资源组名\r\n\tprotected recoverTemplets:Array<string>;//退出时移除骨骼模板(弹窗中使用AnimateManager加载的骨骼模板)\r\n\tprotected skeletonEffectPools:Array<string>;\r\n\tprotected silenceResArr:Array<string>;//静默资源组列表\r\n\tprotected loading:boolean = false;//加载资源中\r\n\tprotected eventAdded:boolean = false;\r\n\tprotected windowData:any;//窗口数据\r\n\tprotected openSound:string = \"window_open_sound\";//弹窗打开音效\r\n\r\n\tconstructor() \r\n\t{\r\n\t\tsuper();\r\n\r\n\t\tthis.parentLayer = WindowLayer.GetInstance();//如需添加到其他层，可在子类的构造函数中修改\r\n\t\tthis.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n\t}\r\n\r\n\tpublic get ModalBg():Laya.Sprite\r\n\t{\r\n\t\treturn this.modalBg;\r\n\t}\r\n\r\n\tpublic get Loading():boolean\r\n\t{\r\n\t\treturn this.loading;\r\n\t}\r\n\r\n\tpublic get Opening():boolean\r\n\t{\r\n\t\treturn this.opening;\r\n\t}\r\n\r\n\tpublic get Closeing():boolean\r\n\t{\r\n\t\treturn this.closeing;\r\n\t}\r\n\r\n\tpublic get CanAutoClose():boolean\r\n\t{\r\n\t\treturn this.canAutoClose;\r\n\t}\r\n\r\n\tpublic get AutoRecover():boolean\r\n\t{\r\n\t\treturn this.autoRecover;\r\n\t}\r\n\r\n\tpublic get HideOtherView():boolean\r\n\t{\r\n\t\treturn this.hideOtherView;\r\n\t}\r\n\r\n\tpublic size(width:number,height:number):Laya.Sprite\r\n    {\r\n        super.size(width,height);\r\n\t\tthis.clearAnimateTween();\r\n\t\tthis.scale(1,1);\r\n\t\tthis.pos(SystemContext.gameWidth - this.width >> 1,SystemContext.gameHeight - this.height >> 1);\r\n\t\treturn this;\r\n    }\r\n\r\n\t//打开窗口：创建window时由windowManager调用\r\n\tpublic Open(...args):void\r\n\t{\r\n\t\tthis.closeed = false;\r\n\t\tthis.windowData = args;\r\n\t\tif (!this.resNames || this.resNames.length <= 0)//无需加载资源\r\n\t\t{\r\n\t\t\tthis.init();\r\n\t\t\tthis.enterWindow(...this.windowData);\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.startLoadRes();\r\n\t}\r\n\r\n\t//关闭窗口：从舞台移除，若自动回收则执行destory\r\n\tpublic Close(ignoreCloseAnimate:boolean = false):void\r\n\t{\r\n\t\tif (this.loading)//加载资源中\r\n\t\t{\r\n\t\t\tthis.closeEnd(WindowBase.CLOSE_NORMAL);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.opening)\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.opening = false;\r\n\t\t}\r\n\t\tif (this.closeing)\r\n\t\t{\r\n\t\t\tif (ignoreCloseAnimate)//忽略关闭动画\r\n\t\t\t{\r\n\t\t\t\tthis.clearAnimateTween();\r\n\t\t\t\tthis.closeEnd(WindowBase.CLOSE_NORMAL);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.needOutAnimate && !ignoreCloseAnimate && this.parent)\r\n\t\t\tthis.outAnimate(WindowBase.CLOSE_NORMAL);\r\n\t\telse\r\n\t\t\tthis.closeEnd(WindowBase.CLOSE_NORMAL);\r\n\t}\r\n\r\n\t//显示窗口:显示掩藏的窗口\r\n\tpublic Show():void\r\n\t{\r\n\t\tif (this.loading || this.opening)\r\n\t\t\treturn;\r\n\t\tthis.closeed = false;\r\n\t\tif (this.closeing)\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.closeing = false;\r\n\t\t}\t\r\n\t\tthis.showHandler();\r\n\t}\r\n\r\n\t//掩藏窗口：从舞台移除但不destory\r\n\tpublic Hide():void\r\n\t{\r\n\t\tif (this.loading)//加载资源中\r\n\t\t{\r\n\t\t\tthis.closeEnd(WindowBase.CLOSE_NORMAL);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.closeing || !this.parent) \r\n\t\t\treturn;\r\n\t\tif (this.opening)\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.opening = false;\r\n\t\t}\r\n\t\tif (this.needOutAnimate)\r\n\t\t\tthis.outAnimate(WindowBase.CLOSE_HIDE);\r\n\t\telse\r\n\t\t\tthis.closeEnd(WindowBase.CLOSE_HIDE);\r\n\t}\r\n\r\n\t//不回收的窗口，再次打开\r\n\tpublic ResetOpen(data:any):void\r\n\t{\r\n\t\tthis.closeed = false;\r\n\t\tthis.windowData = data;\r\n\t\tthis.enterWindow(...this.windowData);\r\n\t}\r\n\r\n\tprotected init():void//初始化：资源加载完后执行\r\n\t{\r\n\t\t//创建UI\r\n\t}\r\n\r\n\tprotected enterWindow(...args):void//进入窗口：资源加载完后执行\r\n\t{\r\n\t\tif (!this.closeed)//资源加载完后，窗口已关闭但未destroy\r\n\t\t\tthis.showHandler();\r\n\t\tif (!this.eventAdded)\r\n\t\t\tthis.addEventListener();\r\n\t}\r\n\r\n\tprotected showHandler():void\r\n\t{\r\n\t\tif (this.modal)//需要模态\r\n\t\t{\r\n\t\t\tif (!this.modalBg)\r\n\t\t\t{\r\n\t\t\t\tthis.modalBg = new Laya.Sprite();\r\n\t\t\t\tthis.modalBg.alpha = this.modalAlpha;\r\n\t\t\t\tthis.modalBg.on(Laya.Event.CLICK,this,this.onModalClick);\r\n\t\t\t}\r\n\t\t\tthis.modalBg.graphics.clear();\r\n\t\t\tthis.modalBg.graphics.drawRect(0,0,SystemContext.gameWidth,SystemContext.gameHeight,\"#000000\");\r\n\t\t\tthis.modalBg.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n\t\t\tif (!this.modalBg.parent)\r\n\t\t\t\tthis.parentLayer.addChild(this.modalBg);\r\n\t\t\telse//设置到最顶层\r\n\t\t\t\tthis.parent.setChildIndex(this,this.parent.numChildren-1);\r\n\t\t\tthis.modalBg.visible = true;\r\n\t\t}\r\n\t\telse//不需要\r\n\t\t{\r\n\t\t\tif (this.modalBg)\r\n\t\t\t\tthis.modalBg.removeSelf();\r\n\t\t}\r\n\t\tif (!this.parent)\r\n\t\t\tthis.parentLayer.addChild(this);\r\n\t\telse//设置到最顶层\r\n\t\t\tthis.parent.setChildIndex(this,this.parent.numChildren-1);\r\n\t\t\t\r\n\t\tthis.visible = true;\r\n\t\tif (this.needInAnimate)\r\n\t\t\tthis.inAnimate();\r\n\t\telse\r\n\t\t\tthis.openEnd();\r\n\t\tif (this.openSound)\r\n\t\t{\r\n\t\t\t// SgsSoundManager.PlayEffectSound(\"res/assets/runtime/voice/effect/\" + this.openSound + \".mp3\");\r\n\t\t}\r\n\t}\r\n\r\n\tprotected addEventListener():void//添加事件监听\r\n\t{\r\n\t\tthis.eventAdded = true;\r\n\t\tGameEventDispatcher.GetInstance().on(Laya.Event.RESIZE,this,this.onStageResize);\r\n\t}\r\n\r\n\tprotected removeEventListener():void//删除事件监听\r\n\t{\r\n\t\tGameEventDispatcher.GetInstance().off(Laya.Event.RESIZE,this,this.onStageResize);\r\n\t}\r\n\r\n\tprotected inAnimate():void//子类重构进入动画函数:动画结束后调用openEnd函数\r\n\t{\r\n\t\tif (this.opening && this.animateTween)//正在打开中\r\n\t\t\treturn;\r\n\t\tif (this.closeing)//正在关闭中:先停止关闭动画\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.closeing = false;\r\n\t\t}\r\n\t\tthis.mouseEnabled = false;\r\n\t\tthis.startAnimateIn();\r\n\t}\r\n\r\n\tprotected startAnimateIn():void\r\n\t{ \r\n\t\tthis.opening = true;\r\n\t\tthis.pos(SystemContext.gameWidth >> 1,SystemContext.gameHeight >> 1);\r\n\t\tthis.scale(0,0);\r\n\r\n\t\tlet endPos:Laya.Point = this.windowTargetPos();\r\n\t\tthis.animateTween = Laya.Tween.to(this,{x:endPos.x,y:endPos.y,scaleX:1,scaleY:1}\r\n\t\t\t,300,Laya.Ease.sineOut,new Laya.Handler(this,this.openEnd));\r\n\t}\r\n\t\r\n\tprotected windowTargetPos():Laya.Point//窗口目标位置\r\n\t{\r\n\t\treturn new Laya.Point(SystemContext.gameWidth - this.width >> 1,SystemContext.gameHeight - this.height >> 1);\r\n\t}\r\n\r\n\tprotected openEnd():void\r\n\t{\r\n\t\tlet endPos:Laya.Point = this.windowTargetPos();\r\n\t\tthis.pos(endPos.x,endPos.y);\r\n\t\tthis.scale(1,1);\r\n\t\tthis.animateTween = null;\r\n\t\tthis.opening = false;\r\n\t\tthis.mouseEnabled = true;\r\n\t\tthis.loadSilenceRes();\r\n\t\tif (this.hideOtherView)//掩藏其他窗口场景\r\n\t\t\tWindowManager.GetInstance().UpdateHideView(this,true);\r\n\t}\r\n\r\n\tprotected outAnimate(closeType:number):void//子类重构离开动画函数：动画结束后调用closeEnd函数\r\n\t{\r\n\t\tif (this.closeing && this.animateTween)//正在关闭中\r\n\t\t\treturn;\r\n\t\tif (this.opening)//正在打开中:先停止打开动画\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.opening = false;\r\n\t\t}\r\n\t\tthis.mouseEnabled = false;\r\n\t\tthis.startAnimateOut(closeType);\r\n\t\tif (this.hideOtherView)//更新掩藏其他视图\r\n\t\t\tWindowManager.GetInstance().UpdateHideView(this,false);\r\n\t}\r\n\r\n\tprotected startAnimateOut(closeType:number):void\r\n\t{\r\n\t\tthis.closeing = true;\r\n\t\tthis.animateTween = Laya.Tween.to(this,{x:SystemContext.gameWidth >> 1,y:SystemContext.gameHeight >> 1,scaleX:0,scaleY:0}\r\n\t\t\t,300,Laya.Ease.sineOut,new Laya.Handler(this,this.closeEnd,[closeType,true]));\r\n\t}\r\n\r\n\tprotected closeEnd(closeType:number,animateEnd:boolean = false):void\r\n\t{\r\n\t\tthis.closeed = true;\r\n\t\tthis.animateTween = null;\r\n\t\tthis.closeing = false;\r\n\t\tthis.mouseEnabled = true;\r\n\t\tif (this.modalBg)\r\n\t\t\tthis.modalBg.removeSelf();\r\n\t\tthis.removeSelf();\r\n\t\tif (closeType == WindowBase.CLOSE_NORMAL)//正常\r\n\t\t{\r\n\t\t\tif (this.autoRecover)//自动回收\r\n\t\t\t\tthis.destroy();\r\n\t\t}\r\n\t\telse if (closeType == WindowBase.CLOSE_HIDE)//掩藏\r\n\t\t{}\r\n\t\tif (!animateEnd)//不是动画播放结束\r\n\t\t{\r\n\t\t\tif (this.hideOtherView)//更新掩藏其他视图\r\n\t\t\t\tWindowManager.GetInstance().UpdateHideView(this,false);\r\n\t\t}\r\n\t\tGameEventDispatcher.GetInstance().event(GameEventDispatcher.WINDOW_CLOSED,this.name);\r\n\t}\r\n\r\n\tprotected onStageResize(event:Laya.Event):void//舞台尺寸变化\r\n\t{\r\n\t\tif (this.modalBg)\r\n\t\t{\r\n\t\t\tthis.modalBg.graphics.clear();\r\n\t\t\tthis.modalBg.graphics.drawRect(0,0,SystemContext.gameWidth,SystemContext.gameHeight,\"#000000\");\r\n\t\t\tthis.modalBg.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n\t\t}\r\n\t\tif (this.parent && !this.closeing)//非关闭中\r\n\t\t{\r\n\t\t\tthis.clearAnimateTween();\r\n\t\t\tthis.scale(1,1);\r\n\t\t\tthis.windowTargetPos();\r\n\t\t}\r\n\t\tthis.pos(SystemContext.gameWidth - this.width >> 1,SystemContext.gameHeight - this.height >> 1);\r\n\t}\r\n\r\n\tprivate onModalClick(event:Laya.Event):void\r\n    {\r\n    }\r\n\r\n\t////////////////////////////资源加载逻辑/////////////////////////////////\r\n\tprotected totalCount:number = 0;\r\n\tprotected loadedCount:number = 0;\r\n\tprotected startLoadRes():void\r\n\t{\r\n\t\tSilenceResManager.GetInstance().PauseSilenceRes();\r\n\t\tthis.loading = true;\r\n\t\tLoadingManager.ShowLoading();\r\n\t\tthis.addResEvent();\r\n\t\tthis.totalCount = this.resNames.length;\r\n\t\tthis.loadedCount = 0;\r\n\t\tlet priority:number = 100 + this.resNames.length - 1;\r\n\t\tfor (let i:number = 0; i < this.resNames.length; i++)\r\n\t\t{\r\n\t\t\tRES.LoadGroup(this.resNames[i],priority);\r\n\t\t\tpriority --;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected addResEvent():void\r\n\t{\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceLoadComplete);\r\n\t}\r\n\r\n\tprotected removeResEvent():void\r\n\t{\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceLoadComplete);\r\n\t\tthis.totalCount = 0;\r\n\t\tthis.loadedCount = 0;\r\n\t}\r\n\r\n\tprotected onResourceProgress(event:ResourceEvent):void\r\n\t{\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tlet progress:number = event.progress;\r\n\t\tprogress = this.loadedCount / this.totalCount + progress * (1 / this.totalCount);\r\n\t\tLoadingManager.ShowLoadProgress(progress * 100,100);\r\n\t}\r\n\r\n\tprotected onResourceError(event:ResourceEvent):void\r\n\t{\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tthis.removeResEvent();\r\n\t\tLoadingManager.ShowLoadError(\"资源组加载失败：\" + event.groupName,this.name);\r\n\t\tSilenceResManager.GetInstance().RecoverySilenceRes();\r\n\t\tthis.loading = false;\r\n\t\tif (this.destroyed)//窗口已被destroy\r\n\t\t{\r\n\t\t\tthis.clearSkeletonEffectPools();\r\n\t\t\tthis.clearWindowRes();\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.destroy();\r\n\t}\r\n\r\n\tprotected onResourceLoadComplete(event:ResourceEvent):void//资源加载完成\r\n    {\t\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tthis.loadedCount ++;\r\n\t\tif (this.loadedCount >= this.totalCount)\r\n\t\t{\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.removeResEvent();\r\n\t\t\tLoadingManager.CloseLoading();\r\n\t\t\tif (this.destroyed)//资源加载完时，窗口已被destroy\r\n\t\t\t{\r\n\t\t\t\tthis.clearSkeletonEffectPools();\r\n\t\t\t\tthis.clearWindowRes();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.init();\r\n\t\t\t\tthis.enterWindow(... this.windowData);\r\n\t\t\t}\r\n\t\t\tSilenceResManager.GetInstance().RecoverySilenceRes();\r\n\t\t}\r\n\t}\r\n\r\n    protected loadSilenceRes():void//加载静默资源\r\n    {\r\n        if (!this.silenceResArr || this.silenceResArr.length <= 0) return;\r\n        SilenceResManager.GetInstance().LoadSilenceRes(this.silenceResArr);\r\n\t}\r\n\r\n\tpublic AddRecoverTemplet(url:string):void\r\n    {\r\n        if (!this.recoverTemplets) \r\n            this.recoverTemplets = [];\r\n        if (this.recoverTemplets.indexOf(url) == -1)\r\n            this.recoverTemplets.push(url);\r\n    }\r\n\r\n\tpublic AddRecoverEffectPool(poolSign:string):void//记录使用对象池的特效，用于退出场景时清理其对象池\r\n    {\r\n\t\tif (!this.skeletonEffectPools)\r\n\t\t\tthis.skeletonEffectPools = [];\r\n\t\tif (this.skeletonEffectPools.indexOf(poolSign) == -1)\r\n\t\t\tthis.skeletonEffectPools.push(poolSign);\r\n\t}\r\n\r\n\tprotected clearAnimateTween():void\r\n\t{\r\n\t\tif (this.animateTween)\r\n\t\t{\r\n\t\t\tthis.animateTween.clear();\r\n\t\t\tthis.animateTween = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected clearSkeletonEffectPools():void//清理对象池\r\n    {\r\n        if (this.skeletonEffectPools && this.skeletonEffectPools.length)\r\n        {\r\n            let length:number = this.skeletonEffectPools.length;\r\n            for (let i:number = 0; i < length; i++)\r\n            {\r\n                EffectUtils.ClearSkeletonEffectPool(this.skeletonEffectPools[i]);\r\n            }\r\n            this.skeletonEffectPools.length = 0;\r\n        }\r\n    }\r\n\t\r\n\tpublic clearWindowRes():void//清理资源\r\n    {\r\n\t\tif (!this.autoRecoverRes) return;\r\n\t\t//回收动画模板\r\n\t\tif (this.recoverTemplets && this.recoverTemplets.length > 0)\r\n\t\t{\r\n\t\t\tlet length:number = this.recoverTemplets.length;\r\n\t\t\tfor (let i:number = 0; i < length; i++)\r\n\t\t\t{\r\n\t\t\t\tAnimateManager.GetInstane().DestroyAnimate(this.recoverTemplets[i]);\r\n\t\t\t}\r\n\t\t\tthis.recoverTemplets.length = 0;\r\n\t\t}\r\n        //回收资源组\r\n        if (this.resNames && this.resNames.length > 0)\r\n        {\r\n            for (let i:number = 0; i < this.resNames.length; i++)\r\n            {\r\n                RES.ClearResByGroup(this.resNames[i],false,true);\r\n            }\r\n            this.resNames.length = 0;\r\n        }\r\n    }\r\n\r\n\t//销毁窗口不准调用destory，请调用Close\r\n\tpublic destroy():void\r\n\t{\r\n\t\tthis.clearAnimateTween();\r\n\t\tif (this.modalBg)\r\n\t\t{\r\n\t\t\tthis.modalBg.off(Laya.Event.CLICK,this,this.onModalClick);\r\n\t\t\tthis.modalBg.destroy();\r\n\t\t\tthis.modalBg = null;\r\n\t\t} \r\n\t\tif (this.eventAdded)\r\n\t\t\tthis.removeEventListener();\r\n\t\tsuper.destroy(true);\r\n\t\tthis.clearSkeletonEffectPools();\r\n\t\tthis.clearWindowRes();\r\n\t\tthis.parentLayer = null;\r\n\t\tthis.windowData = null;\r\n\t\tWindowManager.GetInstance().DeleteKey(this.name);\r\n\t}\r\n}","import SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameEventDispatcher from \"../../event/GameEventDispatcher\";\r\nimport SilenceResManager from \"../../mode/base/SilenceResManager\";\r\nimport EffectUtils from \"../../utils/EffectUtils\";\r\nimport AnimateManager from \"../../mode/base/AnimateManager\";\r\nimport RES from \"../../res/RES\";\r\n\r\n/** 场景基类 \r\n *  生命周期：init > onAddToStage > createChildren > addEventListener > AnimateIn > AnimateOut > removeEventListener > destroy\r\n*/\r\nexport default class SceneBase extends SgsSprite\r\n{\r\n    public static ANIMATE_OUT_COMPLETE:string = \"animate_out_complete\";\r\n    public static ANIMATE_IN_COMPLETE:string = \"animate_in_complete\";\r\n    public static ANIMATE_RESET_COMPLETE:string = \"ANIMATE_RESET_COMPLETE\";\r\n\r\n    protected inited:boolean = false;//是否已初始化\r\n    protected needInAnimate:boolean = false;//需要进入动画\r\n\tprotected needOutAnimate:boolean = false;//需要离开动画\r\n    protected resNames:Array<string>;//场景资源组列表\r\n    protected sceneData:any;//场景数据(外部传入)\r\n    protected silenceResArr:Array<string>;//静默资源组列表(进入场景后自动加载这些资源)\r\n    protected recoverTemplets:Array<string>;//随场景回收的动画模板\r\n    protected skeletonEffectPools:Array<string>;//随场景回收的特效对象池\r\n    protected operationRecord:Array<string>;//操作记录(用于武将、皮肤、三国秀界面返回)\r\n    protected enterComplete:Laya.Handler;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n        this.init();\r\n    }\r\n\r\n    //场景名 - 实例是会被自动赋值上类名\r\n    protected sceneName:string = \"\";\r\n\tpublic get SceneName():string\r\n\t{\r\n\t\treturn this.sceneName;\r\n\t}\r\n\tpublic set SceneName(val:string)\r\n\t{\r\n\t\tthis.sceneName = val;\r\n\t}\r\n\r\n    //场景数据 - 进入场景时传递的数据\r\n    public set SceneData(val:any)\r\n\t{\r\n\t\tthis.sceneData = val;\r\n\t}\r\n    public get SceneData():any\r\n    {\r\n        return this.sceneData;\r\n    }\r\n\r\n    public get ResNames():Array<string>\r\n    {\r\n        return this.resNames;\r\n    }\r\n    public set ResNames(value:Array<string>)\r\n    {\r\n        this.resNames = value;\r\n    }\r\n\r\n    public get EnterComplete():Laya.Handler\r\n    {\r\n        return this.enterComplete;\r\n    }\r\n    public set EnterComplete(value:Laya.Handler)\r\n    {\r\n        this.enterComplete = value;\r\n    }\r\n\r\n    //场景存在的情况下再次进入\r\n    public ResetScene(data:any):void\r\n    {\r\n        \r\n    }\r\n\r\n    //获取操作记录\r\n    public get OperationRecord():Array<string>\r\n    {\r\n        return this.operationRecord;\r\n    }\r\n\r\n    //添加操作记录\r\n    public AddOperationRecord(name:string):void\r\n    {\r\n        if (!this.operationRecord)\r\n            this.operationRecord = [];\r\n        if (this.operationRecord.indexOf(name) == -1)\r\n            this.operationRecord.push(name);\r\n    }\r\n\r\n    //返回上一界面(同时删除最后一条记录)\r\n    public BackFrontView(isBack:boolean = true):void\r\n    {\r\n        if(isBack)\r\n        {\r\n            let frontName:string = this.getFrontOperationRecord();\r\n            if (frontName != \"\")//存在上一界面\r\n                WindowManager.GetInstance().ShowWindow(frontName);\r\n            else//还原场景内容\r\n            {\r\n                \r\n            }\r\n            this.delLastOperationRecord();\r\n        }\r\n        else//直接还原场景内容\r\n        {\r\n            this.DelAllOperationRecord();\r\n        }\r\n    }\r\n\r\n    //获取最后一条操作记录\r\n    public GetLastOperationRecord():string\r\n    {\r\n        if (this.operationRecord && this.operationRecord.length >= 1)\r\n            return this.operationRecord[this.operationRecord.length - 1];\r\n        return \"\";\r\n    }\r\n\r\n    //删除全部操作记录\r\n    public DelAllOperationRecord():void\r\n    {\r\n        if (this.operationRecord)\r\n            this.operationRecord.length = 0;\r\n    }\r\n\r\n    //获取上一条操作记录\r\n    private getFrontOperationRecord():string\r\n    {\r\n        if (this.operationRecord && this.operationRecord.length >= 2)\r\n            return this.operationRecord[this.operationRecord.length - 2];\r\n        return \"\";\r\n    }\r\n\r\n    //删除最后一条操作记录\r\n    private delLastOperationRecord():void\r\n    {\r\n        if (this.operationRecord && this.operationRecord.length > 0)\r\n            this.operationRecord.pop();\r\n    }\r\n\r\n    protected init():void//初始化 - 做一些数据初始化\r\n    {\r\n        this.on(Laya.Event.ADDED, this, this.onAddToStage);\r\n        this.on(Laya.Event.REMOVED, this, this.onRemoveToStage);\r\n    }\r\n\r\n    protected onAddToStage(event?:Laya.Event):void//被添加到舞台上\r\n    {\r\n        if (!this.inited) \r\n        {\r\n            this.inited = true;\r\n            this.createChildren();\r\n            this.addEventListener();\r\n            this.loadSilenceRes();\r\n        }\r\n        this.AnimateIn();\r\n    }\r\n    \r\n    protected createChildren():void//创建子项 - add到舞台后执行\r\n    {   \r\n        //子项在这里创建，切换场景缓存的协议在createChildren后才释放缓存协议\r\n    }\r\n\r\n    protected addEventListener():void//添加事件监听\r\n    {\r\n        GameEventDispatcher.GetInstance().on(Laya.Event.RESIZE,this,this.onStageResize);\r\n    }\r\n   \r\n    protected removeEventListener():void//删除事件监听\r\n    {\r\n        GameEventDispatcher.GetInstance().off(Laya.Event.RESIZE,this,this.onStageResize);\r\n    }\r\n\r\n    protected loadSilenceRes():void//加载静默资源\r\n    {\r\n        if (!this.silenceResArr || this.silenceResArr.length <= 0) return;\r\n        SilenceResManager.GetInstance().LoadSilenceRes(this.silenceResArr);\r\n    }\r\n\r\n    public AnimateIn():void//进入场景过度效果\r\n    {\r\n        this.mouseEnabled = false;\r\n        if (this.needInAnimate)//需要进入动画\r\n        {\r\n            //子类重构实现，并在进入动画结束后调用animateInEnd接口\r\n        }\r\n        else\r\n        {\r\n            this.animateInEnd();\r\n        }\r\n        // WBMgr.GetInstance().StopCache();//进入场景，关闭缓存\r\n    }\r\n    \r\n\tprotected animateInEnd():void//进入场景过度动画结束\r\n\t{\r\n        this.mouseEnabled = true;\r\n        this.event(SceneBase.ANIMATE_IN_COMPLETE,this);\r\n        if (this.enterComplete)\r\n        {\r\n            this.enterComplete.run();\r\n            this.enterComplete = null;\r\n        }\r\n\t}\r\n    \r\n    public AnimateOut():void//离开场景过度效果\r\n    {   \r\n        if (this.needOutAnimate)//需要离开动画\r\n        {\r\n            //子类重构实现，并在进入动画结束后调用animateOutEnd接口\r\n        }   \r\n        else\r\n        {\r\n            this.animateOutEnd();\r\n        }   \r\n    }\r\n\r\n    protected animateOutEnd():void//离开场景动画结束\r\n    {\r\n        this.removeSelf();\r\n        this.removeEventListener();\r\n        this.event(SceneBase.ANIMATE_OUT_COMPLETE,this);\r\n    }\r\n\r\n    protected onRemoveToStage(event?:Laya.Event):void//从舞台上移除\r\n    {\r\n        this.off(Laya.Event.ADDED, this, this.onAddToStage);\r\n        this.off(Laya.Event.REMOVED, this, this.onRemoveToStage);\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n    }\r\n\r\n    public AddRecoverTemplet(url:string):void\r\n    {\r\n        if (!this.recoverTemplets) \r\n            this.recoverTemplets = [];\r\n        if (this.recoverTemplets.indexOf(url) == -1)\r\n            this.recoverTemplets.push(url);\r\n    }\r\n\r\n    public AddRecoverEffectPool(poolSign:string):void//记录使用对象池的特效，用于退出场景时清理其对象池\r\n    {\r\n        if (!this.skeletonEffectPools)\r\n            this.skeletonEffectPools = [];\r\n        if (this.skeletonEffectPools.indexOf(poolSign) == -1)\r\n            this.skeletonEffectPools.push(poolSign);\r\n\t}\r\n\r\n    protected clearSkeletonEffectPools():void//清理对象池\r\n    {\r\n        if (this.skeletonEffectPools && this.skeletonEffectPools.length)\r\n        {\r\n            let length:number = this.skeletonEffectPools.length;\r\n            for (let i:number = 0; i < length; i++)\r\n            {\r\n                EffectUtils.ClearSkeletonEffectPool(this.skeletonEffectPools[i]);\r\n            }\r\n            this.skeletonEffectPools.length = 0;\r\n        }\r\n    }\r\n\r\n    protected clearSceneRes():void//清理资源\r\n    {\r\n        //回收动画模板\r\n        if (this.recoverTemplets && this.recoverTemplets.length > 0)\r\n        {\r\n            let length:number = this.recoverTemplets.length;\r\n            for (let i:number = 0; i < length; i++)\r\n            {\r\n                AnimateManager.GetInstane().DestroyAnimate(this.recoverTemplets[i]);\r\n            }\r\n            this.recoverTemplets.length = 0;\r\n        }\r\n        //回收资源组\r\n        if (this.resNames && this.resNames.length > 0)\r\n        {\r\n            for (let i:number = 0; i < this.resNames.length; i++)\r\n            {\r\n                RES.ClearResByGroup(this.resNames[i],false,true);\r\n            }\r\n            this.resNames.length = 0;\r\n        }\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        if (this.destroyed) return;\r\n        Laya.Tween.clearAll(this);\r\n        Laya.timer.clearAll(this);\r\n        super.destroy(true);\t\r\n        this.clearSkeletonEffectPools();\r\n        this.clearSceneRes();\r\n        this.sceneData = null;\r\n        this.enterComplete = null;\r\n\t}\r\n}","import FontName from \"../../../enum/FontName\";\r\nimport Global from \"../../../Global\";\r\nimport SceneManager from \"../../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../../mode/base/WindowManager\";\r\nimport RES from \"../../../res/RES\";\r\nimport SystemContext from \"../../../SystemContext\";\r\nimport UIUtils from \"../../../utils/UIUtils\";\r\nimport SgsFlatButton from \"../../controls/base/SgsFlatButton\";\r\nimport SgsSprite from \"../../controls/base/SgsSprite\";\r\nimport SgsText from \"../../controls/base/SgsText\";\r\nimport SgsTexture from \"../../controls/base/SgsTexture\";\r\nimport DressAvatar from \"../../dressScene/DressAvatar\";\r\nimport SceneBase from \"../SceneBase\";\r\n\r\n\r\n//搭配保存场景\r\nexport default class DressSaveScene extends SceneBase\r\n{\r\n    private bg:SgsTexture;\r\n    private light:SgsTexture;\r\n    private dressAvatar:DressAvatar;\r\n    private topSp:SgsSprite;\r\n    private downBtn:SgsFlatButton;\r\n    private ruleBtn:SgsFlatButton;\r\n    private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private shareBtn:SgsFlatButton;    \r\n    private saveBtn:SgsFlatButton;\r\n    private myDressBtn:SgsFlatButton;    \r\n    private rankBtn:SgsFlatButton;\r\n    private dressBtn:SgsFlatButton;\r\n    private desc:SgsText;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        if (Global.AutoClearRes)\r\n            this.resNames = [\"dressSaveScene\"];\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"dressSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.light = new SgsTexture(RES.GetRes(\"dressLight\"));\r\n        this.light.pos(134,374);\r\n        this.addDrawChild(this.light);\r\n\r\n        this.dressAvatar = new DressAvatar();\r\n        this.dressAvatar.pos((SystemContext.gameWidth - this.dressAvatar.width * 0.72 >> 1) + Global.ModelOffsetX * 0.72,102);\r\n        this.dressAvatar.scale(0.72,0.72);\r\n        this.addChild(this.dressAvatar);\r\n\r\n        this.topSp = new SgsSprite();\r\n        this.topSp.size(this.width,this.height);\r\n        this.topSp.addDrawClick();\r\n        this.addChild(this.topSp);\r\n\r\n        this.downBtn = new SgsFlatButton();\r\n        this.downBtn.pos(0,29);\r\n        this.downBtn.InitSkin(\"baseDownBtn\");\r\n        this.downBtn.on(Laya.Event.CLICK,this,this.onDownLoadHandler);\r\n        this.topSp.addDrawChild(this.downBtn);\r\n\r\n        this.ruleBtn = new SgsFlatButton();\r\n        this.ruleBtn.pos(0,133);\r\n        this.ruleBtn.InitSkin(\"baseRuleBtn\");\r\n        this.ruleBtn.on(Laya.Event.CLICK,this,this.onRuleHandler);\r\n        this.topSp.addDrawChild(this.ruleBtn);\r\n\r\n        this.homeBtn = new SgsFlatButton();\r\n        this.homeBtn.pos(647,29);\r\n        this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        this.homeBtn.on(Laya.Event.CLICK,this,this.onHomeHandler);\r\n        this.topSp.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        this.soundBtn.pos(647,133);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.topSp.addDrawChild(this.soundBtn);\r\n\r\n        this.shareBtn = new SgsFlatButton();\r\n        this.shareBtn.pos(647,237);\r\n        this.shareBtn.InitSkin(\"baseShareBtn\");\r\n        this.shareBtn.on(Laya.Event.CLICK,this,this.onShareHandler);\r\n        this.topSp.addDrawChild(this.shareBtn);\r\n\r\n        this.saveBtn = new SgsFlatButton();\r\n        this.saveBtn.pos(227,820);\r\n        this.saveBtn.InitSkin(\"baseSaveBtn\");\r\n        this.saveBtn.on(Laya.Event.CLICK,this,this.onSaveHandler);\r\n        this.topSp.addDrawChild(this.saveBtn);\r\n\r\n        this.myDressBtn = new SgsFlatButton();\r\n        this.myDressBtn.InitSkin(\"baseMyDressBtn1\");\r\n        this.myDressBtn.on(Laya.Event.CLICK,this,this.onMyDressHandler);\r\n        this.topSp.addDrawChild(this.myDressBtn);\r\n\r\n        this.rankBtn = new SgsFlatButton();\r\n        this.rankBtn.InitSkin(\"baseRankBtn1\");\r\n        this.rankBtn.on(Laya.Event.CLICK,this,this.onRankHandler);\r\n        this.topSp.addDrawChild(this.rankBtn);\r\n\r\n        this.dressBtn = new SgsFlatButton();\r\n        this.dressBtn.InitSkin(\"baseDressBtn\");\r\n        this.dressBtn.on(Laya.Event.CLICK,this,this.onDressHandler);\r\n        this.topSp.addDrawChild(this.dressBtn);\r\n\r\n        this.desc = new SgsText();\r\n        this.desc.pos(126,943);\r\n        this.desc.width = SystemContext.gameWidth - 126 * 2;\r\n        this.desc.font = FontName.HEITI;\r\n        this.desc.color = \"#6A736F\";\r\n        this.desc.fontSize = 22;\r\n        this.desc.leading = 10;\r\n        // this.desc.align = \"center\";\r\n        // this.desc.wordWrap = true;\r\n        this.desc.text = \"主人，点击按钮可将该搭配保存至您的手机相册哦\\n同时，您可前往【我的搭配】中查看所有搭配记录。\";\r\n        this.addDrawChild(this.desc);\r\n\r\n        if (this.sceneData)\r\n            this.dressAvatar.UpdateAll(this.sceneData.skin,this.sceneData.collocation);\r\n\r\n        this.onStageResize();\r\n    }\r\n\r\n    private onDownLoadHandler():void\r\n    {\r\n        Global.DownLoadGame();\r\n    }\r\n\r\n    private onRuleHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"RuleWindow\");\r\n    }\r\n\r\n    private onHomeHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onShareHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"SharePromptWindow\");\r\n    }\r\n\r\n    private onSaveHandler():void\r\n    {\r\n        if (this.sceneData)\r\n            WindowManager.GetInstance().OpenWindow(\"SaveDressWindow\",this.sceneData.skin,this.sceneData.collocation);\r\n    }\r\n\r\n    private onMyDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"MyDressScene\");\r\n    }\r\n\r\n    private onRankHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"RankScene\");\r\n    }\r\n\r\n    private onDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"DressScene\");\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n\r\n        let startY:number = this.desc.y + this.desc.height;\r\n        let centerY:number = SystemContext.gameHeight - startY - 232 >> 1;\r\n        this.myDressBtn.pos(77,startY + centerY);//SystemContext.gameHeight - 259);\r\n        this.rankBtn.pos(291,startY + centerY);//SystemContext.gameHeight - 259);\r\n        this.dressBtn.pos(506,startY + centerY);//SystemContext.gameHeight - 259);\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        super.destroy();\r\n    }\r\n}","import TextureAtlas from \"./TextureAtlas\";\r\n\r\n//动态图集管理类\r\nexport default class TextureAtlasManager\r\n{\r\n    public static Instance:TextureAtlasManager;\r\n\r\n    protected atlasTextureWidth:number = 0;//动态图集尺寸\r\n    protected atlasTextureHeight:number = 0;\r\n    protected atlasLimitWidth:number = 0;//进入动态图集的纹理最大尺寸\r\n    protected atlasLimitHeight:number = 0;\r\n    protected maxAtlaserCount:number = 0;//动态图集最大数量\r\n    protected atlasArray:Array<TextureAtlas>;\r\n    protected tmpAtlasPos:Laya.Point;\r\n\r\n    /**\r\n     * @param atlasTextureWidth 动态图集宽度\r\n     * @param atlasTextureHeight 动态图集高度\r\n     * @param atlasLimitWidth 进入动态图集的纹理最大宽度\r\n     * @param atlasLimitHeight 进入动态图集的纹理最大高度\r\n     * @param maxAtlaserCount 动态图集最大数量\r\n     */\r\n    constructor(atlasTextureWidth:number = 2048,atlasTextureHeight:number = 2048,atlasLimitWidth:number = 512,atlasLimitHeight:number = 512,maxAtlaserCount:number = 2) \r\n    {\r\n        this.atlasTextureWidth = atlasTextureWidth;\r\n        this.atlasTextureHeight = atlasTextureHeight;\r\n        this.atlasLimitWidth = atlasLimitWidth;\r\n        this.atlasLimitHeight = atlasLimitHeight;\r\n        this.maxAtlaserCount = maxAtlaserCount;\r\n        this.atlasArray = [];\r\n        this.tmpAtlasPos = new Laya.Point();\r\n        TextureAtlasManager.Instance = this;\r\n    }\r\n\r\n    //需要加入动态图集\r\n    public NeedPushAtlas(texture):void\r\n    {\r\n        //判断是否符合加入条件\r\n        if (texture && texture.bitmap && texture.bitmap.imageBitmap && \r\n            texture.width <= this.atlasLimitWidth && texture.height <= this.atlasLimitHeight)\r\n            texture[\"canMergeAltas\"] = true;\r\n    }\r\n\r\n    //加入动态图集\r\n    public PushAtlas(texture):boolean\r\n    {\r\n        if (texture[\"inMergeAltas\"] || !texture[\"canMergeAltas\"] || !texture.bitmap.imageBitmap)//已加入或不可以加入\r\n            return false;\r\n        // if (!texture.bitmap || !texture.bitmap.imageBitmap || \r\n        //     texture.width > this.atlasLimitWidth || texture.height > this.atlasLimitHeight)\r\n        //     return false;\r\n        var w = texture.width;\r\n        var h = texture.height;\r\n        var sz = this.atlasArray.length;\r\n        var atlas;\r\n        var find = false;\r\n        for (var i = 0; i < sz; i++)\r\n        {\r\n            atlas = this.atlasArray[i];\r\n            find = atlas.getAEmpty(w, h, this.tmpAtlasPos);\r\n            if (find)\r\n                break;\r\n        }\r\n        if (!find) \r\n        {\r\n            atlas = new TextureAtlas(this.atlasTextureWidth,this.atlasTextureHeight);\r\n            this.atlasArray.push(atlas);\r\n            find = atlas.getAEmpty(w, h, this.tmpAtlasPos);\r\n            if (!find) {\r\n                throw 'err1';\r\n            }\r\n            // //超过动态图集上限，回收第一张\r\n            // if (this.atlasArray.length > this.maxAtlaserCount)\r\n            // {\r\n            //     var delAtlas = this.atlasArray[0];\r\n            //     this.atlasArray.splice(0,1);\r\n            //     delAtlas.destroy();\r\n            // }\r\n        }\r\n        if (find) \r\n        {\r\n            atlas.texture.addToAtlasTexture(texture, this.tmpAtlasPos.x, this.tmpAtlasPos.y);\r\n            atlas.texture.addToAtlas(texture, this.tmpAtlasPos.x, this.tmpAtlasPos.y);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //回收多余动态图集\r\n    public GC():void\r\n    {\r\n        var n = this.atlasArray.length - this.maxAtlaserCount;\r\n        if (n > 0)\r\n        {\r\n            for (var i = 0; i < n; i++)\r\n            {\r\n                this.atlasArray[i].destroy();\r\n            }\r\n            this.atlasArray.splice(0,n);\r\n            console.log(\">>>TextureAtlasManager GC : \" + n);\r\n        }\r\n    }\r\n\r\n    //释放全部动态图集\r\n    public FreeAll(isClose:boolean = false):void\r\n    {\r\n        for (var i = 0; i < this.atlasArray.length; i++)\r\n        {\r\n            this.atlasArray[i].destroy();\r\n        }\r\n        this.atlasArray.length = 0;\r\n        \r\n        if (isClose)//关闭动态图集\r\n            TextureAtlasManager.Instance = null;\r\n    }\r\n}\r\nLaya.Browser.window.TextureAtlasManager = TextureAtlasManager;","import AtlaserTexture from \"./AtlaserTexture\";\r\n\r\n//动态图集类\r\nexport default class TextureAtlas\r\n{\r\n    public static atlasGridW:number = 16;\r\n\r\n    protected texWidth:number = 0;\r\n    protected texHeight:number = 0;\r\n    protected texture:AtlaserTexture;\r\n    protected atlasgrid:Laya.AtlasGrid;\r\n\r\n    constructor(texWidth:number,texHeight:number) \r\n    {\r\n        this.texWidth = texWidth;\r\n        this.texHeight = texHeight;\r\n        this.texture = null;\r\n        this.texture = AtlaserTexture.getAtlaserTexture(this.texWidth, this.texHeight);\r\n        if (this.texWidth / TextureAtlas.atlasGridW > 256)\r\n            TextureAtlas.atlasGridW = Math.ceil(this.texWidth / 256);\r\n        this.atlasgrid = new Laya.AtlasGrid(this.texWidth / TextureAtlas.atlasGridW, this.texHeight / TextureAtlas.atlasGridW, this.texture.id);\r\n    }\r\n    \r\n    getAEmpty(w, h, pt) \r\n    {\r\n        var find = this.atlasgrid.addRect(1, Math.ceil(w / TextureAtlas.atlasGridW), Math.ceil(h / TextureAtlas.atlasGridW), pt);\r\n        if (find) {\r\n            pt.x *= TextureAtlas.atlasGridW;\r\n            pt.y *= TextureAtlas.atlasGridW;\r\n        }\r\n        return find;\r\n    }\r\n    \r\n    public destroy() \r\n    {\r\n        if (this.texture)\r\n        {\r\n            this.texture.destroy();\r\n            this.texture = null;\r\n        }\r\n        this.atlasgrid = null;\r\n    }\r\n}","import RES from \"../res/RES\";\r\n\r\n//动态图集纹理\r\nexport default class AtlaserTexture extends Laya.Resource\r\n{\r\n    protected texWidth:number = 0;\r\n    protected texHeight:number = 0;\r\n    \r\n    protected _inAtlasTextureKey:Array<any>;\r\n    protected _inAtlasTextureBitmapValue:Array<any>;\r\n    protected _inAtlasTextureOriUVValue:Array<any>;\r\n    protected _InAtlasWebGLImagesKey:any;\r\n    protected _InAtlasWebGLImagesOffsetValue:Array<any>;\r\n\r\n    protected _source:any;\r\n    protected bitmap:any;\r\n\r\n    constructor(texWidth, texHeight) \r\n    {\r\n        super();\r\n        \r\n        this.bitmap = {id:0,_glTexture:null};\r\n        this.texWidth = texWidth;\r\n        this.texHeight = texHeight;\r\n        this.bitmap.id = this.id;\r\n\r\n        this._inAtlasTextureKey = [];\r\n        this._inAtlasTextureBitmapValue = [];\r\n        this._inAtlasTextureOriUVValue = [];\r\n        this._InAtlasWebGLImagesKey = {};\r\n        this._InAtlasWebGLImagesOffsetValue = [];\r\n\r\n        this.lock = true;\r\n    }\r\n\r\n    static getAtlaserTexture(width:number, height:number) \r\n    {\r\n        return new AtlaserTexture(width, height);\r\n    }\r\n\r\n    recreateResource() \r\n    {\r\n        if (this._source)\r\n            return;\r\n        var gl = Laya[\"LayaGL\"].instance;\r\n        var glTex = this._source = gl.createTexture();\r\n        this.bitmap._glTexture = glTex;\r\n        Laya.WebGLContext[\"bindTexture\"](gl, gl.TEXTURE_2D, glTex);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.texWidth, this.texHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n        this[\"_setGPUMemory\"](this.texWidth * this.texHeight * 4);\r\n    }\r\n\r\n    // findBitmapIsExist(bitmap)\r\n    // {\r\n    //     var webImage=bitmap;\r\n    //     var sUrl=webImage.url;\r\n    //     var object=this._InAtlasWebGLImagesKey[sUrl?sUrl:webImage.id]\r\n    //     if (object)\r\n    //         return object.offsetInfoID;\r\n    // }\r\n\r\n    //将bitmap数据写入图集中\r\n    addToAtlasTexture(texture,offsetX,offsetY)\r\n    {\r\n        !this._source && this.recreateResource();\r\n        var gl = Laya[\"LayaGL\"].instance;\r\n        // var preTarget = Laya.WebGLContext.curBindTexTarget;\r\n        // var preTexture = Laya.WebGLContext.curBindTexValue;\r\n        var sUrl = texture.url;\r\n        var bitmap = texture.bitmap;\r\n        this._InAtlasWebGLImagesKey[sUrl?sUrl:bitmap.id]={bitmap:bitmap,offsetInfoID:this._InAtlasWebGLImagesOffsetValue.length};\r\n        this._InAtlasWebGLImagesOffsetValue.push([offsetX,offsetY]);\r\n\r\n        Laya.WebGLContext[\"bindTexture\"](gl, gl.TEXTURE_2D, this._source);\r\n        !Laya.Render.isConchApp && gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, true);\r\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, offsetX, offsetY, gl.RGBA, gl.UNSIGNED_BYTE, bitmap.imageBitmap);\r\n        !Laya.Render.isConchApp && gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n        // (preTarget && preTexture)&& (Laya.WebGLContext[\"bindTexture\"](gl,preTarget,preTexture));\r\n    }\r\n\r\n    //记录纹理数据，并更新纹理uv和数据源\r\n    addToAtlas(texture,offsetX,offsetY)\r\n    {\r\n        texture._atlasID = this._inAtlasTextureKey.length;\r\n        var oriUV = texture.uv.slice();\r\n        var oriBitmap = texture.bitmap;\r\n        this._inAtlasTextureKey.push(texture);\r\n        this._inAtlasTextureOriUVValue.push(oriUV);\r\n        this._inAtlasTextureBitmapValue.push(oriBitmap);\r\n        this.computeUVinAtlasTexture(texture,oriUV,offsetX,offsetY);\r\n        texture.bitmap = this;\r\n        texture[\"inMergeAltas\"] = true;//标记已加入动态图集\r\n    }\r\n\r\n    //重新计算纹理在图集中的uv\r\n    computeUVinAtlasTexture(texture,oriUV,offsetX,offsetY)\r\n    {\r\n        var _w = this.texWidth;\r\n        var _h = this.texHeight;\r\n        var u1 = offsetX / _w,v1=offsetY / _h,u2 = (offsetX+texture.bitmap.width)/ _w,v2 = (offsetY+texture.bitmap.height)/ _h;\r\n        var inAltasUVWidth = texture.bitmap.width / _w,inAltasUVHeight = texture.bitmap.height / _h;\r\n        texture.uv=[u1+oriUV[0] *inAltasUVWidth,v1+oriUV[1] *inAltasUVHeight,u2-(1-oriUV[2])*inAltasUVWidth,v1+oriUV[3] *inAltasUVHeight,u2-(1-oriUV[4])*inAltasUVWidth,v2-(1-oriUV[5])*inAltasUVHeight,u1+oriUV[6] *inAltasUVWidth,v2-(1-oriUV[7])*inAltasUVHeight];\r\n    }\r\n\r\n    //恢复纹理\r\n    recoveryTextures()\r\n    {\r\n        var urls = [];\r\n        for (var i=0,n=this._inAtlasTextureKey.length;i < n;i++)\r\n        {\r\n            this._inAtlasTextureKey[i].bitmap = this._inAtlasTextureBitmapValue[i];\r\n            this._inAtlasTextureKey[i].uv = this._inAtlasTextureOriUVValue[i];\r\n            this._inAtlasTextureKey[i]._atlasID = -1;\r\n            this._inAtlasTextureKey[i][\"inMergeAltas\"] = false;//去掉已加入动态图集标记\r\n            urls.push(this._inAtlasTextureKey[i].url);\r\n        }\r\n        this._inAtlasTextureKey.length = 0;\r\n        this._inAtlasTextureBitmapValue.length = 0;\r\n        this._inAtlasTextureOriUVValue.length = 0;\r\n        this._InAtlasWebGLImagesKey = null;\r\n        this._InAtlasWebGLImagesOffsetValue.length = 0;\r\n        return urls;\r\n    }\r\n\r\n    _disposeResource() \r\n    {\r\n        super._disposeResource();\r\n        if (this.bitmap)\r\n        {\r\n            this.bitmap._glTexture = null;\r\n            this.bitmap = null;\r\n        }\r\n        if (this._source)\r\n        {\r\n            var gl = Laya[\"LayaGL\"].instance;\r\n            gl.deleteTexture(this._source);\r\n            this._source = null;\r\n            this[\"_setGPUMemory\"](0);\r\n        }\r\n    }\r\n    \r\n    destroy() \r\n    {\r\n        let urls = this.recoveryTextures();\r\n        super.destroy();\r\n        if (urls && urls.length > 0)\r\n        {\r\n            var textureUrl;\r\n            for (var i=0,n=urls.length;i < n;i++)\r\n            {\r\n                textureUrl = urls[i];\r\n                if (RES.GetReference(textureUrl) <= 0)//没有引用：直接回收\r\n                    RES.ClearResByUrl(textureUrl);\r\n            }\r\n            urls.length = 0;\r\n            urls = null;\r\n        }\r\n    }\r\n    \r\n    get texture() \r\n    {\r\n        return this;\r\n    }\r\n\r\n    get width()\r\n    {\r\n        return this.texWidth;\r\n    }\r\n\r\n    get height()\r\n    {\r\n        return this.texHeight;\r\n    }\r\n    \r\n    _getSource() \r\n    {\r\n        return this._source;\r\n    }\r\n}","import SgsFlatContainer from \"./ui/controls/base/SgsFlatContainer\";\r\nimport SgsSprite from \"./ui/controls/base/SgsSprite\";\r\nimport SgsText from \"./ui/controls/base/SgsText\";\r\n\r\nexport default class TestContainerC extends SgsFlatContainer\r\n{\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n        this.initChilds();\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        let test1:SgsText = new SgsText();\r\n        test1.text = \"7\";\r\n        this.addDrawChild(test1);\r\n\r\n        let test2:SgsText = new SgsText();\r\n        test2.text = \"8\";\r\n        this.addOtherChild(0,test2);\r\n    }\r\n} ","import SgsFlatContainer from \"./ui/controls/base/SgsFlatContainer\";\r\nimport SgsSprite from \"./ui/controls/base/SgsSprite\";\r\nimport SgsText from \"./ui/controls/base/SgsText\";\r\n\r\nexport default class TestContainerB extends SgsFlatContainer\r\n{\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n        this.initChilds();\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        let test1:SgsText = new SgsText();\r\n        test1.text = \"4\";\r\n        this.addDrawChild(test1);\r\n\r\n        let test2:SgsText = new SgsText();\r\n        test2.text = \"5\";\r\n        this.addDrawChild(test2);\r\n\r\n        let test3:SgsText = new SgsText();\r\n        test3.text = \"6\";\r\n        this.addOtherChild(0,test3);\r\n    }\r\n} ","import TestContainerC from \"./TestContainerC\";\r\nimport SgsFlatContainer from \"./ui/controls/base/SgsFlatContainer\";\r\nimport SgsSprite from \"./ui/controls/base/SgsSprite\";\r\nimport SgsText from \"./ui/controls/base/SgsText\";\r\n\r\nexport default class TestContainerA extends SgsFlatContainer\r\n{\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n        this.initChilds();\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        let test1:SgsText = new SgsText();\r\n        test1.text = \"1\";\r\n        this.addDrawChild(test1);\r\n\r\n        let test2:SgsText = new SgsText();\r\n        test2.text = \"2\";\r\n        this.addDrawChild(test2);\r\n\r\n        let test3:SgsText = new SgsText();\r\n        test3.text = \"3\";\r\n        this.addOtherChild(0,test3);\r\n\r\n        // let c = new TestContainerC();\r\n        // this.addDrawChild(c);\r\n    }\r\n\r\n    public CreateC():void{\r\n        let c = new TestContainerC(this.otherRenders);\r\n        this.addDrawChild(c);\r\n    }\r\n} ","\r\nimport GameEventDispatcher from \"./event/GameEventDispatcher\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SystemContext\r\n{\r\n    /** 设计宽度 */\r\n    public static designWidth:number = 750;\r\n\r\n    /** 设计高度 */\r\n    public static designHeight:number = 1496;\r\n\r\n    /** 游戏宽度 */\r\n    public static gameWidth:number = 750;\r\n\r\n     /** 游戏高度(按750宽度缩放至全屏后动态计算高度) */\r\n    public static gameHeight:number = 0;\r\n\r\n    constructor()\r\n    {\r\n        \r\n    }\r\n\r\n    /** 更新游戏尺寸\r\n     * @param screenWidth 屏幕宽度\r\n     * @param screenHeight 屏幕高度\r\n     */\r\n    public static UpdateGameSize(screenWidth:number,screenHeight:number)\r\n    {\r\n        this.gameWidth = this.stageWidth;\r\n        this.gameHeight = this.stageHeight;\r\n        GameEventDispatcher.GetInstance().event(Laya.Event.RESIZE);\r\n    }   \r\n\r\n    /** 获取舞台宽度 */\r\n    public static get stageWidth():number\r\n    {\r\n        // if (Global.Plantform == PlantformSDK.OPPO)\r\n        // { \r\n        //     return Laya.stage.width + SystemContext.canvasX/2;\r\n        // }\r\n        return Laya.stage.width;\r\n    }\r\n\r\n    /** 获取舞台高度 */\r\n    public static get stageHeight():number\r\n    {\r\n        // if (Global.Plantform == PlantformSDK.OPPO)\r\n        // { \r\n        //     return Laya.stage.height + SystemContext.canvasY/2;\r\n        // }\r\n        return Laya.stage.height;\r\n    }\r\n\r\n    public static get canvasX():number\r\n    {\r\n        return Laya.Browser.clientWidth * Laya.Browser.pixelRatio - Laya.stage.width * Laya.stage.clientScaleX >> 1;        \r\n    }\r\n\r\n    public static get canvasY():number\r\n    {\r\n        return Laya.Browser.clientHeight * Laya.Browser.pixelRatio - Laya.stage.height * Laya.stage.clientScaleY >> 1;        \r\n    }\r\n    \r\n}","\r\nimport ResourceEvent from \"./ResourceEvent\";\r\nimport ResourceConfig from \"./ResourceConfig\";\r\nimport RES from \"./RES\";\r\nimport SgsText from \"../ui/controls/base/SgsText\";\r\nimport SgsTexture from \"../ui/controls/base/SgsTexture\";\r\nimport SgsFlatContainer from \"../ui/controls/base/SgsFlatContainer\";\r\n/*\r\n* 资源管理 - 加载器\r\n* Created by caochangli on 2017-11-15. \r\n*/\r\nexport default class ResourceLoader\r\n{\r\n    private resConfig:ResourceConfig;\r\n\r\n    /** 资源组加载优先级队列,key为priority，value为groupName列表 */\r\n    private priorityQueue:any = {};\r\n\r\n    /** 等待或正在加载的资源组,key为groupName，value为groupList列表 */\r\n    private itemListDic:any = {};\r\n\r\n    /** 已加载资源组(内存中删除后会清除) */\r\n    private loadedGroups:Array<string> = [];\r\n\r\n    /** 已下载到本地资源 */\r\n    private loadedLocalRess:Array<string> = [];\r\n\r\n    /** 延迟加载队列,存放需要异步加载的资源 **/\r\n    private lazyLoadList:Array<any> = [];\r\n\r\n    /** 异步获取资源参数缓存字典 */\r\n    private asyncDic:any = {};\r\n\r\n    /** 图集子项字典,key为子项名字，value为url */\r\n    private atlasSubitemDic:any = {};\r\n\r\n    constructor(resConfig:ResourceConfig)\r\n    {\r\n        this.resConfig = resConfig;\r\n\r\n        // //资源加版本号：重构url方法\r\n        // Laya.URL.customFormat = function (url:string):string \r\n        // {\r\n        //     if (!Laya.Render.isConchApp && url.indexOf(\"?v=\") == -1)\r\n        //         url = url + RES.GetVersion();\r\n\t\t// \treturn url;\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * 加载配置文件并解析。\r\n     * @param url 配置文件路径(resource.json的路径)。\r\n     */\r\n    public loadConfig(url:string):void\r\n    {\r\n        Laya.loader.load(url,Laya.Handler.create(this, function(data:any):void{\r\n            if (!data) {//加载配置文件失败\r\n                RES.dispatchResourceEvent(ResourceEvent.CONFIG_LOAD_ERROR);\r\n                return;\r\n            }\r\n            if (!data.hasOwnProperty(\"groups\") || !data.hasOwnProperty(\"resources\")) {\r\n                console.warn(\"配置文件数据错误\");\r\n                RES.dispatchResourceEvent(ResourceEvent.CONFIG_LOAD_ERROR);\r\n                return;\r\n            }\r\n            this.resConfig.parseConfig(data);\r\n            RES.dispatchResourceEvent(ResourceEvent.CONFIG_COMPLETE);\r\n        }));\r\n    }\r\n\r\n    /** 加载组资源 */\r\n    public loadGroup(groupName:string, groupList:Array<any>, priority:number):void\r\n    {\r\n        if (this.priorityQueue[priority]) {\r\n            this.priorityQueue[priority].push(groupName);\r\n        }\r\n        else{\r\n            this.priorityQueue[priority] = [groupName];\r\n        }\r\n        this.addGroupInLoading(groupName,groupList);\r\n\r\n        var maxPriority:number = this.getMaxPriority();\r\n        if (priority >= maxPriority) {//本组优先级为最大优先级：优先加载\r\n            this.loadNext();\r\n        }\r\n        else {\r\n            //do nothing 待优先级高加载完成后会自动开始加载\r\n        }\r\n    }\r\n\r\n    /** 停止资源组加载(仅能停止未开始加载的内容) */\r\n    public stopGroup(groupName:string):boolean\r\n    {\r\n        //itemListDic中保存的是等待加载和正在加载的资源组(已加载完的会从中删除掉)\r\n        //正在加载的资源组对应的加载项长度为0\r\n        let groupList:Array<any> = this.itemListDic[groupName];\r\n        if (groupList)//该资源组在加载队列中\r\n        {\r\n            this.delPriorityGroupName(groupName);\r\n            this.delGroupInLoading(groupName);\r\n            if (groupList.length <= 0)//该资源组正在加载中\r\n            {\r\n                //停掉资源组中还未加载的资源\r\n                groupList = this.resConfig.getGroupByName(groupName);\r\n                let cancelUrls:Array<string> = [];\r\n                if (groupList && groupList.length > 0) \r\n                {\r\n                    for (let i:number = 0; i < groupList.length; i++)\r\n                    {\r\n                        if (!this.isResInLoadingGroup(groupList[i].url))\r\n                            cancelUrls.push(groupList[i].url);\r\n                    }\r\n                    Laya.loader.cancelLoadByUrls(cancelUrls);\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /** 加载单个资源 */\r\n    public loadItem(url:string, type:string, key:string, compFunc:Function, thisObject:any, args:any):void\r\n    {\r\n        var param = {url:url,type:type,key:key,compFunc:compFunc,thisObject:thisObject,args:args};\r\n        if (this.asyncDic[url]) {\r\n            this.asyncDic[url].push(param);\r\n        }\r\n        else {\r\n            this.asyncDic[url] = [param];\r\n            this.lazyLoadList.push(param);\r\n\r\n            if (this.isAllGroupLoaded()) {//所有组资源已加载完\r\n                this.loadNext();\r\n            }\r\n            else {\r\n                //do nothing 待优先级队列加载完成会自动开始加载\r\n            }\r\n        }\r\n    }\r\n\r\n    /**停止未加载的资源*/\r\n    public stopLoadItem(url:string, compFunc:Function, thisObject:any):void\r\n    {\r\n        if (!url || !compFunc || !thisObject) return;\r\n        let param:any;\r\n        let argsList:Array<any> = this.asyncDic[url];\r\n        if (argsList && argsList.length)\r\n        {\r\n            for (let i:number = 0; i < argsList.length; i++)\r\n            {\r\n                param = argsList[i];\r\n                if (!param || !param.compFunc || !param.thisObject) continue;\r\n                if (param.compFunc == compFunc && param.thisObject == thisObject)\r\n                {\r\n                    argsList.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (!argsList || argsList.length <= 0)\r\n        {   \r\n            delete this.asyncDic[url];\r\n            for (let i:number = 0; i < this.lazyLoadList.length; i++)\r\n            {\r\n                param = this.lazyLoadList[i];\r\n                if (!param || !param.compFunc || !param.thisObject) continue;\r\n                if (param.url == url && param.compFunc == compFunc && param.thisObject == thisObject)\r\n                {\r\n                    this.lazyLoadList.splice(i,1);\r\n                    break;\r\n                }\r\n            }\r\n            Laya.loader.cancelLoadByUrl(url);\r\n        }\r\n    }\r\n\r\n    /** 加载下一项 */\r\n    private loadNext():void\r\n    {\r\n        //加载顺序：先加载组资源(组资源按优先级顺序加载)、再加载异步资源(异步资源同时加载)\r\n        var length:number = 0;\r\n        var i:number = 0;\r\n        var nextResources:Array<any> = this.getNextGroup();\r\n        if (nextResources && nextResources.length > 0)//存在需要加载的组：加载组资源\r\n        {   \r\n            length = nextResources.length;\r\n            var nextResource:any;\r\n            for (i = 0; i < length; i++)\r\n            {\r\n                nextResource = nextResources[i];\r\n                this.loadOneGroup(nextResource.groupName,nextResource.groupList);\r\n                //进入加载后:该组资源列表清空，防止再次加载\r\n                nextResource.groupList.length = 0;\r\n            }\r\n        }\r\n        else if (this.isAllGroupLoaded())//所有组资源都已加载完\r\n        {\r\n            if (this.lazyLoadList && this.lazyLoadList.length > 0)//存在需要异步加载资源：加载异步资源\r\n            {\r\n                length = this.lazyLoadList.length;\r\n                for (i = 0; i < length; i++)\r\n                {\r\n                    this.loadAsync(this.lazyLoadList.shift());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 获取组优先级队列中最大级别 priority */\r\n    private getMaxPriority():number\r\n    {\r\n        var maxPriority:number = Number.NEGATIVE_INFINITY;\r\n        for (var p in this.priorityQueue) {\r\n            maxPriority = Math.max(maxPriority, parseInt(p));\r\n        }\r\n        return maxPriority;\r\n    }\r\n\r\n    /** 检测是否所有组资源都已加载完 */\r\n    private isAllGroupLoaded():boolean\r\n    {\r\n        var maxPriority:number = this.getMaxPriority();//最大优先级\r\n        //组资源加载完成后，会从组优先级队列中移除\r\n        return maxPriority >= 0 ? false : true;\r\n    } \r\n\r\n    /** 获取下一组待加载组(同优先级组同时加载)\r\n     *  返回null不代表所有组都加载完了，只能表示所有组都已开始加载或加载完成了\r\n     */\r\n    private getNextGroup():Array<any>\r\n    {\r\n        var maxPriority:number = this.getMaxPriority();//最大优先级\r\n        var queue:Array<any> = this.priorityQueue[maxPriority];\r\n        if (!queue || queue.length == 0) return null;       \r\n\r\n        var list:Array<any> = [];\r\n        var length:number = queue.length;\r\n        var groupName:string = \"\";\r\n        var groupList:Array<any> = [];\r\n        for (var i:number = 0; i < length; i++)\r\n        {\r\n            groupName = queue[i];\r\n            groupList = this.itemListDic[groupName];\r\n            if (groupList && groupList.length > 0) {//还未开始加载(已开始加载的数组长度会被清零)\r\n                list.push({groupName:groupName,groupList:groupList});\r\n            }\r\n        }\r\n        if (list.length > 0)\r\n            return list;\r\n        return null;\r\n    }\r\n\r\n    /** 开始加载一组资源 */\r\n    private loadOneGroup(groupName:string, groupList:Array<any>):void\r\n    {\r\n        if (!Laya.loader.hasListener(Laya.Event.ERROR)) {\r\n            Laya.loader.on(Laya.Event.ERROR,this,onResourceLoadError);\r\n        }\r\n        Laya.loader.load(groupList,Laya.Handler.create(this, onComplete, [[...groupList]]),Laya.Handler.create(this,onProgress,null,false));\r\n\r\n        function onComplete(groupList:Array<any>,success:boolean):void\r\n        {\r\n            if (!this.isGroupInLoading(groupName)) {//加载完发现该组不在加载队列中：中途停止了\r\n                this.loadNext();\r\n                return;\r\n            }\r\n            this.delPriorityGroupName(groupName);\r\n            this.delGroupInLoading(groupName);\r\n            if (this.isAllGroupLoaded()) {//所有组资源都已加载完\r\n                Laya.loader.off(Laya.Event.ERROR,this,onResourceLoadError);\r\n            }\r\n            \r\n            if (success == false) {//资源组加载失败\r\n                RES.dispatchResourceEvent(ResourceEvent.GROUP_LOAD_ERROR,groupName);\r\n                this.loadNext();\r\n                return;\r\n            }\r\n            \r\n            this.addGroupLoaded(groupName);\r\n            this.addResLoadedLocal(groupName,groupList);\r\n            this.parseGroupAtlas(groupName,groupList);\r\n            RES.dispatchResourceEvent(ResourceEvent.GROUP_COMPLETE,groupName);\r\n            this.loadNext();\r\n        }\r\n        function onProgress(progress:number):void\r\n        {\r\n            RES.dispatchResourceEvent(ResourceEvent.GROUP_PROGRESS,groupName,progress);\r\n        }\r\n        function onResourceLoadError(error:string):void\r\n        {\r\n            RES.dispatchResourceEvent(ResourceEvent.ITEM_LOAD_ERROR,\"\",0,error);\r\n        }\r\n    }\r\n\r\n    /** 根据图集子项名获取子项访问url */\r\n    public getAtlasSubitemByName(name:string):string\r\n    {\r\n        var url:string = this.atlasSubitemDic[name];\r\n        return url ? url : \"\";\r\n    }\r\n\r\n    /** 开始加载异步资源 */\r\n    private loadAsync(resItem:any):void\r\n    {\r\n        Laya.loader.load(resItem.url,Laya.Handler.create(this, function(argItem:any,data:any):void{\r\n            var argsList:Array<any> = this.asyncDic[argItem.url];\r\n            delete this.asyncDic[argItem.url];\r\n            if (data && argItem.type == \"atlas\") {\r\n                this.parseAtlas(argItem.url);\r\n            }\r\n            if (!argsList) return;\r\n            let length = argsList.length;\r\n            let param:any;\r\n            let key:string = \"\";\r\n            for (var i:number = 0; i < length; i++)\r\n            {\r\n                param = argsList[i];\r\n                key = param.key != \"\" ? param.key : param.url;\r\n                if (param.thisObject instanceof Laya.Sprite && param.thisObject.destroyed)//回调对象已被销毁\r\n                    continue;\r\n                if ((param.thisObject instanceof SgsText || param.thisObject instanceof SgsTexture || param.thisObject instanceof SgsFlatContainer)\r\n                     && param.thisObject.destroyed)//回调对象已被销毁\r\n                    continue;\r\n                if (param.args)\r\n                    param.compFunc && param.compFunc.call(param.thisObject,data,key,param.args);\r\n                else\r\n                    param.compFunc && param.compFunc.call(param.thisObject,data,key);\r\n            }\r\n        },[resItem]),null,resItem.type);\r\n    }\r\n\r\n    /** 检查指定的组是否正在加载中 */\r\n    public isGroupInLoading(groupName:string):boolean\r\n    {\r\n        return this.itemListDic[groupName] !== undefined;\r\n    }\r\n\r\n    /** 添加指定的组到正在加载中 */\r\n    private addGroupInLoading(groupName:string,groupList:Array<any>):void\r\n    {\r\n        this.itemListDic[groupName] = groupList;\r\n    }\r\n\r\n    /** 从正在加载中移除指定组 */\r\n    private delGroupInLoading(groupName:string):void\r\n    {\r\n        delete this.itemListDic[groupName];\r\n    }\r\n\r\n    /** 检查指定的组是否已加载 */\r\n    public isGroupLoaded(groupName:string):boolean\r\n    {\r\n        return this.loadedGroups.indexOf(groupName) != -1 ? true : false;\r\n    }\r\n\r\n    /** 添加指定的组到已加载列表 */\r\n    private addGroupLoaded(groupName:string):void\r\n    {\r\n        if (this.loadedGroups.indexOf(groupName) == -1)\r\n            this.loadedGroups.push(groupName);\r\n    }\r\n\r\n    /** 从已加载列表移除指定组 */\r\n    public delGroupLoaded(groupName:string):void\r\n    {\r\n        var index:number = this.loadedGroups.indexOf(groupName);\r\n        if (index != -1)\r\n            this.loadedGroups.splice(index,1);\r\n    }\r\n\r\n    /** 检查资源是否已下载到本地 */\r\n    public isResLoadedLocal(groupName:string):boolean\r\n    {\r\n        return this.loadedLocalRess.indexOf(groupName) != -1 ? true : false;\r\n    }\r\n\r\n    /** 添加资源到已下载本地列表 */\r\n    private addResLoadedLocal(groupName:string,groupList:Array<any>):void\r\n    {\r\n        // if (!groupName || groupName.length <= 0) return;\r\n        // var groupList:Array<any> = this.resConfig.getRawGroupByName(groupName);\r\n        // if (!groupList || groupList.length <= 0) return;\r\n        if (!groupName || groupName.length <= 0 || !groupList || groupList.length <= 0) return;\r\n        var length:number = groupList.length;\r\n        var resItem:any;\r\n        for (var i:number = 0; i < length; i++)\r\n        {\r\n            var resItem = groupList[i];\r\n            if (resItem && this.loadedLocalRess.indexOf(resItem.url) == -1)\r\n                this.loadedLocalRess.push(resItem.url);\r\n        }\r\n    }\r\n\r\n    /** 移除已加载资源组中包含该资源的资源组 */\r\n    public delLoadedGroupsByItemName(url:string):void\r\n    {\r\n        var loadedGroups = this.loadedGroups;\r\n        var loadedGroupLength = loadedGroups.length;\r\n        for (var i = 0; i < loadedGroupLength; i++) \r\n        {\r\n            var group = this.resConfig.getRawGroupByName(loadedGroups[i]);\r\n            var length = group.length;\r\n            for (var j = 0; j < length; j++) \r\n            {\r\n                var item = group[j];\r\n                if (item.url == url) {\r\n                    loadedGroups.splice(i, 1);\r\n                    i--;\r\n                    loadedGroupLength = loadedGroups.length;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 检查指定资源是否在已加载组中 */\r\n    public isResInLoadedGroup(url:string):boolean\r\n    {\r\n        var loadedGroups = this.loadedGroups;\r\n        var loadedGroupLength = loadedGroups.length;\r\n        for (var i = 0; i < loadedGroupLength; i++) \r\n        {\r\n            var group = this.resConfig.getRawGroupByName(loadedGroups[i]);\r\n            var length = group ? group.length : 0;\r\n            for (var j = 0; j < length; j++) \r\n            {\r\n                var item = group[j];\r\n                if (item.url == url)\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /** 检查指定资源是否正在加载或等待加载组中 */\r\n    public isResInLoadingGroup(url:string):boolean\r\n    {\r\n        var groupList;\r\n        var result = false;\r\n        for (var groupName in this.itemListDic)\r\n        {\r\n            groupList = this.resConfig.getRawGroupByName(groupName);\r\n            if (groupList)\r\n            {\r\n                for (var i = 0; i < groupList.length; i++) \r\n                {\r\n                    var item = groupList[i];\r\n                    if (item.url == url)\r\n                    {\r\n                        result = true;\r\n                        break;\r\n                    }   \r\n                }\r\n            }\r\n            \r\n            if (result) break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /** 从优先级队列中移除指定的组名 */\r\n    private delPriorityGroupName(groupName:string):void \r\n    {\r\n        for (var p in this.priorityQueue) \r\n        {\r\n            var queue = this.priorityQueue[p];\r\n            var index = 0;\r\n            var found = false;\r\n            var length = queue.length;\r\n            for (var i = 0; i < length; i++) \r\n            {\r\n                var name_2 = queue[i];\r\n                if (name_2 == groupName) {\r\n                    queue.splice(index, 1);\r\n                    found = true;\r\n                    break;\r\n                }\r\n                index++;\r\n            }\r\n            if (found) \r\n            {\r\n                if (queue.length == 0) {\r\n                    delete this.priorityQueue[p];\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 处理组资源里图集对应关系 */\r\n    private parseGroupAtlas(groupName:string,groupList:Array<any>):void\r\n    {\r\n        // if (!groupName || groupName.length <= 0) return;\r\n        // var groupList:Array<any> = this.resConfig.getRawGroupByName(groupName);\r\n        // if (!groupList || groupList.length <= 0) return;\r\n        if (!groupName || groupName.length <= 0 || !groupList || groupList.length <= 0) return;\r\n        var length:number = groupList.length;\r\n        var resItem:any;\r\n        for (var i:number = 0; i < length; i++)\r\n        {\r\n            var resItem = groupList[i];\r\n            if (resItem.type == \"atlas\") {//图集\r\n                this.parseAtlas(resItem.url);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 处理图集资源url对应name关系 */\r\n    private parseAtlas(atlasUrl:string):void\r\n    {\r\n        var atlasJson:any = RES.GetRes(atlasUrl);\r\n        if (!atlasJson) return;\r\n        var frames:any = atlasJson.frames;\r\n        var cleanUrl:string = atlasUrl.split(\"?\")[0];\r\n        var directory:string = (atlasJson.meta && atlasJson.meta.prefix)? atlasJson.meta.prefix : cleanUrl.substring(0,cleanUrl.lastIndexOf(\".\")) + \"/\";//所属图集名\r\n        var key:string = \"\";\r\n        for (var name in frames)\r\n        {\r\n            key = name.substring(0,name.lastIndexOf(\".\"));\r\n            this.atlasSubitemDic[key] = directory + name;\r\n        }\r\n    }   \r\n\r\n    /** 清理图集资源对应关系 */\r\n    public delAtlas(url:string):void\r\n    {\r\n        var atlasList:Array<any> = Laya.Loader.getAtlas(url);\r\n        if (!atlasList || atlasList.length <= 0) return;\r\n        var length:number = atlasList.length;\r\n        var atlasSubItemUrl:string = \"\";\r\n        for (var i:number = 0; i < length; i++)\r\n        {\r\n            atlasSubItemUrl = atlasList[i];\r\n            atlasSubItemUrl = atlasSubItemUrl.substring(atlasSubItemUrl.lastIndexOf(\"/\") + 1,atlasSubItemUrl.lastIndexOf(\".\"));\r\n            if (atlasSubItemUrl != \"\")\r\n                delete this.atlasSubitemDic[atlasSubItemUrl];\r\n        }\r\n    }\r\n}","/*\r\n* 资源管理 - 单个资源类\r\n* Created by caochangli on 2017-11-15. \r\n*/\r\nexport default class ResourceItem\r\n{\r\n    public name:string = \"\";\r\n    public url:string = \"\";\r\n    public type:string = \"\"; \r\n    public data:any;\r\n\r\n    constructor(name:string, url:string, type:string)\r\n    {\r\n        this.name = name;\r\n        this.url = url;\r\n        this.type = type;\r\n    }\r\n}","/*\r\n* 资源管理 - 事件\r\n* Created by caochangli on 2017-11-14. \r\n*/\r\nexport default class ResourceEvent\r\n{\r\n    /** 配置文件加载并解析完成事件。注意：若有配置文件加载失败，将不会抛出此事件，若要处理配置加载失败，请同时监听 CONFIG_LOAD_ERROR 事件。*/\r\n    public static CONFIG_COMPLETE:string = \"configComplete\";\r\n\r\n    /** 配置文件加载失败事件。*/\r\n    public static CONFIG_LOAD_ERROR:string = \"configLoadError\";\r\n\r\n    /** 加载组资源加载进度事件。*/\r\n    public static GROUP_PROGRESS:string = \"groupProgress\";\r\n    \r\n    /** 加载组资源加载完成事件。注意：若组内有资源项加载失败，将不会抛出此事件，若要处理组加载失败，请同时监听 GROUP_LOAD_ERROR 事件。*/\r\n    public static GROUP_COMPLETE:string = \"groupComplete\";\r\n    \r\n    /** 一个加载项加载失败事件。*/\r\n    public static ITEM_LOAD_ERROR:string = \"itemLoadError\";\r\n\r\n    /** 加载组资源加载失败事件。*/\r\n    public static GROUP_LOAD_ERROR:string = \"groupLoadError\";\r\n\r\n    /** 资源组名。*/\r\n    public groupName:string = \"\";\r\n    \r\n    /** 加载进度。*/\r\n    public progress:number = 0;\r\n\r\n    /** 加载错误的文件url。*/\r\n    public errorUrl:string = \"\";\r\n\r\n    constructor(groupName:string = \"\", progress:number = 0, errorUrl:string = \"\")\r\n    {\r\n        this.groupName = groupName;\r\n        this.progress = progress;\r\n        this.errorUrl = errorUrl;\r\n    }\r\n}","import ResourceItem from \"./ResourceItem\";\r\nimport RES from \"./RES\";\r\n/*\r\n* 资源管理 - 配置文件解析器\r\n* Created by caochangli on 2017-11-15. \r\n*/\r\nexport default class ResourceConfig\r\n{\r\n    /**资源组字典*/\r\n    public groupDic:any = {};\r\n\r\n    /**资源字典*/\r\n    public keyMap:any = {};\r\n\r\n    /** 配置文件是否解析完 */\r\n    public configComplete:boolean = false;\r\n\r\n    constructor()\r\n    {   \r\n    }\r\n\r\n    /** 获取单个资源加载项 */\r\n    public getResourceItem(key:string):any\r\n    {\r\n        var data = this.keyMap[key];\r\n        if (data) return data;\r\n        //认为key为name未找到资源\r\n        var url:string = this.getResourceUrl(key);\r\n        for (var p in this.keyMap)\r\n        {\r\n            data = this.keyMap[p];\r\n            if (data.url == url)\r\n                return data;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /** 根据组名获取原始的组加载项列表 */\r\n    public getRawGroupByName(name:string):Array<any>\r\n    {\r\n        if (this.groupDic[name])\r\n            return this.groupDic[name];\r\n        return null;\r\n    }\r\n\r\n    /** 根据组名获取组加载项列表 */\r\n    public getGroupByName(name:string):Array<ResourceItem>\r\n    {\r\n        if (!this.groupDic[name])\r\n            return null;\r\n        \r\n        var group = new Array();\r\n        var list = this.groupDic[name];\r\n        var length = list.length;\r\n        for (var i = 0; i < length; i++) \r\n        {\r\n            var obj = list[i];\r\n            group.push(this.parseResourceItem(obj));\r\n        }\r\n        return group;\r\n    }\r\n\r\n    /** 获取资源完整路径 */\r\n    public getResourceUrl(key:string):string\r\n    {\r\n        if (!key || key.length <= 0) return \"\";\r\n        if (key.indexOf(\"/\") == -1)//非路径：认为通过name访问\r\n        {\r\n            let item = this.keyMap[key];\r\n            if (item)\r\n            {\r\n                if(item.compressTexture)//如果是压缩纹理 需要改格式名称获取压缩纹理的路径 sk文件也会走这里，目前是在getTextureCompressFomat里过滤掉sk了\r\n                {\r\n                    let format = Laya.Utils.getFileExtension(item.url);\r\n                    let changType = Laya.Utils.getTextureCompressFormat(format)\r\n                    if(format != changType)\r\n                    {\r\n                        return item.url.replace(\".\" + format, \".\" + changType);\r\n                    }\r\n                }\r\n                return item.url;\r\n            }\r\n            return \"\";\r\n        }\r\n        else//通过url访问\r\n        {   \r\n            if (RES.resourceRoot != \"\" && key.indexOf(RES.resourceRoot) == -1) {//缺少根目录\r\n                key = RES.resourceRoot + key;\r\n            }\r\n        }\r\n        return key;\r\n    }\r\n\r\n    /** 获取资源组名 - 根据资源url */\r\n    public getGroupName(url:string):string\r\n    {\r\n        for (var p in this.groupDic)\r\n        {\r\n            var groupList = this.groupDic[p];\r\n            var length = groupList.length;\r\n            for (var i = 0; i < length; i++) \r\n            {\r\n                if (groupList[i].url == url)\r\n                {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    /**\r\n     * 追加资源组资源\r\n     * @param groupName 追加的资源组组名。\r\n     * @param keys 追加的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名。\r\n     * */\r\n    public addGroupKeys(groupName:string, keys:string[]):void\r\n    {\r\n        if (!this.groupDic[groupName] || !keys || keys.length == 0) return;\r\n        \r\n        let list = this.groupDic[groupName];\r\n        let length = keys.length;\r\n        let key = \"\";\r\n        let gList:Array<any>;\r\n        for (let i = 0; i < length; i++) \r\n        {\r\n            key = keys[i];\r\n            gList = this.groupDic[key];\r\n            if (gList)//key是资源组 \r\n            {\r\n                var len = gList.length;\r\n                for (var j = 0; j < len; j++) \r\n                {\r\n                    var item = gList[j];\r\n                    if (list.indexOf(item) == -1)\r\n                    {\r\n                        list.push(item);\r\n                        this.addSkForPngItem(list,item);\r\n                    }\r\n                }\r\n            }\r\n            else \r\n            {\r\n                var item = this.keyMap[key];\r\n                if (item) \r\n                {\r\n                    if (list.indexOf(item) == -1)\r\n                    {\r\n                        list.push(item);\r\n                        this.addSkForPngItem(list,item);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    console.warn(\"创建自定义加载资源组，资源未在配置文件找到：\", key);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除资源组资源\r\n     * @param groupName 删除的资源组组名。\r\n     * @param keys 删除的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名。\r\n     * */\r\n    public delGroupKeys(groupName:string, keys:string[]):void\r\n    {\r\n        if (!this.groupDic[groupName]) return;\r\n        if (!keys || keys.length == 0)\r\n        {\r\n            this.groupDic[groupName] = [];\r\n            return;\r\n        }\r\n        \r\n        let list = this.groupDic[groupName];\r\n        let length = keys.length;\r\n        let key = \"\";\r\n        let gList:Array<any>;\r\n        let index:number = -1;\r\n        for (let i = 0; i < length; i++) \r\n        {\r\n            key = keys[i];\r\n            gList = this.groupDic[key];\r\n            if (gList)//key是资源组 \r\n            {\r\n                var len = gList.length;\r\n                for (var j = 0; j < len; j++) \r\n                {\r\n                    var item = gList[j];\r\n                    index = list.indexOf(item);\r\n                    if (index != -1)\r\n                    {\r\n                        list.splice(index,1);\r\n                        this.delSkForPngItem(list,item);\r\n                    }     \r\n                }\r\n            }\r\n            else \r\n            {\r\n                var item = this.keyMap[key];\r\n                if (item) \r\n                {\r\n                    index = list.indexOf(item);\r\n                    if (index != -1)\r\n                    {\r\n                        list.splice(index,1);\r\n                        this.delSkForPngItem(list,item);\r\n                    } \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 创建自定义的加载资源组,注意：此方法仅在资源配置文件加载完成后执行才有效。\r\n     * @param groupName 创建的资源组的组名。\r\n     * @param keys 包含的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名。\r\n     * @param override 是否覆盖已经存在的同名资源组\r\n     * @returns 是否创建成功。\r\n     */\r\n    public createGroup(groupName:string, keys:string[], override:boolean):boolean\r\n    {\r\n        if ((!override && this.groupDic[groupName]) || !keys || keys.length == 0)\r\n            return false;\r\n\r\n        let groupDic = this.groupDic;\r\n        let group = [];\r\n        let length = keys.length;\r\n        let key = \"\";\r\n        let gList:Array<any>;\r\n        for (var i = 0; i < length; i++) \r\n        {\r\n            key = keys[i];\r\n            gList = groupDic[key];\r\n            if (gList)//key是资源组 \r\n            {\r\n                var len = gList.length;\r\n                for (var j = 0; j < len; j++) \r\n                {\r\n                    var item = gList[j];\r\n                    if (group.indexOf(item) == -1)\r\n                    {\r\n                        group.push(item);\r\n                        this.addSkForPngItem(group,item);\r\n                    }\r\n                }\r\n            }\r\n            else \r\n            {\r\n                var item = this.keyMap[key];\r\n                if (item) \r\n                {\r\n                    if (group.indexOf(item) == -1)\r\n                    {\r\n                        group.push(item);\r\n                        this.addSkForPngItem(group,item);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    console.warn(\"创建自定义加载资源组，资源未在配置文件找到：\", key);\r\n                }\r\n            }\r\n        }\r\n        if (group.length == 0)\r\n            return false;\r\n        this.groupDic[groupName] = group;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 追加resources\r\n     * @param resources resources列表，格式{\"url\": \"\",\"type\": \"\",\"name\": \"\"}\r\n    */\r\n    public addResources(resources:Array<any>):void\r\n    {\r\n        if (!resources || resources.length == 0) return;\r\n        \r\n        let length = resources.length;\r\n        let resourceItem:any;\r\n        let gList:Array<any>;\r\n        for (let i = 0; i < length; i++) \r\n        {\r\n            resourceItem = resources[i];\r\n            if (!this.keyMap[resourceItem.name]) \r\n                this.addItemToKeyMap(resourceItem);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除resources\r\n     * @param resources resources列表，格式{\"url\": \"\",\"type\": \"\",\"name\": \"\"}\r\n    */\r\n    public delResources(resources:Array<any>):void\r\n    {\r\n        if (!resources || resources.length == 0) return;\r\n        \r\n        let length = resources.length;\r\n        let resourceItem:any;\r\n        for (let i = 0; i < length; i++) \r\n        {\r\n            resourceItem = resources[i];\r\n            let item = this.keyMap[resourceItem.name];\r\n            if (item) \r\n                this.delItemToKeyMap(item);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除resources\r\n     * @param names names列表\r\n    */\r\n    public delResourcesByName(names:Array<string>):void\r\n    {\r\n        if (!names || names.length == 0) return;\r\n        \r\n        let length = names.length;\r\n        let name:any;\r\n        for (let i = 0; i < length; i++) \r\n        {\r\n            name = names[i];\r\n            let item = this.keyMap[name];\r\n            if (item) \r\n                this.delItemToKeyMap(item);\r\n        }\r\n    }\r\n\r\n    /** 解析配置文件 */\r\n    public parseConfig(data:any):void\r\n    {\r\n        if (!data) return;\r\n\r\n        let resources = data[\"resources\"];\r\n        let item:any;\r\n        if (resources) \r\n        {\r\n            let length = resources.length;\r\n            for (let i = 0; i < length; i++)\r\n            {\r\n                item = resources[i];\r\n                if(!Laya.Browser.window.useLocalConfig){\r\n                    // //外网发布，修改json的 url,类型；\r\n                    // if(item.type == \"json\"){\r\n                    //     item.type = \"arraybuffer\";\r\n                    //     item.url = item.url.replace(\".json\",\".sgs\");\r\n                    // }\r\n                }\r\n                this.addItemToKeyMap(item);\r\n            }\r\n        }\r\n        let groups:Array<any> = data[\"groups\"];\r\n        if (groups)\r\n        {\r\n            let keyDic:any = {};\r\n            let length = groups.length;\r\n            let group;\r\n            let keys;\r\n            for (let i = 0; i < length; i++)\r\n            {\r\n                group = groups[i];\r\n                keys = group.keys.split(\",\");\r\n                let list = [];\r\n                let len = keys.length;\r\n                let key;\r\n                for (let j = 0; j < len; j++)\r\n                {\r\n                    key = keys[j].trim();\r\n                    list.push(key);\r\n                }\r\n                keyDic[group.name] = list;\r\n            }\r\n\r\n            for (let groupName in keyDic)\r\n            {\r\n                keys = keyDic[groupName];\r\n                length = keys.length;\r\n                let key;\r\n                let list = [];\r\n                for (let i = 0; i < length; i++)\r\n                {\r\n                    this.parseItems(list,keyDic,keys[i]);\r\n                }\r\n                this.groupDic[groupName] = list;\r\n            }\r\n        }\r\n        this.configComplete = true;\r\n    }\r\n\r\n    private addItemToKeyMap(item):void \r\n    {\r\n        if (!this.keyMap[item.name])\r\n        {\r\n            let url = item.url;\r\n            if (url && url.indexOf(\"://\") == -1 && url.indexOf(RES.resourceRoot) != 0)\r\n                item.url = RES.resourceRoot + url;\r\n            this.keyMap[item.name] = item;\r\n            this.addSkForPngResource(item);\r\n        }\r\n    }\r\n    \r\n    private delItemToKeyMap(item):void \r\n    {\r\n        if (this.keyMap[item.name])\r\n        {\r\n            delete this.keyMap[item.name];\r\n            this.delSkForPngResource(item);\r\n        }\r\n    }\r\n\r\n    private parseItems(list:Array<any>,keyDic:any,key:string):Array<any>\r\n    {\r\n        let gList:Array<any> = keyDic[key];\r\n        if (gList)//key为资源组\r\n        {\r\n            var len = gList.length;\r\n            for (var i = 0; i < len; i++) \r\n            {\r\n                this.parseItems(list,keyDic,gList[i]);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            let item = this.keyMap[key];\r\n            if (item && list.indexOf(item) == -1)\r\n            {\r\n                list.push(item);\r\n                this.addSkForPngItem(list,item);\r\n            } \r\n                \r\n        }   \r\n        return list;\r\n    }\r\n\r\n    private addSkForPngResource(item:any):void//添加.sk对应.png的resources配置\r\n    {\r\n        if (this.checkSkResource(item))\r\n        {\r\n            let urlIndex:number = item.url.lastIndexOf(\".\");\r\n            let fortmat = \"png\";\r\n            if(item.compressTexture)\r\n            {\r\n                fortmat = Laya.Utils.getTextureCompressFormat(fortmat);\r\n            }\r\n            let pngItem:any = {url:item.url.substr(0,urlIndex) + \".\" + fortmat,type:\"image\",name:this.getSkForPngKey(item.name)};\r\n            if (!this.keyMap[pngItem.name])\r\n                this.keyMap[pngItem.name] = pngItem;\r\n        }\r\n    }\r\n\r\n    private delSkForPngResource(item:any):void//删除.sk对应.png的resources配置\r\n    {\r\n        if (this.checkSkResource(item))\r\n        {\r\n            let name:string = this.getSkForPngKey(item.name);\r\n            if (this.keyMap[name])\r\n                delete this.keyMap[name];\r\n        }\r\n    }\r\n\r\n    private addSkForPngItem(list:Array<any>,item:any):void//添加.sk对应.png的加载项\r\n    {\r\n        if (this.checkSkResource(item))\r\n        {\r\n            let pngItem:any = this.keyMap[this.getSkForPngKey(item.name)];\r\n            if (pngItem && list.indexOf(pngItem) == -1)\r\n                list.push(pngItem);\r\n        }\r\n    }\r\n\r\n    private delSkForPngItem(list:Array<any>,item:any):void//删除.sk对应.png的加载项\r\n    {\r\n        if (this.checkSkResource(item))\r\n        {\r\n            let pngItem:any = this.keyMap[this.getSkForPngKey(item.name)];\r\n            let index:number = pngItem ? list.indexOf(pngItem) : -1;\r\n            if (index != -1)\r\n                list.splice(index,1);\r\n        }\r\n    }\r\n\r\n    private checkSkResource(item:any):boolean//监测资源是否为.sk资源\r\n    {   \r\n        let urlIndex:number = item.url.lastIndexOf(\".\");\r\n        let postfix:string = urlIndex == -1 ? \"\" : item.url.substr(urlIndex);\r\n        if (postfix == \".sk\" && item.type && item.type == \"arraybuffer\")\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    private getSkForPngKey(key:string):string//获取.sk资源对应的.png文件key\r\n    {\r\n        let index:number = key.lastIndexOf(\"_sk\");\r\n        let pngKey:string = index == -1 ? key + \"_png\" : key.substr(0,index) + \"_png\";\r\n        return pngKey;\r\n    }\r\n\r\n    private parseResourceItem(data)//转换Object数据为ResourceItem对象 \r\n    {\r\n        var resItem = new ResourceItem(data.name, data.url, data.type);\r\n        resItem.data = data;\r\n        return resItem;\r\n    }\r\n}","import ResourceLoader from \"./ResourceLoader\";\r\nimport ResourceItem from \"./ResourceItem\";\r\nimport ResourceEvent from \"./ResourceEvent\";\r\nimport ResourceConfig from \"./ResourceConfig\";\r\n/*\r\n* 资源管理类\r\n* Created by caochangli on 2017-11-14. \r\n*/\r\nexport default class RES extends Laya.EventDispatcher\r\n{\r\n    /** 资源根目录 */\r\n    public static resourceRoot:string = \"\";\r\n\r\n    /** 配置解析器 */\r\n    private static resConfig:ResourceConfig = new ResourceConfig();\r\n\r\n    /** 资源加载器 */\r\n    private static resLoader:ResourceLoader = new ResourceLoader(RES.resConfig);\r\n\r\n    /** 资源引用 */\r\n    private static referenceDic:any = {};\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    private static _res:RES;\r\n    private static GetInstance():RES\r\n    {\r\n        if (!RES._res)\r\n        {\r\n            RES._res = new RES();\r\n        }\r\n        return RES._res;\r\n    }\r\n\r\n    /** 加载出错后的重试次数，默认重试一次*/\r\n    public static set RetryNum(retryNum:number)\r\n    {\r\n        Laya.loader.retryNum = retryNum;\r\n    }\r\n\r\n    /** 延迟时间多久再进行错误重试，默认立即重试*/\r\n    public static set RetryDelay(retryDelay:number)\r\n    {\r\n        Laya.loader.retryDelay = retryDelay;\r\n    }\r\n\r\n    /** 最大下载线程，默认为5个*/\r\n    public static set MaxLoader(maxLoader:number)\r\n    {\r\n        Laya.loader.maxLoader = maxLoader;\r\n    }\r\n\r\n    // /** 资源版本号*/\r\n    // private static _version:string = \"\";\r\n    // public static set Version(version:string)\r\n    // {\r\n    //     RES._version = version;\r\n    // }\r\n\r\n    // public static get Version():string\r\n    // {\r\n    //     return RES._version;\r\n    // }\r\n\r\n    // public static GetVersion():string\r\n    // {\r\n    //     if (RES.Version == \"\")\r\n    //         return \"\";\r\n    //     return \"?v=\" + RES.Version;\r\n    // }\r\n\r\n    /**\r\n     * 添加侦听器\r\n     * @param type 事件的类型。\r\n     * @param thisObject 事件侦听函数的执行域。\r\n     * @param listener 事件侦听函数。\r\n     */\r\n    public static AddEventListener(type:string, thisObject:any, listener:Function):void\r\n    {\r\n        RES.GetInstance().on(type,thisObject,listener);\r\n    }\r\n\r\n    /**\r\n     * 删除侦听器\r\n     * @param type 事件的类型。\r\n     * @param thisObject 事件侦听函数的执行域。\r\n     * @param listener 事件侦听函数。\r\n     */\r\n    public static RemoveEventListener(type:string, thisObject:any, listener:Function):void\r\n    {\r\n        RES.GetInstance().off(type,thisObject,listener);\r\n    }\r\n\r\n    /**\r\n     * 加载配置文件并解析。\r\n     * @param url 配置文件路径(resource.json的路径)。\r\n     * @param resourceRoot 资源根路径。配置中的所有url都是这个路径的相对值。最终url是这个字符串与配置里资源项的url相加的值。\r\n     */\r\n    public static LoadConfig(url:string, resourceRoot:string = \"\"):void\r\n    {\r\n        RES.resourceRoot = resourceRoot;\r\n\r\n        if (!url || url.length <= 0) {//配置文件url为空\r\n            console.warn(\"配置文件url为空\");\r\n            return;\r\n        }\r\n\r\n        RES.resLoader.loadConfig(url);\r\n    }\r\n\r\n    /**\r\n     * 根据组名加载一组资源。\r\n     * @param groupName 要加载资源组的组名。\r\n     * @param priority 加载优先级，低优先级的组必须等待高优先级组完全加载结束才能开始，同一优先级的组会同时加载，默认值为 0。\r\n     */\r\n    public static LoadGroup(groupName:string, priority:number = 0): void\r\n    {\r\n        if (!groupName || groupName.length <= 0) {//资源组名不能为空\r\n            console.warn(\"加载的资源组名称不能为空\");\r\n            return;\r\n        }\r\n        if (!RES.resConfig.configComplete) {//配置文件未加载完\r\n             console.warn(\"配置文件未加载完，请先加载配置文件\");\r\n             return;\r\n        }\r\n        if (RES.resLoader.isGroupLoaded(groupName)) {//资源组已加载过\r\n            RES.dispatchResourceEvent(ResourceEvent.GROUP_COMPLETE,groupName);\r\n            return;\r\n        }\r\n        if (RES.resLoader.isGroupInLoading(groupName))//资源组正在加载中\r\n            return;\r\n        var groupList:Array<any> = RES.resConfig.getGroupByName(groupName);\r\n        if (!groupList || groupList.length <= 0) {\r\n            console.warn(\"加载不存在的资源组或资源组中无资源:\" + groupName);\r\n            return;\r\n        }\r\n\r\n        RES.resLoader.loadGroup(groupName,groupList,priority);\r\n    }\r\n\r\n\r\n    /**\r\n     * 加载一组静默资源\r\n     */\r\n    public static LoadSilenceGroup(groupName:string, groupList:Array<any>, priority:number = 0): void\r\n    {\r\n        if (!groupName || groupName.length <= 0) {//资源组名不能为空\r\n            console.warn(\"加载的资源组名称不能为空\");\r\n            return;\r\n        }\r\n        if (!RES.resConfig.configComplete) {//配置文件未加载完\r\n             console.warn(\"配置文件未加载完，请先加载配置文件\");\r\n             return;\r\n        }\r\n        if (RES.resLoader.isGroupInLoading(groupName))//资源组正在加载中\r\n            return;\r\n        if (!groupList || groupList.length <= 0) {\r\n            console.warn(\"加载不存在的资源组或资源组中无资源:\" + groupName);\r\n            return;\r\n        }\r\n\r\n        RES.resLoader.loadGroup(groupName,groupList,priority);\r\n    }\r\n\r\n\r\n    /** 停止资源组加载(仅能停止未开始加载的内容)。*/\r\n    public static StopGroup(groupName:string):boolean\r\n    {\r\n        return RES.resLoader.stopGroup(groupName);\r\n    }\r\n\r\n    /** 检查某个资源组是否已经加载完成。*/\r\n    public static IsGroupLoaded(groupName:string):boolean\r\n    {\r\n        return RES.resLoader.isGroupLoaded(groupName);\r\n    }\r\n\r\n    /** 检查资源是否已下载到本地 */\r\n    public static IsResLoadedLocal(groupName:string):boolean\r\n    {\r\n        return RES.resLoader.isResLoadedLocal(groupName);\r\n    }\r\n\r\n    /** 根据组名获取组加载项列表。 */\r\n    public static GetGroupByName(groupName:string):Array<ResourceItem>\r\n    {\r\n        return RES.resConfig.getGroupByName(groupName);\r\n    }\r\n\r\n    /**\r\n     * 追加资源组资源\r\n     * @param groupName 追加的资源组组名。\r\n     * @param keys 追加的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名。\r\n     * */\r\n    public static AddGroupKeys(groupName:string, keys:string[]):void\r\n    {\r\n        RES.resLoader.delGroupLoaded(groupName);//将原资源组设置为未加载\r\n        RES.resConfig.addGroupKeys(groupName,keys);\r\n    }\r\n\r\n    /**\r\n     * 删除资源组资源\r\n     * @param groupName 删除的资源组组名。\r\n     * @param keys 删除的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名(空表示删除资源组下全部key)。\r\n     * */\r\n    public static DelGroupKeys(groupName:string, keys?:string[]):void\r\n    {\r\n        RES.resConfig.delGroupKeys(groupName,keys);\r\n    }\r\n\r\n    /**\r\n     * 创建自定义的加载资源组,注意：此方法仅在资源配置文件加载完成后执行才有效。\r\n     * @param groupName 创建的加载资源组的组名。\r\n     * @param keys 包含的键名列表，key 对应配置文件里的 name 属性或 sbuKeys 属性的一项或一个资源组名。\r\n     * @param override 是否覆盖已经存在的同名资源组,默认 false。\r\n     * @returns 是否创建成功。\r\n     */\r\n    public static CreateGroup(groupName:string, keys:string[], override:boolean = false):boolean\r\n    {\r\n        if (override) {//覆盖已存在同名资源组：将原资源组设置为未加载\r\n            this.resLoader.delGroupLoaded(groupName);\r\n        }\r\n        return RES.resConfig.createGroup(groupName,keys,override);\r\n    }\r\n\r\n    /**\r\n     * 追加resources\r\n     * @param resources resources列表，格式{\"url\": \"\",\"type\": \"\",\"name\": \"\"}\r\n    */\r\n    public static AddResources(resources:Array<any>):void\r\n    {\r\n        RES.resConfig.addResources(resources);\r\n    }\r\n\r\n    /**\r\n     * 删除resources\r\n     * @param resources resources列表，格式{\"url\": \"\",\"type\": \"\",\"name\": \"\"}\r\n    */\r\n    public static DelResources(resources:Array<any>):void\r\n    {\r\n        RES.resConfig.delResources(resources);\r\n    }\r\n\r\n    /**\r\n     * 删除resources\r\n     * @param names names列表\r\n    */\r\n    public static DelResourcesByName(names:Array<string>):void\r\n    {\r\n        RES.resConfig.delResourcesByName(names);\r\n    }\r\n\r\n    /** \r\n     * 检查配置文件里指定的资源是否已加载。\r\n     * @param key 可以是配置文件中对应的name；也可以是url地址(推荐使用name)。如果访问的是图集子项须使用子项名(不需要扩展名)\r\n    */\r\n    public static HasRes(key:string):boolean\r\n    {     \r\n        return RES.GetRes(key) != null;\r\n    }\r\n\r\n    /** 检查指定资源是否在已加载组中 */\r\n    public static IsResInLoadedGroup(url:string):boolean\r\n    {\r\n        return RES.resLoader.isResInLoadedGroup(url);\r\n    }\r\n\r\n    /** \r\n     * 同步方式获取缓存的已经加载成功的资源。\r\n     * @param key 可以是配置文件中对应的name；也可以是url地址(推荐使用name)。如果访问的是图集子项须使用子项名(不需要扩展名)\r\n    */\r\n    public static GetRes(key:string):any\r\n    {\r\n        var atlasUrl:string = RES.resLoader.getAtlasSubitemByName(key);\r\n        if (atlasUrl != \"\")//资源为图集子项\r\n            return Laya.loader.getRes(atlasUrl);\r\n        \r\n        var url:string = RES.resConfig.getResourceUrl(key);\r\n        return url == \"\" ? null : Laya.loader.getRes(url);\r\n    }\r\n\r\n    /** \r\n     * 同步方式获取缓存的已经加载成功的图集子资源。\r\n     * @param url 所属图集/子项名.后缀名(比如：testAtlas/CreateRoom_btnZi.png)\r\n    */\r\n    public static GetAtlasRes(url:string):any\r\n    {\r\n        return Laya.loader.getRes(url);\r\n    }\r\n\r\n    /** \r\n     * 获取缓存的已经加载成功的图集子资源url。\r\n     * @param name 图集子资源名称\r\n    */\r\n    public static GetAtlasUrl(name:string):string\r\n    {\r\n        var atlasUrl:string = RES.resLoader.getAtlasSubitemByName(name);\r\n        return atlasUrl;\r\n    }\r\n\r\n     /**\r\n     * 异步方式获取配置里的资源。只要是配置文件里存在的资源，都可以通过异步方式获取。\r\n     * @param key 可以是配置文件中对应的name；也可以是url地址(推荐使用name)。\r\n     * @param thisObject 回调函数的 this 引用。\r\n     * @param compFunc 回调函数。示例：compFunc(data,key,args):void，返回值data若为null表示加载失败。若没有设置args值，则回调函数compFunc(data,key):void\r\n     * @param args 回调参数。\r\n     */\r\n    public static GetResAsync(key:string, thisObject:any, compFunc:Function, args?:any):void\r\n    {\r\n        var resourceItem:any = RES.resConfig.getResourceItem(key);\r\n        if (!resourceItem) {\r\n            compFunc && compFunc.call(thisObject,null,key);\r\n            return;\r\n        }\r\n        var res:any = RES.GetRes(key);\r\n        if (res) {\r\n            compFunc && compFunc.call(thisObject,res,key);\r\n            return;\r\n        }\r\n        RES.resLoader.loadItem(resourceItem.url,resourceItem.type,key,compFunc,thisObject,args);\r\n    }\r\n\r\n    /**\r\n     * 通过完整URL方式获取外部资源。\r\n     * @param url 要加载文件的路径。\r\n     * @param thisObject 回调函数的 this 引用。\r\n     * @param compFunc 回调函数。示例：compFunc(data,key,args):void，返回值data若为null表示加载失败。若没有设置args值，则回调函数compFunc(data,key):void\r\n     * @param type 文件类型(可选)。请使用 ResourceItem 类中定义的静态常量。若不设置将根据文件扩展名生成。\r\n     * @param args 回调参数。\r\n     */\r\n    public static GetResByUrl(url:string, thisObject:any, compFunc:Function, type?:string, args?:any):void\r\n    {\r\n        if (url && url.indexOf(\"://\") == -1) {//非http、https\r\n            url = RES.resConfig.getResourceUrl(url);\r\n        }\r\n        var res:any = Laya.loader.getRes(url);\r\n        if (res) {\r\n            if (compFunc) {\r\n                if (args)\r\n                    compFunc && compFunc.call(thisObject,res,url,args);\r\n                else\r\n                    compFunc && compFunc.call(thisObject,res,url);\r\n            }\r\n            return;\r\n        }\r\n        RES.resLoader.loadItem(url,type,\"\",compFunc,thisObject,args);\r\n    }\r\n\r\n    /**取消通过完整URL方式获取外部资源(停止加载)*/\r\n    public static CancelGetResByUrl(url:string, thisObject:any, compFunc:Function):void\r\n    {\r\n        RES.resLoader.stopLoadItem(url,compFunc,thisObject);\r\n    }  \r\n\r\n    /**\r\n     * 销毁Texture使用的图片资源，保留texture壳，如果下次渲染的时候，发现texture使用的图片资源不存在，则会自动恢复\r\n     * @param url 文件路径。\r\n     */\r\n    public static ClearTextureRes(url:string):void\r\n    {\r\n        Laya.loader.clearTextureRes(url);\r\n    }\r\n    /**\r\n     * 清理指定资源缓存。\r\n     * @param key 可以是配置文件中对应的name；也可以是url地址(推荐使用name)。清理图集请清理对应的json文件(不支持单独清理图集中单个资源)。\r\n     * @param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false\r\n     */\r\n    public static ClearRes(key:string, forceDispose:boolean = true):void\r\n    {\r\n        var url:string = RES.resConfig.getResourceUrl(key);\r\n        if (url == \"\") return;\r\n        if (!Laya.SoundManager.autoReleaseSound) {//不自动回收音频\r\n            let item:any = RES.resConfig.getResourceItem(key);\r\n            if (item && item.type == \"sound\") return;\r\n        }\r\n        RES.resLoader.delAtlas(url);\r\n        Laya.loader.clearRes(url,forceDispose);\r\n        if (forceDispose || !RES.HasRes(url)) {//强制回收或该资源不存在\r\n            //将已加载组中包含该资源的资源组设置为未加载(防止后续再次加载该资源组时不加载)\r\n            RES.resLoader.delLoadedGroupsByItemName(url);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清理指定缓存资源(通过url异步加载资源)\r\n     * @param url 文件路径。\r\n     * @param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false\r\n     */\r\n    public static ClearResByUrl(url:string, forceDispose:boolean = true):void\r\n    {\r\n        this.delayClearRunTimeRes(url);\r\n    }\r\n\r\n    /** \r\n     * 根据分组清理资源。\r\n     * @param groupName 资源组的组名。\r\n     * @param force 其他资源组有同样资源情况资源是否会被删除，默认值 false。\r\n     * @param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false\r\n     */\r\n    public static ClearResByGroup(groupName:string, force:boolean = false, forceDispose:boolean = true): void\r\n    {\r\n        var groupList:Array<any> = RES.resConfig.getRawGroupByName(groupName);\r\n        if (groupList && groupList.length > 0)\r\n        {\r\n            RES.resLoader.delGroupLoaded(groupName);\r\n            var length:number = groupList.length;\r\n            for (var i:number = 0; i < length; i++) \r\n            {\r\n                var item:any = groupList[i];\r\n                if (!force && (RES.resLoader.isResInLoadedGroup(item.url) || RES.resLoader.isResInLoadingGroup(item.url))) {\r\n                }\r\n                else \r\n                {\r\n                    if (!Laya.SoundManager.autoReleaseSound && item.type == \"sound\") {//不自动回收音频\r\n                    }\r\n                    else\r\n                    {\r\n                        RES.ClearRes(item.url,forceDispose);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n     /** \r\n     * 清理静默资源。\r\n     * @param groupName 资源组的组名。\r\n     * @param force 其他资源组有同样资源情况资源是否会被删除，默认值 false。\r\n     * @param forceDispose 是否强制销毁，有些资源是采用引用计数方式销毁，如果forceDispose=true，则忽略引用计数，直接销毁，比如Texture，默认为false\r\n     */\r\n    public static ClearSilenceResByGroup(groupName:string, groupList:Array<any>, force:boolean = false, forceDispose:boolean = true): void\r\n    {\r\n        if (groupList && groupList.length > 0)\r\n        {\r\n            RES.resLoader.delGroupLoaded(groupName);\r\n            var length:number = groupList.length;\r\n            for (var i:number = 0; i < length; i++) \r\n            {\r\n                var item:any = groupList[i];\r\n                if (!force && (RES.resLoader.isResInLoadedGroup(item.url) || RES.resLoader.isResInLoadingGroup(item.url))) {\r\n                }\r\n                else \r\n                {\r\n                    if (!Laya.SoundManager.autoReleaseSound && item.type == \"sound\") {//不自动回收音频\r\n                    }\r\n                    else\r\n                    {\r\n                        RES.ClearRes(item.url,forceDispose);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** \r\n     * 获取单个资源加载项\r\n     * @param key 可以是配置文件中对应的name\r\n     */\r\n    public static GetResourceItem(key:string):any\r\n    {\r\n        return RES.resConfig.getResourceItem(key);\r\n    }\r\n\r\n    /** 派发事件 */\r\n    public static dispatchResourceEvent(type:string, groupName:string = \"\", progress:number = 0, errorUrl:string = \"\"):void\r\n    {\r\n        RES.GetInstance().event(type,new ResourceEvent(groupName,progress,errorUrl));\r\n    }\r\n\r\n\r\n    //////////////////////////////////////处理runtime中运行时加载资源回收//////////////////////////////////////\r\n\r\n    /**添加资源引用*/\r\n    public static AddReference(url:string):void\r\n    {\r\n        if (!url || url.length <= 0) return;\r\n        let reference:number = 1;\r\n        if (this.referenceDic[url])\r\n        {\r\n            reference = this.referenceDic[url];\r\n            reference ++;\r\n        }\r\n        this.referenceDic[url] = reference;\r\n        //console.log(\"添加引用：\" + url + \" : \" + reference);\r\n    }\r\n\r\n    /**删除资源引用*/\r\n    public static DelReference(url:string):void\r\n    {\r\n        if (!url || url.length <= 0) return;\r\n        if (this.referenceDic[url])\r\n        {\r\n            let reference:number = this.referenceDic[url];\r\n            if (reference <= 1)\r\n                delete this.referenceDic[url];\r\n            else\r\n                this.referenceDic[url] = reference - 1;\r\n            //console.log(\"删除引用：\" + url + \" : \" + (reference-1));\r\n        }\r\n    }\r\n\r\n    /**获取资源引用*/\r\n    public static GetReference(url:string):number\r\n    {\r\n        if (!url || url.length <= 0) return 0;\r\n        if (this.referenceDic[url])\r\n            return this.referenceDic[url];\r\n        return 0;\r\n    }\r\n\r\n    /**清理runtimer资源*/\r\n    private static waitClearResDic:any = {};//待回收资源字典\r\n    private static clearResIng:boolean = false;//是否清理中\r\n    private static delayClearRunTimeRes(url:string):void\r\n    {\r\n        if (!url || url.length <= 0 || this.GetReference(url) > 0) return;\r\n        this.waitClearResDic[url] = Laya.Browser.now();\r\n        if (!this.clearResIng)//不在清理中\r\n        {\r\n            this.clearResIng = true;\r\n            Laya.timer.once(5000,this,this.clearRunTimeRes);//延迟5秒后清理\r\n        }\r\n    }\r\n\r\n    private static clearRunTimeRes():void\r\n    {\r\n        this.onLoopClearRunTimeRes(false);\r\n    }\r\n\r\n    private static onLoopClearRunTimeRes(isFrameLoop:boolean):void//逐帧清理\r\n    {\r\n        let frameTm:number = Laya.stage.getFrameTm();//本帧开始时间\r\n        let curTime:number = 0;//当前时间\r\n        let isAllClear:boolean = true;//是否已全部清理\r\n        let url:string = \"\";\r\n        for (url in this.waitClearResDic)\r\n        {\r\n            curTime = Laya.Browser.now();\r\n            if (curTime - this.waitClearResDic[url] < 5000)//距离回收时间未超过5秒\r\n            {\r\n                isAllClear = false;\r\n                continue;\r\n            }\r\n            else if (curTime - frameTm > 20)//本帧所用时间过长:50帧了 \r\n            {\r\n                isAllClear = false;\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                delete this.waitClearResDic[url];\r\n                if (this.GetReference(url) <= 0)\r\n                    Laya.loader.clearRes(url,true);\r\n            }\r\n        }\r\n        if (isAllClear)//已全部清理\r\n        {\r\n            Laya.timer.clear(this,this.onLoopClearRunTimeRes);\r\n            this.clearResIng = false;\r\n        }\r\n        else\r\n        {\r\n            if (!isFrameLoop)//启动逐帧清理\r\n                Laya.timer.frameLoop(5,this,this.onLoopClearRunTimeRes,[true]);\r\n        }\r\n    }\r\n\r\n    private static referenceDebugDic:any = {};\r\n    public static AddDebugReference(url:string,clsName:string):void\r\n    {\r\n        if (!url || url.length <= 0 || !clsName || clsName.length <= 0) return;\r\n        if (this.referenceDebugDic[url])\r\n        {\r\n            let referenceDic = this.referenceDebugDic[url];\r\n            let reference = 1;\r\n            if (referenceDic[clsName])\r\n            {\r\n                reference = referenceDic[clsName];\r\n                reference ++;\r\n            }\r\n            referenceDic[clsName] = reference;\r\n        }\r\n        else\r\n        {\r\n            this.referenceDebugDic[url] = {};\r\n            this.referenceDebugDic[url][clsName] = 1;\r\n        }\r\n    }\r\n\r\n    public static DelDebugReference(url:string,clsName:string):void\r\n    {\r\n        if (!url || url.length <= 0 || !clsName || clsName.length <= 0) return;\r\n        if (this.referenceDebugDic[url])\r\n        {\r\n            let referenceDic = this.referenceDebugDic[url];\r\n            if (referenceDic[clsName])\r\n            {\r\n                let reference = referenceDic[clsName];\r\n                if (reference <= 1)\r\n                {\r\n                    delete referenceDic[clsName];\r\n                    let keys = Object.keys(referenceDic);\r\n                    if (!keys || keys.length <= 0)\r\n                        delete this.referenceDebugDic[url];\r\n                }\r\n                else\r\n                    referenceDic[clsName] = reference - 1;\r\n            }\r\n        }\r\n    }\r\n}\r\nLaya.Browser.window.RES = RES;","import DressSaveScene from \"./ui/base/dressSaveScene/DressSaveScene\";\r\nimport DressScene from \"./ui/dressScene/DressScene\";\r\nimport HomeScene from \"./ui/homeScene/HomeScene\";\r\nimport MyDressScene from \"./ui/myDressScene/MyDressScene\";\r\nimport RankScene from \"./ui/rankScene/RankScene\";\r\nimport LookDressWindow from \"./ui/window/LookDressWindow\";\r\nimport PromptWindow from \"./ui/window/PromptWindow\";\r\nimport RuleWindow from \"./ui/window/RuleWindow\";\r\nimport SaveDressWindow from \"./ui/window/SaveDressWindow\";\r\n// import SaveWindow from \"./ui/window/SaveWindow\";\r\nimport SharePromptWindow from \"./ui/window/SharePromptWindow\";\r\nimport VoteWorkInfoWindow from \"./ui/window/VoteWorkInfoWindow\";\r\n\r\nexport default class RegClass\r\n{\r\n    public static RegAllClass():void//注册所有反射类\r\n    {\r\n        //注册场景类\r\n        this.regCls(\"HomeScene\",HomeScene);\r\n        this.regCls(\"DressScene\",DressScene);\r\n        this.regCls(\"MyDressScene\",MyDressScene);\r\n        this.regCls(\"RankScene\",RankScene);\r\n        this.regCls(\"DressSaveScene\",DressSaveScene);\r\n        \r\n        \r\n        //注册弹窗类\r\n        // this.regCls(\"SaveWindow\",SaveWindow);\r\n        this.regCls(\"PromptWindow\",PromptWindow);\r\n        this.regCls(\"SharePromptWindow\",SharePromptWindow);\r\n        this.regCls(\"RuleWindow\",RuleWindow);\r\n        this.regCls(\"VoteWorkInfoWindow\",VoteWorkInfoWindow);\r\n        this.regCls(\"LookDressWindow\",LookDressWindow);\r\n        this.regCls(\"SaveDressWindow\",SaveDressWindow);\r\n    }\r\n\r\n    public static GetInstanceClass(className:string):any//获取注册的反射类实例\r\n    {\r\n        return Laya.ClassUtils.getInstance(className);\r\n    }\r\n    public static GetRegClass(className:string):any//获取注册的反射类\r\n    {\r\n        return Laya.ClassUtils.getRegClass(className);\r\n    }\r\n\r\n    private static regCls(className:string,classDef:any):void\r\n    {\r\n        Laya.ClassUtils.regClass(className,classDef);\r\n    }\r\n}","import ByteArray from \"../utils/ByteArray\";\r\n\r\n/*\r\n* aes加密解密;\r\n*/\r\nexport default class AESUtils\r\n{\r\n    private encryptCounter:aesjs.Counter;\r\n    private decryptCounter:aesjs.Counter;\r\n    private encrypt:aesjs.ModeOfOperation.ctr;\r\n    private decrypt:aesjs.ModeOfOperation.ctr;\r\n    private jofb:aesjs.ModeOfOperation.cfb;\r\n    constructor(){\r\n\r\n    }\r\n    /**\r\n     * 密钥和向量初始化\r\n     */\r\n    public Init():void{\r\n        var myKey = new Uint8Array([\r\n            0x47, 0x72, 0x45, 0x6b, 0x55, 0x50, 0x37, 0x78,\r\n            0x61, 0x4e, 0x3f, 0x26, 0x72, 0x65, 0x51, 0x3d,\r\n            0x6a, 0x45, 0x66, 0x72, 0x61, 0x74, 0x68, 0x65,\r\n            0x77, 0x35, 0x65, 0x47, 0x35, 0x51, 0x45, 0x64,\r\n\t    ]);\r\n        let iv1 = new Uint8Array([\r\n            0x74, 0x65, 0x42, 0x37, 0x24, 0x46, 0x35, 0x53,\r\n            0x23, 0x75, 0x66, 0x61, 0x6d, 0x55, 0x6d, 0x42,\r\n        ]);\r\n        let iv2 = new Uint8Array([\r\n            0x74, 0x65, 0x42, 0x37, 0x24, 0x46, 0x35, 0x53,\r\n            0x23, 0x75, 0x66, 0x61, 0x6d, 0x55, 0x6d, 0x42,\r\n        ]);\r\n        \r\n        this.encryptCounter = new aesjs.Counter(iv1,1);\r\n        this.decryptCounter = new aesjs.Counter(iv2,2);\r\n        this.encrypt = new aesjs.ModeOfOperation.ctr(myKey, this.encryptCounter);\r\n        this.decrypt = new aesjs.ModeOfOperation.ctr(myKey, this.decryptCounter);\r\n    }\r\n\r\n    /**重置*/\r\n    public Reset():void\r\n    {\r\n        this.Init();\r\n    }\r\n\r\n    /**加密*/\r\n    public Encrypt(buffer:ArrayBuffer):Uint8Array\r\n    {\r\n        if(this.encrypt){\r\n            let uint8:Uint8Array = this.encrypt.encrypt(new Uint8Array(buffer));\r\n            return  uint8;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /** 解密*/\r\n    public Decrypt(buffer:ArrayBuffer):Uint8Array\r\n    {\r\n        if(this.decrypt){\r\n            let uint8:Uint8Array = this.decrypt.decrypt(new Uint8Array(buffer));\r\n            return  uint8;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    protected InitOfb():void{\r\n        var cbck = [ 0x14, 0x33, 0x45, 0x6b, 0x55, 0x5e, 0x37, 0x78,\r\n    \t\t\t0x61, 0x4e, 0x3f, 0x2d, 0x72, 0x65, 0x51, 0x3d ];\r\n        var cbciv:Float32Array = new Float32Array([ 0x89, 0x65, 0x3e, 0x37, 0x24, 0x46, 0x56, 0x45,\r\n\t\t\t\t0x23, 0x75, 0x43, 0x21, 0x6d, 0x55, 0x61, 0xe1 ]);\r\n        this.jofb = new aesjs.ModeOfOperation.cfb(cbck, cbciv,16);\r\n    }\r\n\r\n    /**json解密*/\r\n    public Ofb_Dec(buffer:ArrayBuffer):Uint8Array{\r\n        if (!this.jofb) this.InitOfb();\r\n        //解密数据要用Uint8Array//nodejs加密不用啊。。。。\r\n        let uData:ByteArray = new ByteArray();\r\n        let len:number = buffer.byteLength;\r\n        uData.writeArrayBuffer(buffer);\r\n        let count:number = 16 - len % 16;\r\n        uData.length = count + len;\r\n        let result:Uint8Array = this.jofb.decrypt(new Uint8Array(uData.buffer));\r\n        return result.slice(0,len);\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport DressType from \"../../enum/DressType\";\r\nimport Global from \"../../Global\";\r\nimport HttpUtils from \"../../utils/HttpUtils\";\r\nimport StorageUtils from \"../../utils/StorageUtils\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SceneManager from \"../base/SceneManager\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class GameManager extends Laya.EventDispatcher\r\n{\r\n\tpublic static ENTER_GAME:string = \"ENTER_GAME\";//进入游戏\r\n\tpublic static SCORE_CHANGE:string = \"SCORE_CHANGE\";//积分变化\r\n\tpublic static COLLOCATION_SAVE_SUCC:string = \"COLLOCATION_SAVE_SUCC\";//装扮保存成功\r\n\tpublic static COLLOCATION_JOIN_SUCC:string = \"COLLOCATION_JOIN_SUCC\";//装扮参赛成功\r\n\tpublic static COLLOCATION_RANK:string = \"COLLOCATION_RANK\";//排行榜列表\r\n\tpublic static COLLOCATION_RANK_SEARCH:string = \"COLLOCATION_RANK_SEARCH\";//排行榜搜索\r\n\tpublic static COLLOCATION_VOTE_SUCC:string = \"COLLOCATION_VOTE_SUCC\";//装扮投票成功\r\n\tpublic static COLLOCATION_RANK_INFO:string = \"COLLOCATION_RANK_INFO\";//排行榜作品详情\r\n\tpublic static BACK_RANK_CHANGE:string = \"BACK_RANK_CHANGE\";//返回排行榜变更数据\r\n\r\n\tprivate openID:string = \"\";\r\n\tprivate token:string = \"\";\r\n\tprivate score:number = 0;//积分\r\n\tprivate code:string = \"\";//参赛作品编号\r\n\tprivate myCollocationList:Array<any>;//我的搭配列表\r\n\tprivate joinCollocationInfo:any;//参赛作品搭配信息\r\n\tprivate shareSuccDate:Date;//分享成功的时间\r\n\r\n\tconstructor() \r\n\t{\r\n        super();\r\n\t}\r\n\r\n\tprotected static instance:GameManager;\r\n\tpublic static GetInstance():GameManager\r\n\t{\r\n\t\tif (null == GameManager.instance)\r\n\t\t\tGameManager.instance = new GameManager();\r\n\t\treturn GameManager.instance;\r\n\t}\r\n\r\n\t//桃气值\r\n\tpublic get Score():number\r\n\t{\r\n\t\treturn this.score;\r\n\t}\r\n\r\n\t//参赛作品编号\r\n\tpublic get Code():string\r\n\t{\r\n\t\treturn this.code;\r\n\t}\r\n\r\n\t//我的搭配列表\r\n\tpublic get MyCollocationList():Array<any>\r\n\t{\r\n\t\treturn this.myCollocationList;\r\n\t}\r\n\r\n\t//我的参赛作品搭配信息\r\n\tpublic get JoinCollocationInfo():any\r\n\t{\r\n\t\tif (!this.joinCollocationInfo)\r\n\t\t{\r\n\t\t\tif (this.myCollocationList && this.myCollocationList.length)\r\n\t\t\t{\r\n\t\t\t\tfor (let i:number = 0; i < this.myCollocationList.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.myCollocationList[i].is_join)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.joinCollocationInfo = this.myCollocationList[i];\r\n\t\t\t\t\t\tbreak; \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.joinCollocationInfo;\r\n\t}\r\n\r\n\t//是否已达搭配上限\r\n\tpublic get IsCollocationMaxed():boolean\r\n\t{\r\n\t\treturn this.myCollocationList && this.myCollocationList.length >= Global.CollocationMax ? true : false;\r\n\t}\r\n\r\n\t//初始化用户数据\r\n\tpublic InitUserData():void\r\n\t{\r\n\t\tif (isWinXin())\r\n\t\t{\r\n\t\t\tlet reqObj = Laya.Browser.window.reqObj;\r\n\t\t\tif (reqObj && reqObj.code)//授权返回\r\n\t\t\t{\r\n\t\t\t\tthis.WechatLogin(reqObj.code);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tlet openID:string = StorageUtils.getString(\"lwzhOpenID\");\r\n\t\t\t\tlet\ttoken:string = StorageUtils.getString(\"lwzhToken\");\r\n\t\t\t\tif (openID && token)//利用保存的token\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.openID = openID;\r\n\t\t\t\t\tthis.token = token;\r\n\t\t\t\t\tthis.GetTokenTime(this.token);//校验token\r\n\t\t\t\t}\r\n\t\t\t\telse//异常：去授权\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.WechatAuthorize();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse//非微端环境\r\n\t\t{\r\n\t\t\tif (Laya.Browser.window.isLocalDebug)//本地debug调试环境\r\n\t\t\t{\r\n\t\t\t\tthis.openID = \"obEQh50jNP06elRvSzjUSEjXWuSE\";\r\n\t\t\t\tthis.token = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvMTB0aGx3aHouc2FuZ3Vvc2hhLmNvbVwvYXBpXC93ZWNoYXRMb2dpbiIsImlhdCI6MTY1ODU3Njk2OSwiZXhwIjoxNjU5MTgxNzY5LCJuYmYiOjE2NTg1NzY5NjksImp0aSI6Ikk0N0dlNXFCYWtqU3JLTVUiLCJzdWIiOjEsInBydiI6IjIzYmQ1Yzg5NDlmNjAwYWRiMzllNzAxYzQwMDg3MmRiN2E1OTc2ZjcifQ.3GPj0ea6zxbAoN5GKt0F6GBx4Es3Pm5_xNLczpznfXc\";\t\t\t\t\r\n\t\t\t\tthis.GetTokenTime(this.token);//校验token\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.WechatAuthorize();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//微信授权\r\n\tpublic WechatAuthorize():void\r\n\t{\r\n\t\tStorageUtils.delStorage(\"lwzhOpenID\");\r\n\t\tStorageUtils.delStorage(\"lwzhToken\");\r\n\t\twxAuthorize();\r\n\t}\r\n\r\n\t//微信公众号授权登录：通过code获取openid、token\r\n    public WechatLogin(code:string):void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/wechatLogin?code=\" + code,null,this.onWechatLogin.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onWechatLogin(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.openID = data.userModel.open_id;\r\n\t\tthis.token = data.token;\r\n\t\tStorageUtils.addString(\"lwzhOpenID\",this.openID);\r\n\t\tStorageUtils.addString(\"lwzhToken\",this.token);\r\n\t\tthis.WeChatJsSDK();\r\n\t\tthis.MyScore();\r\n\t}\r\n\r\n\t//校验token剩余时间\r\n    public GetTokenTime(token:string):void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/getTokenTime?token=\" + token,null,this.onGetTokenTime.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onGetTokenTime(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data || !data.left_time || data.left_time < 43200)//无效、过期、还有半天过期token \r\n\t\t{\r\n\t\t\tthis.WechatAuthorize();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.WeChatJsSDK();\r\n\t\tthis.MyScore();\r\n\t}\r\n\r\n\t//微信jsSDK\r\n\tpublic WeChatJsSDK():void\r\n\t{\r\n\t\tHttpUtils.Request(Global.ShareJsSdk + \"?url=\" + Global.GameUrl,null,this.onWeChatJsSDK.bind(this),\"get\");\r\n\t}\r\n\r\n\tprivate onWeChatJsSDK(result:any):void\r\n\t{\r\n\t\ttry {\r\n\t\t\tlet msg:any = JSON.parse(result);\r\n\t\t\tif (msg && msg.appId && msg.timestamp && msg.nonceStr && msg.signature)\r\n\t\t\t{\t\r\n\t\t\t\tif (isWinXin())\r\n\t\t\t\t{\r\n\t\t\t\t\twxConfig(msg.appId,msg.timestamp,msg.nonceStr,msg.signature,this,function(data:number){\r\n\t\t\t\t\t\tif (data > 0)//配置成功\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar logoUrl = Laya.URL.formatURL(\"res/assets/logo.jpg\");\r\n\t\t\t\t\t\t\twxShare(\"李婉皮肤共创计划\",\"《三国杀十周年》创玩节开启，携手百万玩家参与魏阵营武将李婉皮肤设计，超多搭配，丰富竞赛奖励，打造您心中最美武将\",Global.GameUrl,logoUrl,this,function(data:number){\r\n\t\t\t\t\t\t\t\tconsole.log(\"分享接口回调：\" + data);//0取消 1成功\r\n\t\t\t\t\t\t\t\t// if (data > 0)//分享设置成功\r\n\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t// \tGameManager.GetInstance().CollocationShare();\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tconsole.log(\"微信jsSDK接口数据异常：\" + result);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (error){\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t//我的分数信息\r\n    public MyScore():void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/myScore?token=\"+ this.token,null,this.onMyScore.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onMyScore(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.score = data.score;\r\n\t\tthis.code = data.code;\r\n\t\tthis.event(GameManager.SCORE_CHANGE,[this.score]);\r\n\r\n\t\tif (!this.myCollocationList)//我的搭配列表不存在:登录时请求我的搭配列表\r\n\t\t{\r\n\t\t\tthis.myCollocationList = [];\r\n\t\t\tthis.CollocationList(1);\r\n\t\t}\r\n\t}\r\n\r\n\t//我的搭配列表\r\n    public CollocationList(page:number):void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/myList?token=\"+ this.token + \"&page=\" + page,null,this.onCollocationList.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onCollocationList(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data || !this.myCollocationList) return;\r\n\t\tlet myList = data.data;\r\n\t\tif (myList && myList.length > 0)\r\n\t\t{\r\n\t\t\tmyList.forEach(element => {\r\n\t\t\t\tif (!this.CheckCollocation(element.skin,element.collocation))//数据异常\r\n\t\t\t\t\telement.collocation = null;\r\n\t\t\t\tthis.myCollocationList.push(element);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (data.current_page < data.last_page)//继续请求\r\n\t\t{\r\n\t\t\tthis.CollocationList(data.current_page + 1);\r\n\t\t}\r\n\t\telse//我的搭配列表请求完\r\n\t\t{\r\n\t\t\tthis.myCollocationList.sort(this.myCollocationListSort);\r\n\t\t\tlet sceneManager = SceneManager.GetInstance();\r\n\t\t\tif (!sceneManager.CurScene)//未进入游戏\r\n\t\t\t\tthis.event(GameManager.ENTER_GAME);\r\n\t\t}\r\n\t}\r\n\r\n\t//保存装扮\r\n    public CollocationSave(skin:number,collocation:Array<number>):void\r\n    {\r\n\t\tif (!this.CheckCollocation(skin,collocation,\"装扮数据异常，不能保存\")) return;\r\n\t\tlet params = {token:this.token,skin:skin,collocation:collocation};\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/save\",JSON.stringify(params),this.onCollocationSave.bind(this),\"post\",\"text\",[\"Content-Type\", \"application/json\"]);\r\n    }\r\n\r\n\tprivate onCollocationSave(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data || !data.collocation) return;\r\n\t\tlet info = data.collocation;\r\n\t\tif (this.myCollocationList)\r\n\t\t{\r\n\t\t\tif (!this.CheckCollocation(info.skin,info.collocation))//数据异常\r\n\t\t\t\tinfo.collocation = null;\r\n\t\t\tthis.myCollocationList.push(info);\r\n\t\t\tthis.myCollocationList.sort(this.myCollocationListSort);\r\n\t\t}\t\r\n\t\tthis.event(GameManager.COLLOCATION_SAVE_SUCC,[info]);\r\n\t}\r\n\r\n\t//参赛\r\n    public CollocationJoin(id:string):void\r\n    {\r\n\t\tlet params = {token:this.token,id:id};\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/join\",JSON.stringify(params),this.onCollocationJoin.bind(this,id),\"post\",\"text\",[\"Content-Type\", \"application/json\"]);\r\n    }\r\n\r\n\tprivate onCollocationJoin(id:number,result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data || !data.code) return;\r\n\t\tthis.code = data.code;\r\n\t\tif (this.myCollocationList)\r\n\t\t{\r\n\t\t\tfor (let i:number = 0; i < this.myCollocationList.length; i++)//将我的搭配打上参赛标记\r\n\t\t\t{\r\n\t\t\t\tif (this.myCollocationList[i].id == id)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.myCollocationList[i].is_join = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.myCollocationList.sort(this.myCollocationListSort);\r\n\t\t}\r\n\t\tthis.event(GameManager.COLLOCATION_JOIN_SUCC);\r\n\t}\r\n\r\n\t//排行榜列表\r\n    public CollocationRank():void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/rank?token=\" + this.token,null,this.onCollocationRank.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onCollocationRank(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.event(GameManager.COLLOCATION_RANK,[data]);\r\n\t}\r\n\r\n\t//排行榜搜索\r\n    public CollocationRankSearch(code:string):void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/rank?token=\" + this.token + \"&code=\" + code,null,this.onCollocationRankSearch.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onCollocationRankSearch(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.event(GameManager.COLLOCATION_RANK_SEARCH,[data]);\r\n\t}\r\n\r\n\t//投票\r\n    public CollocationVote(code:string):void\r\n    {\r\n\t\tlet params = {token:this.token,code:code};\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/vote\",JSON.stringify(params),this.onCollocationVote.bind(this,code),\"post\",\"text\",[\"Content-Type\", \"application/json\"]);\r\n    }\r\n\r\n\tprivate onCollocationVote(code:string,result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.event(GameManager.COLLOCATION_VOTE_SUCC,[code]);\r\n\t\tthis.MyScore();\r\n\t}\r\n\r\n\t//分享\r\n    public CollocationShare():void\r\n    {\r\n\t\tlet todayShareAddScore:boolean = false;//今日分享已加过分\r\n\t\tif (this.shareSuccDate)\r\n\t\t{\r\n\t\t\tlet curDate = new Date();\r\n\t\t\ttodayShareAddScore = this.shareSuccDate.getFullYear() == curDate.getFullYear() && this.shareSuccDate.getMonth() == curDate.getMonth() && \r\n\t\t\t\t\t\t\tthis.shareSuccDate.getDate() == curDate.getDate() ? true : false;\r\n\t\t}\r\n\t\tif (!todayShareAddScore)\r\n       \t\tHttpUtils.Request(Global.ServerUrl + \"/api/collocation/share?token=\" + this.token,null,this.onCollocationShare.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onCollocationShare(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.shareSuccDate = new Date();\r\n\t\tthis.MyScore();\r\n\t}\r\n\r\n\t//排行榜作品详情\r\n    public CollocationRankInfo(code:string):void\r\n    {\r\n        HttpUtils.Request(Global.ServerUrl + \"/api/collocation/rankInfo?token=\" + this.token + \"&code=\" + code,null,this.onCollocationRankInfo.bind(this),\"get\");\r\n    }\r\n\r\n\tprivate onCollocationRankInfo(result:any):void\r\n\t{\r\n\t\tlet data = this.parseResult(result);\r\n\t\tif (!data) return;\r\n\t\tthis.event(GameManager.COLLOCATION_RANK_INFO,[data.collocation]);\r\n\t}\r\n\r\n\t//校验装扮合法性\r\n\tpublic CheckCollocation(skin:number,collocation:Array<number>,tipMsg:string = \"\"):boolean\r\n\t{\r\n\t\tlet result:boolean = true;\r\n\t\tif (!skin || skin < 1 || skin > 3)//肤色异常\r\n\t\t\tresult = false;\r\n\t\telse if (!collocation || collocation.length <= 0)//没有搭配信息\r\n\t\t\tresult = false;\r\n\t\telse\r\n\t\t{\r\n\t\t\t//必须要有发型、眼睛、鞋子及(套装或上衣、下衣)\r\n\t\t\tlet config = DressConfiger.GetInstance();\r\n\t\t\tlet dressVo:DressVO;\r\n\t\t\tlet existHairstyle:boolean = false;\r\n\t\t\tlet existEye:boolean = false;\r\n\t\t\tlet existShoes:boolean = false;\r\n\t\t\tlet existSuit:boolean = false;\r\n\t\t\tlet existJacket:boolean = false;\r\n\t\t\tlet existLowerGarments:boolean = false;\r\n\t\t\tfor (let i:number = 0; i < collocation.length; i++)\r\n\t\t\t{\r\n\t\t\t\tdressVo = config.GetDressByDressID(collocation[i]);\r\n\t\t\t\tif (!dressVo)\r\n\t\t\t\t{\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESHairstyle)\r\n\t\t\t\t\texistHairstyle = true;\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESEye)\r\n\t\t\t\t\texistEye = true;\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESShoes)\r\n\t\t\t\t\texistShoes = true;\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESSuit)\r\n\t\t\t\t\texistSuit = true;\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESJacket)\r\n\t\t\t\t\texistJacket = true;\r\n\t\t\t\telse if (dressVo.DressType == DressType.DESLowerGarments)\r\n\t\t\t\t\texistLowerGarments = true;\r\n\t\t\t}\r\n\t\t\tif (result)\r\n\t\t\t{\r\n\t\t\t\tif (!existHairstyle || !existEye || !existShoes)//没有发型、眼睛、鞋子\r\n\t\t\t\t\tresult = false;\r\n\t\t\t\telse \r\n\t\t\t\t{\r\n\t\t\t\t\tif (existSuit)//有套装\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (existJacket || existLowerGarments)//同时有上衣或下衣\r\n\t\t\t\t\t\t\tresult = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse//无套装\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (!existJacket || !existLowerGarments)//没有上衣、下衣\r\n\t\t\t\t\t\t\tresult = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!result && tipMsg)\r\n\t\t\tUIUtils.ShowTextPrompt(tipMsg);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate myCollocationListSort(a:any,b:any):number//我的搭配列表排序：参赛作品置顶、其他按序号从小到大\r\n\t{\r\n\t\tif (a.is_join) return -1;\r\n\t\tif (b.is_join) return 1;\r\n\t\treturn a.number - b.number;\r\n\t}\r\n\r\n\tprivate parseResult(result)\r\n\t{\r\n\t\ttry {\r\n\t\t\tlet msg:any = JSON.parse(result);\r\n\t\t\tif (msg)\r\n\t\t\t{\r\n\t\t\t\tif (msg.code)//错误\r\n\t\t\t\t{\r\n\t\t\t\t\t//指定错误码：token过期 重新授权\r\n\t\t\t\t\tif (msg.code == 401)//token过期\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.WechatAuthorize();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlet errorMsg:string = msg.msg ? msg.msg : \"请求错误\";\r\n\t\t\t\t\t\t// UIUtils.OpenPromptWin(\"\",errorMsg,100,null,null,PromptWindow.BTN_TYPE2);\r\n\t\t\t\t\t\tUIUtils.ShowTextPrompt(errorMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\treturn msg.data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (error){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}","import Dictionary from \"../../utils/Dictionary\";\r\nimport RegClass from \"../../RegClass\";\r\nimport SceneManager from \"./SceneManager\";\r\nimport WindowBase from \"../../ui/base/WindowBase\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class WindowManager\r\n{\r\n\tprotected windowDic:Dictionary;\r\n\tprotected windowLayerDic:Dictionary;\r\n\tprotected hideViewWinDic:Dictionary;\r\n\r\n\tconstructor() \r\n\t{\r\n\t\tthis.windowDic = new Dictionary();\r\n\t\tthis.windowLayerDic = new Dictionary();\r\n\t\tthis.hideViewWinDic = new Dictionary();\r\n\t}\r\n\r\n\tprotected static instance:WindowManager;\r\n\tpublic static GetInstance():WindowManager\r\n\t{\r\n\t\tif(null == WindowManager.instance)\r\n\t\t{\r\n\t\t\tWindowManager.instance = new WindowManager();\r\n\t\t}\r\n\t\treturn WindowManager.instance;\r\n\t}\r\n\t\r\n\t//打开弹窗 - 如果已实例化则不创建\r\n\tpublic OpenWindow(winName:string,...args):WindowBase\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(winName);\r\n\t\tif (!result)//不存在\r\n\t\t{\r\n\t\t\tresult = RegClass.GetInstanceClass(winName);\r\n\t\t\tif (result)\r\n\t\t\t{\r\n\t\t\t\tresult.name = winName;\r\n\t\t\t\tthis.AddKey(winName,result);\r\n\t\t\t\tresult.Open(...args);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tconsole.log(winName + '弹窗未找到');\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse//已存在\r\n\t\t{\r\n\t\t\tif (result.Loading)//加载中:更新数据，等待加载完成即可\r\n\t\t\t{\r\n\t\t\t\tresult[\"windowData\"] = args;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (result.parent)//在舞台上:关闭后重新打开\r\n\t\t\t{\r\n\t\t\t\tresult.Close(true);//立刻关闭\r\n\t\t\t\tthis.OpenWindow(winName,... args);\r\n\t\t\t}\r\n\t\t\telse//不回收的窗口\r\n\t\t\t{\r\n\t\t\t\tresult.ResetOpen(args);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t//关闭弹窗\r\n\tpublic CloseWindow(win:string,ignoreCloseAnimate:boolean = false):void\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(win);\r\n\t\tif (result && result.parent)\r\n\t\t{\r\n\t\t\tresult.Close(ignoreCloseAnimate);\r\n\t\t}\r\n\t}\r\n\r\n\t//显示窗口:显示掩藏的窗口\r\n\tpublic ShowWindow(win:string):void\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(win);\r\n\t\tif (result && (!result.parent || result.Closeing))\r\n\t\t{\r\n\t\t\tresult.Show();\r\n\t\t}\r\n\t}\r\n\r\n\t//掩藏弹窗:从舞台移除但不destory\r\n\tpublic HideWindow(win:string):void\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(win);\r\n\t\tif (result && result.parent)\r\n\t\t{\r\n\t\t\tresult.Hide();\r\n\t\t}\r\n\t}\r\n\r\n\t//获取已实例窗口\r\n\tpublic GetWindow(win:string):WindowBase\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(win);\r\n\t\treturn result ? result : null;\r\n\t}\r\n\r\n\t//弹窗是否存在\r\n\tpublic hasWindow(win:string):boolean\r\n\t{\r\n\t\treturn this.windowDic.has(win);\r\n\t}\r\n\r\n\t//弹窗是否已打开\r\n\tpublic IsShowWindow(win:string):boolean\r\n\t{\r\n\t\tlet result:WindowBase = this.windowDic.getStringKey(win);\r\n\t\tif (result && result.parent)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//关闭所有窗口\r\n\tpublic CloseAllWindow(force:boolean = false,ignoreCloseAnimate:boolean = false):void\r\n\t{\r\n\t\tthis.windowDic.forEach((key:string,win:WindowBase)=>{\r\n\t\t\tif (win && win.parent && (force || win.CanAutoClose))\r\n\t\t\t\twin.Close(ignoreCloseAnimate);\r\n\t\t});\r\n\t\t// SceneManager.GetInstance().CurrentScene.DelAllOperationRecord();\r\n\t}\r\n\r\n\t//关闭所有其他窗口，除了某些窗口\r\n\tpublic CloseAllWindowWithouts(excludeWins:Array<string>,force:boolean = false,ignoreCloseAnimate:boolean = false):void\r\n\t{\r\n\t\tthis.windowDic.forEach((key:string,win:WindowBase)=>{\r\n\t\t\tif (win && win.parent && (force || win.CanAutoClose) && excludeWins.indexOf(win.name) == -1)\r\n\t\t\t\twin.Close(ignoreCloseAnimate);\r\n\t\t});\r\n\t}\r\n\r\n\t//添加随窗口回收的动画模板\r\n\tpublic AddRecoverTemplet(winName:string,url:string):void\r\n\t{\r\n\t\tlet win:WindowBase = this.windowDic.getStringKey(winName);\r\n\t\tif (win)\r\n\t\t\twin.AddRecoverTemplet(url);\r\n\t}\r\n\r\n\t//添加随窗口回收的动画对象池\r\n\tpublic AddRecoverEffectPool(winName:string,poolSign:string):void\r\n\t{\r\n\t\tlet win:WindowBase = this.windowDic.getStringKey(winName);\r\n\t\tif (win)\r\n\t\t\twin.AddRecoverEffectPool(poolSign);\r\n\t}\r\n\r\n\t//更新掩藏其他视图\r\n\tpublic UpdateHideView(targetWin:WindowBase,isOpen:boolean):void\r\n\t{\r\n\t\tthis.windowLayerDic.destroy();\r\n\t\tthis.hideViewWinDic.destroy();\r\n\t\tlet parentZOrder:number = 0;\r\n\t\tlet winIndex:number = -1;\r\n\t\tthis.windowDic.forEach((key:string,win:WindowBase)=>{\r\n\t\t\tif (win && win.parent)\r\n\t\t\t{\r\n\t\t\t\tparentZOrder = (win.parent as Laya.Sprite).zOrder;\r\n\t\t\t\t//按父级拆分存储\r\n\t\t\t\tif (!this.windowLayerDic.has(parentZOrder))\r\n\t\t\t\t\tthis.windowLayerDic.addNumberKey(parentZOrder,[win]);\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.windowLayerDic.getNumberKey(parentZOrder).push(win);\r\n\t\t\t\tif (win.HideOtherView && !win.Closeing)//需要掩藏其他视图\r\n\t\t\t\t{\r\n\t\t\t\t\twinIndex = win.parent.getChildIndex(win);\r\n\t\t\t\t\tif (!this.hideViewWinDic.has(parentZOrder))\r\n\t\t\t\t\t\tthis.hideViewWinDic.addNumberKey(parentZOrder,winIndex);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.hideViewWinDic.addNumberKey(parentZOrder,Math.max(winIndex,this.hideViewWinDic.getNumberKey(parentZOrder)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet curScnen = SceneManager.GetInstance().CurScene;\r\n\t\tif (this.hideViewWinDic.count > 0)//存在需要掩藏视图的窗口\r\n\t\t{\r\n\t\t\tlet wins:Array<WindowBase>;\r\n\t\t\tthis.hideViewWinDic.forEach((parentZOrder:number,winIndex:number) => {\r\n\t\t\t\twins = this.windowLayerDic.getNumberKey(parentZOrder);\r\n\t\t\t\tif (wins && wins.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\twins.forEach(element => {\r\n\t\t\t\t\t\tif (winIndex > element.parent.getChildIndex(element))\r\n\t\t\t\t\t\t\telement.visible = false;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\telement.visible = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (curScnen) curScnen.visible = false;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.windowDic.forEach((key:string,win:WindowBase)=>{\r\n\t\t\t\tif (win) win.visible = true;\r\n\t\t\t});\r\n\t\t\tif (curScnen) curScnen.visible = true;\r\n\t\t}\r\n\t\tthis.windowLayerDic.destroy();\r\n\t\tthis.hideViewWinDic.destroy();\r\n\t}\r\n\r\n\tpublic AddKey(win:string,window:WindowBase):void\r\n\t{\r\n\t\tif (window && !window.destroyed)\r\n\t\t\tthis.windowDic.addStringKey(win,window);\r\n\t}\r\n\r\n\tpublic DeleteKey(win:string):void\r\n\t{\r\n\t\tif (this.windowDic.has(win))\r\n\t\t\tthis.windowDic.del(win);\r\n\t}\r\n}","import DateUtils from \"../../utils/DateUtils\";\r\n\r\nexport default class TimerManager extends Laya.EventDispatcher\r\n{\r\n\tpublic static SecondChanged:string = \"second\";\r\n\tpublic static TIMER_ZERO:string = \"TIMER_ZERO\";//到了零点\r\n    public static HEARTBEAT_DISTANCE:number = 30;\r\n\tpublic static MINUTE_DISTANCE:number = 60;\r\n\r\n\tprivate isFirstSystemTime:boolean = true;//是否首次同步服务端时间\r\n\tprivate gameTimeSecond:number = 0;//客户端运行时间\r\n    private serverTime:number = 0;//服务器时间\r\n\tprivate getServerTime:number = 0;//得到服务器时间时 客户端的运行时间\r\n\r\n\tprotected timer:Laya.Timer;\r\n\r\n\tprotected static instance:TimerManager;\r\n\tpublic static GetInstance():TimerManager\r\n\t{\r\n\t\tif(null == TimerManager.instance)\r\n\t\t{\r\n\t\t\tTimerManager.instance = new TimerManager();\r\n\t\t}\r\n\t\treturn TimerManager.instance;\r\n\t}\r\n\r\n\tpublic constructor() \r\n\t{\r\n\t\tsuper();\r\n\t\tthis.timer = new Laya.Timer();\r\n\t}\r\n\r\n\tpublic Start():void\r\n\t{\r\n\t\t// this.timer.loop(1000,this,this.onTimer);\r\n\t}\r\n\r\n    public InitHeartBeart():void\r\n    {\r\n\t\t// WBMgr.GetInstance().On(ProtoBufId.CMSG_CRESPSYNCSYSTEMTIME,this,this.onReqsyncsysTimer);\r\n        // WBMgr.GetInstance().SendSystemTime();\r\n\r\n\t\t// WBMgr.GetInstance().On(ProtoBufId.NETFRAME_CLIENT_RESPHEARTBEAT,this,this.onProtoHeartBeat);\r\n        // WBMgr.GetInstance().SendHeartbeart();\r\n    }\r\n\r\n\t// protected onReqsyncsysTimer(e:ServerProxyEvent):void//服务端时间返回\r\n\t// {\r\n\t// \tlet pv:Protocol = <Protocol>e.Protocol;\r\n\t// \tthis.getServerTime = this.gameTimeSecond;\r\n\t// \tthis.serverTime = pv.ProtoVO.protoData.serverTimestamp;\r\n\r\n\t// \tif (this.isFirstSystemTime)\r\n\t// \t{\r\n\t// \t\tthis.isFirstSystemTime = false;\r\n\t// \t}\r\n\t// }\r\n\r\n\t// protected onProtoHeartBeat(e:ServerProxyEvent):void//心跳\r\n\t// {\r\n\t// \t//心跳时同步服务端时间，减少与服务端时间误差\r\n\t// \tWBMgr.GetInstance().SendSystemTime();\r\n\t// }\r\n\r\n\t// protected onTimer():void\r\n\t// {\r\n\t// \tthis.gameTimeSecond ++;\r\n    //     if (this.gameTimeSecond % TimerManager.HEARTBEAT_DISTANCE == 0)\r\n    //     {\r\n\t// \t\tif (!WBMgr.GetInstance().Closed)\r\n\t// \t\t{\r\n\t// \t\t\tWBMgr.GetInstance().SendHeartbeart();\r\n\t// \t\t}\r\n    //     }\r\n\r\n\t// \tthis.event(TimerManager.SecondChanged);\r\n\r\n\t// \tif ((this.ServerTime - 57600)%86400 == 0)//到了零点\r\n\t// \t\tthis.event(TimerManager.TIMER_ZERO);\r\n\t// }\r\n\r\n\t// public Stop():void\r\n\t// {\r\n\t// \tthis.timer.clearAll(this);\r\n\t// \tWBMgr.GetInstance().Off(ProtoBufId.CMSG_CRESPSYNCSYSTEMTIME,this,this.onReqsyncsysTimer);\r\n\t// \tWBMgr.GetInstance().Off(ProtoBufId.NETFRAME_CLIENT_RESPHEARTBEAT,this,this.onProtoHeartBeat);\r\n\t// }\r\n\r\n\t/**客户端运行时间(秒)*/\r\n\tpublic get GameTimeSecond():number\r\n\t{\r\n\t\treturn this.gameTimeSecond;\r\n\t}\r\n\r\n\t/**服务器时间(时间搓 秒级)*/\r\n\tpublic get ServerTime():number\r\n    {\t\r\n\t\tlet afterTime:number = this.gameTimeSecond - this.getServerTime;\r\n\t\tif (afterTime < 0) afterTime = 0;\r\n        return this.serverTime + afterTime;\r\n    }\r\n\r\n\t/**服务器时间*/\r\n\tpublic get ServerDate():Date\r\n    {\t\r\n        return new Date(this.ServerTime*1000);\r\n    }\r\n\r\n\t//获取本地时间对应的北京时间\r\n\tpublic get ServerUTC8Date():Date\r\n\t{\r\n\t\tlet d:Date = new Date(this.ServerTime*1000);\r\n\t\tlet localTime = d.getTime();\r\n\t\tlet localOffset:number = d.getTimezoneOffset()*60000; //获得当地时间偏移的毫秒数,这里可能是负数\r\n\t\tlet utc = localTime + localOffset; //utc即GMT时间\r\n\t\tlet offset = 8; //时区，北京市+8  美国华盛顿为 -5\r\n\t\tlet localSecondTime = utc + (3600000*offset);  //本地对应的毫秒数\r\n\t\treturn new Date(localSecondTime);\r\n    }\r\n\r\n\t//获取本地时间对应的北京时间\r\n\tpublic GetUTC8Date(second:number):Date\r\n\t{\r\n\t\tlet d:Date = new Date(second*1000);\r\n\t\tlet localTime = d.getTime();\r\n\t\tlet localOffset:number = d.getTimezoneOffset()*60000; //获得当地时间偏移的毫秒数,这里可能是负数\r\n\t\tlet utc = localTime + localOffset; //utc即GMT时间\r\n\t\tlet offset = 8; //时区，北京市+8  美国华盛顿为 -5\r\n\t\tlet localSecondTime = utc + (3600000*offset);  //本地对应的毫秒数\r\n\t\treturn new Date(localSecondTime);\r\n    }\r\n\r\n\t//打印当前服务器时间\r\n\tpublic LogServerTime():void\r\n\t{\r\n\t\tlet d:Date = new Date(this.ServerTime*1000);\r\n\t\tconsole.log(\"服务器时间：\" + DateUtils.DateFormat(d,\"yyyy-MM-dd hh:mm:ss\"));\r\n\t}\t\r\n}","import SceneManager from \"./SceneManager\";\r\nimport Dictionary from \"../../utils/Dictionary\";\r\nimport ResourceItem from \"../../res/ResourceItem\";\r\nimport RES from \"../../res/RES\";\r\nimport ResourceEvent from \"../../res/ResourceEvent\";\r\nimport SceneBase from \"../../ui/base/SceneBase\";\r\n/*\r\n* 静默资源管理类\r\n*/\r\nexport default class SilenceResManager\r\n{\r\n    private silenceResDic:Dictionary;\r\n\r\n    constructor()\r\n    {\r\n        this.silenceResDic = new Dictionary();\r\n    }\r\n\r\n    protected static instance:SilenceResManager;\r\n\tpublic static GetInstance():SilenceResManager\r\n\t{\r\n\t\tif (null == SilenceResManager.instance)\r\n\t\t{\r\n\t\t\tSilenceResManager.instance = new SilenceResManager();\r\n\t\t}\r\n\t\treturn SilenceResManager.instance;\r\n\t}\r\n\r\n    /**加载静默资源*/\r\n    public LoadSilenceRes(resArr:Array<string>):void\r\n    {\r\n        if (!resArr || resArr.length <= 0) return;\r\n        this.StopSilenceRes();\r\n        let length:number = resArr.length;\r\n        let groupName:string = \"\";\r\n        let groupList:Array<ResourceItem>;\r\n        let resItem:ResourceItem;\r\n        let groups:Array<ResourceItem>;\r\n        for (let i:number = 0; i < length; i++)\r\n        {\r\n            groupName = resArr[i];\r\n            groupList = RES.GetGroupByName(groupName);\r\n            groupName = groupName + \"_silence\";\r\n            if (groupList && groupList.length)\r\n            {\r\n                if (this.silenceResDic.has(groupName))\r\n                    groups = this.silenceResDic.getStringKey(groupName);\r\n                else\r\n                    groups = new Array();\r\n\r\n                let len:number = groupList.length;\r\n                for (let j:number = 0; j < len; j++)\r\n                {\r\n                    resItem = groupList[j];\r\n                    if (!RES.IsResLoadedLocal(resItem.url))\r\n                        groups.push(resItem);\r\n                }\r\n                if (groups && groups.length)\r\n                    this.silenceResDic.addStringKey(groupName,groups);\r\n            }\r\n        }\r\n        if (this.silenceResDic.count)\r\n        {\r\n            this.addResEvent();\r\n            let priority:number = this.silenceResDic.count - 1;\r\n            this.silenceResDic.forEach((groupName:string,groups:Array<ResourceItem>) => {\r\n                RES.DelGroupKeys(groupName);\r\n                let keys = [];\r\n                for (let i:number = 0; i < groups.length; i++)\r\n                {\r\n                    keys.push(groups[i].name);\r\n                }\r\n                RES.CreateGroup(groupName,keys);\r\n                RES.LoadSilenceGroup(groupName,[...groups],priority);\r\n                priority --;\r\n            });\r\n        }\r\n    }\r\n\r\n    /** 停止加载静默资源(仅能停止资源组队列中还未开始加载的组) */\r\n    public StopSilenceRes():void\r\n    {\r\n        if (this.silenceResDic.count <= 0) return;\r\n        let isStop:boolean = false;\r\n        this.silenceResDic.forEach((groupName:string,groups:Array<ResourceItem>) => {\r\n            // if (this.isClearSilenceRes(groupName))\r\n            // {\r\n                isStop = RES.StopGroup(groupName);\r\n                if (!isStop)//该资源组已在加载中，无法完全停止\r\n                    this.clearSilenceRes(groupName);\r\n            // }\r\n        });\r\n        this.loadSilenceEnd();\r\n    }\r\n\r\n    /** 暂停加载静默资源*/\r\n    public PauseSilenceRes():void\r\n    {\r\n        if (this.silenceResDic.count <= 0) return;\r\n        let isStop:boolean = false;\r\n        this.silenceResDic.forEach((groupName:string,groups:Array<ResourceItem>) => {\r\n            // if (this.isClearSilenceRes(groupName))\r\n            // {\r\n                isStop = RES.StopGroup(groupName);\r\n                if (!isStop)//该资源组已在加载中，无法完全停止\r\n                    this.clearSilenceRes(groupName);\r\n            // }\r\n        });\r\n        this.removeResEvent();\r\n    }\r\n\r\n    /** 恢复加载静默资源*/\r\n    public RecoverySilenceRes():void\r\n    {\r\n        if (this.silenceResDic.count <= 0) return;\r\n        let groupNames:Array<string> = [];\r\n        let sIndex:number = -1;\r\n        this.silenceResDic.forEach((groupName:string,groups:Array<ResourceItem>) => {\r\n            sIndex = groupName.indexOf(\"_silence\");\r\n            if (sIndex == -1)\r\n                groupNames.push(groupName);\r\n            else\r\n                groupNames.push(groupName.substring(0,sIndex));\r\n        });\r\n        this.removeResEvent();\r\n        this.silenceResDic.destroy();\r\n        if (groupNames && groupNames.length)\r\n            this.LoadSilenceRes(groupNames);\r\n    }\r\n\r\n    private loadSilenceEnd():void\r\n    {\r\n        this.removeResEvent();\r\n        this.silenceResDic.destroy();\r\n    }\r\n\r\n    private addResEvent():void\r\n\t{\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onSceneResourceLoadComplete);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t}\r\n\r\n\tprivate removeResEvent():void\r\n\t{\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onSceneResourceLoadComplete);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t} \r\n\r\n    private onSceneResourceLoadComplete(event:ResourceEvent):void\r\n    {\r\n        if (this.silenceResDic.has(event.groupName))\r\n        {\r\n            this.clearSilenceRes(event.groupName);\r\n            this.silenceResDic.del(event.groupName);\r\n            if (this.silenceResDic.count <= 0)//静默资源全部加载完\r\n            {\r\n                this.loadSilenceEnd();\r\n            }\r\n        }\r\n\t}\r\n\r\n\tprivate onResourceError(event:ResourceEvent):void\r\n\t{\r\n        if (this.silenceResDic.has(event.groupName))\r\n        {\r\n            this.clearSilenceRes(event.groupName);\r\n            this.silenceResDic.del(event.groupName);\r\n            if (this.silenceResDic.count <= 0)//静默资源全部加载完\r\n            {\r\n                this.loadSilenceEnd();\r\n            }\r\n        }\r\n    }\r\n\r\n    private clearSilenceRes(groupName:string):void//清理静默资源\r\n    {\r\n        // let curScene:SceneBase = SceneManager.GetInstance().CurrentScene;\r\n        // let nextScene:SceneBase = SceneManager.GetInstance().NextScene;\r\n        // let curResNames:Array<string> = curScene ? curScene.ResNames : null;\r\n        // let nextResNames:Array<string> = nextScene ? nextScene.ResNames : null;\r\n        // if ((!curResNames || curResNames.indexOf(groupName) == -1) && (!nextResNames || nextResNames.indexOf(groupName) == -1))\r\n        // {\r\n        //     RES.ClearResByGroup(groupName,false,true);//静默资源加载完后，从内存清理掉\r\n        // }\r\n        // if (this.isClearSilenceRes(groupName))\r\n        // {\r\n            let groupList:Array<any> = this.silenceResDic.getStringKey(groupName);\r\n            RES.ClearSilenceResByGroup(groupName,groupList,false,true);//静默资源加载完后，从内存清理掉\r\n            RES.DelGroupKeys(groupName);\r\n        // }    \r\n    }\r\n\r\n    private isClearSilenceRes(groupName:string):boolean\r\n    {\r\n        let curScene:SceneBase = SceneManager.GetInstance().CurScene;\r\n        let nextScene:SceneBase = SceneManager.GetInstance().NextScene;\r\n        let curResNames:Array<string> = curScene ? curScene.ResNames : null;\r\n        let nextResNames:Array<string> = nextScene ? nextScene.ResNames : null;\r\n        if ((!curResNames || curResNames.indexOf(groupName) == -1) && (!nextResNames || nextResNames.indexOf(groupName) == -1))\r\n            return true;\r\n        return false;\r\n    }\r\n}","import StorageUtils from \"../../utils/StorageUtils\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsSoundManager\r\n{    \r\n    public IsBgmStop:boolean = false;//是否停止播放背景声音\r\n\r\n    constructor() \r\n    {\r\n        this.IsBgmStop = StorageUtils.getBoolean(\"isBgmStop\");\r\n    }\r\n\r\n    private static instance:SgsSoundManager;\r\n    public static GetInstance():SgsSoundManager\r\n    {\r\n        if (SgsSoundManager.instance == null)\r\n            SgsSoundManager.instance = new SgsSoundManager();\r\n        return SgsSoundManager.instance;\r\n    }\r\n\r\n    //获取laya底层背景音乐url\r\n    public static get LayaBgMusic():string\r\n    {\r\n        return Laya.SoundManager[\"_bgMusic\"];\r\n    }\r\n\r\n    //播放背景声音\r\n    public PlayBgm():void\r\n    {\r\n        Laya.SoundManager.playMusic(\"res/assets/runtime/voice/bgm.mp3\");\r\n    }\r\n\r\n    //停止背景声音\r\n    public StopBgm():void\r\n    {\r\n        this.IsBgmStop = true;\r\n        StorageUtils.addBoolean(\"isBgmStop\",this.IsBgmStop);\r\n        Laya.SoundManager.stopMusic();\r\n    }\r\n\r\n    //更新背景声音状态\r\n    public ChangeBgmState():void\r\n    {\r\n        this.IsBgmStop = !this.IsBgmStop;\r\n        if (!this.IsBgmStop)//播放\r\n            Laya.SoundManager.playMusic(\"res/assets/runtime/voice/bgm.mp3\");\r\n        else\r\n            Laya.SoundManager.stopMusic();\r\n        StorageUtils.addBoolean(\"isBgmStop\",this.IsBgmStop);\r\n    }\r\n\r\n    public static PlaySound(url:string,loops?:number,completeHander?:Laya.Handler):Laya.SoundChannel\r\n    {\r\n        return Laya.SoundManager.playSound(url,loops,completeHander);\r\n    }\r\n\r\n    public static StopSound(url:string):void\r\n    {\r\n        Laya.SoundManager.stopSound(url);\r\n    }\r\n}","\r\nimport LoadingManager from \"./LoadingManager\";\r\nimport SilenceResManager from \"./SilenceResManager\";\r\nimport RegClass from \"../../RegClass\";\r\nimport RES from \"../../res/RES\";\r\nimport ResourceEvent from \"../../res/ResourceEvent\";\r\nimport SceneLayer from \"../../ui/layer/SceneLayer\";\r\nimport SceneBase from \"../../ui/base/SceneBase\";\r\n\r\n/*\r\n* 场景管理\r\n*/\r\nexport default class SceneManager\r\n{\r\n    protected static instance:SceneManager;\r\n\tpublic static GetInstance():SceneManager\r\n\t{\r\n\t\tif (null == SceneManager.instance)\r\n\t\t{\r\n\t\t\tSceneManager.instance = new SceneManager();\r\n\t\t}\r\n\t\treturn SceneManager.instance;\r\n\t}\r\n\r\n\tprivate previousSceneName:string = \"\";//上一个场景\r\n    private lastScene:SceneBase;//最后一个场景\r\n    private nextScene:SceneBase;//下一个场景\r\n\r\n\r\n    /** 进入场景\r\n     * @param sceneName 场景名 - 等同于类名。\r\n     * @param data 传递的数据。\r\n     * @param createAgain 是否再一次创建。当前场景若为进入的场景将移除后再创建，默认false\r\n\t * @param complete 场景切换完成事件\r\n     */\r\n    public EnterScene(sceneName:string,data:any = null,createAgain:boolean = false,complete:Laya.Handler = null):void\r\n    {\r\n        if (this.lastScene && this.lastScene.SceneName == sceneName && !createAgain)\r\n\t\t{\r\n\t\t\tthis.lastScene.ResetScene(data);\r\n\t\t\treturn;\r\n\t\t}\t\r\n        let scene:SceneBase = RegClass.GetInstanceClass(sceneName);\r\n\t\tif (!scene) \r\n\t\t{\r\n\t\t\tconsole.log(sceneName + '场景未找到');\r\n\t\t\treturn;\r\n\t\t}\r\n        scene.SceneName = sceneName;\r\n        scene.SceneData = data;\r\n\t\tscene.EnterComplete = complete;\r\n        this.nextScene = scene;\r\n\t\tif (this.lastScene)\r\n\t\t{\r\n\t\t\tSilenceResManager.GetInstance().StopSilenceRes();//停止原场景静默加载的资源\r\n\t\t\tthis.lastScene.mouseEnabled = false;\r\n\t\t}\r\n\t\t\t\r\n\t\t// WBMgr.GetInstance().StartCache();//切换场景时缓存协议\r\n        this.loadSceneResourceGroup(scene.ResNames);\r\n\t}\r\n\t\r\n\t//当前场景：进入场景过程中表示原来场景\r\n\tpublic get CurScene():SceneBase\r\n\t{\r\n\t\treturn this.lastScene;\r\n\t}\r\n\r\n\t//下一个场景：进入场景过程中表示要进入的场景，进入结束后会置空\r\n\tpublic get NextScene():SceneBase\r\n\t{\r\n\t\treturn this.nextScene;\r\n\t}\r\n\r\n\t//上一个场景名称\r\n\tpublic get PreviousSceneName():string\r\n\t{\r\n\t\treturn this.previousSceneName;\r\n\t}\r\n\r\n\t//检查当前场景名\r\n\tpublic CheckSceneName(sceneName:string):boolean\r\n\t{\r\n\t\treturn this.lastScene && this.lastScene.SceneName == sceneName;\r\n\t}\r\n\r\n\t//是否牌局内\r\n\tpublic get IsGameScene():boolean\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//添加随场景回收的动画模板\r\n\tpublic AddRecoverTemplet(url:string):void\r\n\t{\r\n\t\tif (this.lastScene)\r\n\t\t\tthis.lastScene.AddRecoverTemplet(url);\r\n\t}\r\n\r\n\t//添加随窗口回收的动画对象池\r\n\tpublic AddRecoverEffectPool(poolSign:string):void\r\n\t{\r\n\t\tif (this.lastScene)\r\n\t\t\tthis.lastScene.AddRecoverEffectPool(poolSign);\r\n\t}\r\n\r\n\tprivate totalCount:number = 0;\r\n\tprivate loadedCount:number = 0;\r\n    private loadSceneResourceGroup(resNames:Array<string>):void//加载场景资源\r\n    {\r\n\t\tif (!resNames || resNames.length <= 0)//无需加载资源\r\n\t\t{\r\n\t\t\tthis.enterNextScene();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tLoadingManager.ShowLoading();\r\n\t\tthis.addResEvent();\r\n\t\tthis.totalCount = resNames.length;\r\n\t\tthis.loadedCount = 0;\r\n\t\tlet priority:number = 1000 + resNames.length - 1;\r\n\t\tfor (let i:number = 0; i < resNames.length; i++)\r\n\t\t{\r\n\t\t\tRES.LoadGroup(resNames[i],priority);\r\n\t\t\tpriority --;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addResEvent():void\r\n\t{\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_PROGRESS,this,this.onResourceProgress);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_LOAD_ERROR,this,this.onResourceError);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_COMPLETE,this,this.onSceneResourceLoadComplete);\r\n\t}\r\n\r\n\tprivate removeResEvent():void\r\n\t{\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_PROGRESS,this,this.onResourceProgress);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_LOAD_ERROR,this,this.onResourceError);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_COMPLETE,this,this.onSceneResourceLoadComplete);\r\n\t\tthis.totalCount = 0;\r\n\t\tthis.loadedCount = 0;\r\n\t}\r\n\r\n\tprivate onResourceProgress(event:ResourceEvent):void\r\n\t{\r\n\t\tif(!this.nextScene) return;\r\n\t\tif (this.nextScene.ResNames && this.nextScene.ResNames.indexOf(event.groupName) >= 0)\r\n\t\t{\t\r\n\t\t\tlet progress:number = event.progress;\r\n\t\t\tprogress = this.loadedCount / this.totalCount + progress * (1 / this.totalCount);\r\n\t\t\tLoadingManager.ShowLoadProgress(progress * 100,100);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onResourceError(event:ResourceEvent):void\r\n\t{\r\n\t\tif (!this.nextScene) return;\r\n\t\tif (this.nextScene.ResNames && this.nextScene.ResNames.indexOf(event.groupName) >= 0)\r\n\t\t{\r\n\t\t\tif (this.lastScene)\r\n\t\t\t\tthis.lastScene.mouseEnabled = true;\r\n\t\t\tthis.nextScene.destroy();\r\n\t\t\tthis.removeResEvent();\r\n\t\t\tLoadingManager.ShowLoadError(\"资源组加载失败：\" + event.groupName,\"\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSceneResourceLoadComplete(event:ResourceEvent):void//场景资源加载完成\r\n    {\r\n\t\tif (!this.nextScene) return;\r\n\t\tif (this.nextScene.ResNames && this.nextScene.ResNames.indexOf(event.groupName) >= 0)\r\n\t\t{\t\r\n\t\t\tthis.loadedCount ++;\r\n\t\t\tif (this.loadedCount >= this.totalCount)\r\n\t\t\t{\r\n\t\t\t\tthis.removeResEvent();\r\n\t\t\t\tthis.enterNextScene();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate enterNextScene():void\r\n\t{\r\n\t\tLoadingManager.CloseLoading();\r\n\t\tif (this.lastScene)//存在上个场景\r\n\t\t{\r\n\t\t\tthis.lastScene.on(SceneBase.ANIMATE_OUT_COMPLETE,this,this.onSceneAnimateOutComplete);\r\n\t\t\tthis.lastScene.AnimateOut();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.executeSwitchScene(this.nextScene);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate onSceneAnimateOutComplete():void//离开场景过度动画结束\r\n    {\r\n\t\tthis.lastScene.off(SceneBase.ANIMATE_OUT_COMPLETE,this,this.onSceneAnimateOutComplete);\r\n\t\tthis.executeSwitchScene(this.nextScene);\r\n\t}\r\n\r\n\tprivate executeSwitchScene(scene:SceneBase):void\r\n    {\r\n\t\tif (!scene) return;\r\n\t\tif (this.lastScene)\r\n\t\t\tthis.previousSceneName = this.lastScene.SceneName;\r\n\t\tlet tempScene = this.lastScene;\r\n\t\tthis.lastScene = scene;\r\n\t\tif (tempScene) \r\n\t\t\ttempScene.destroy();\r\n\t\t// this.SetBackGround(scene);\r\n\t\t\r\n\t\tthis.lastScene.on(SceneBase.ANIMATE_IN_COMPLETE,this,this.onSceneAnimateInComplete);\r\n        SceneLayer.GetInstance().addChild(this.lastScene);\r\n\t\tif(this.lastScene == this.nextScene)\r\n\t\t\tthis.nextScene = null;\r\n\t}\r\n\r\n    // public SetBackGround(scene:SceneBase)\r\n    // {\r\n\t// \tif (scene.SceneName == \"CreateRoleScene\")//创建角色场景特殊处理\r\n\t// \t\tBackgroundManager.GetInstance().ShowBackGround(\"res/assets/runtime/battleBg/zhanchangbeijing_s.jpg\",[],\"\",[]);\r\n\t// \telse\r\n\t// \t{\r\n\t// \t\tlet sceneBgVO:SceneBgVO = BattleBgConfiger.GetInstance().GetSceneBgVO(scene.SceneName);\r\n\t// \t\tif (!sceneBgVO)\r\n\t// \t\t\tBackgroundManager.GetInstance().ShowBackGround(\"\",[],\"\",[]);\r\n\t// \t\telse\r\n\t// \t\t\tBackgroundManager.GetInstance().ShowBackGround(sceneBgVO.BackUrl,sceneBgVO.BackAnimateUrls,sceneBgVO.ForwardUrl,sceneBgVO.ForwardAnimateUrls,sceneBgVO.DynamicCenter);\r\n\t// \t}\r\n\t// }\r\n\r\n\tprivate onSceneAnimateInComplete(scene:SceneBase):void//场景进入完成\r\n\t{\r\n\t\t//this.previousSceneName：判断从哪个场景退出的\r\n\t}\r\n}","\r\n\r\n/*\r\n* 场景manager管理基类，一般一个场景就一个manager ,用来管理数据通信相关事件监听，以及与场景内数据传递;\r\n* 一般不要做成单例\r\n*/\r\nexport default class ManagerBase extends Laya.EventDispatcher{\r\n    constructor(){\r\n        super();\r\n    }\r\n    /**\r\n     * 添加事件监听\r\n     */\r\n    public AddEventListener():void{\r\n\r\n    }\r\n\r\n    // protected get proxy():WBMgr{\r\n    //     return WBMgr.GetInstance();\r\n    // }\r\n    /**\r\n     * 移除事件监听，\r\n     */\r\n    public RemoveEventListener():void{\r\n\r\n    }\r\n    /**\r\n     * 销毁这个manager ,场景移除的时候调用\r\n     * 移除事件监听，以及相关存储数据\r\n     */\r\n    public destroy():void{\r\n        this.RemoveEventListener();\r\n        this.offAll();\r\n    }\r\n    /**\r\n     * 登出清理；\r\n     */\r\n    public ClearData():void{\r\n\r\n    }\r\n\r\n}","import LoadingUI from \"../../ui/loading/LoadingUI\";\r\nimport TopUILayer from \"../../ui/layer/TopUILayer\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class LoadingManager\r\n{\r\n    public static loadingUI:LoadingUI;\r\n\r\n    constructor()\r\n    {\r\n    }\r\n\r\n    public static ShowLoading(delay:number = 1000):void\r\n    {\r\n        if (!this.loadingUI)\r\n            this.loadingUI = new LoadingUI();\r\n        this.loadingUI.Show(delay);\r\n        if (!this.loadingUI.parent)\r\n            TopUILayer.GetInstance().addChild(this.loadingUI);\r\n    }\r\n\r\n    public static ShowLoadProgress(curValue:number,maxValue:number):void\r\n    {\r\n        if (this.loadingUI)\r\n            this.loadingUI.ShowProgress(curValue,maxValue);\r\n    }\r\n\r\n    public static ShowLoadError(errorMsg:string,winName:string = \"\"):void\r\n    {\r\n        if (this.loadingUI)\r\n            this.loadingUI.ShowError(errorMsg,winName);\r\n    }\r\n\r\n    public static CloseLoading():void\r\n    {\r\n        // if (this.loadingUI)\r\n        // {\r\n        //     this.loadingUI.destroy();\r\n        //     this.loadingUI = null;\r\n        // }\r\n        if (this.loadingUI)\r\n            this.loadingUI.Hide();\r\n    }\r\n}","import SgsTemplet from \"../../ui/controls/base/SgsTemplet\";\r\nimport Dictionary from \"../../utils/Dictionary\";\r\n\r\n/*\r\n* 骨骼动画管理;\r\n*/\r\nexport default class AnimateManager extends Laya.EventDispatcher\r\n{\r\n    public static ANIMATE_LOAD_COMPLETE:string = \"ANIMATE_LOAD_COMPLETE\";\r\n    public static ANIMATE_ARR_LOAD_COMPLETE:string = \"ANIMATE_ARR_LOAD_COMPLETE\";\r\n    \r\n    private animateDic:Dictionary;//动画数据模版:url 对应 SgsTemplet | SgsSpineTemplet\r\n    private animateContainerDic:Dictionary;//需要加载动画的容器，动画SgsTemplet | SgsSpineTemplet，对应Array<Sprite>\r\n    private referenceDic:any;//资源引用\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.animateDic = new Dictionary();\r\n        this.animateContainerDic = new Dictionary();\r\n        this.referenceDic = {};\r\n    }\r\n\r\n    private static instance:AnimateManager;\r\n    public static GetInstane():AnimateManager\r\n    {\r\n        if (!this.instance)\r\n            this.instance = new AnimateManager();\r\n        return this.instance;\r\n    }\r\n\r\n    /**\r\n     * 加载显示某一骨骼动画,如果有parent 则加载完成后将动画显示在容器上\r\n     * @param url \r\n     * @param parent 动画容器，可以不传，不传容器，视为预加载\r\n     */\r\n    public LoadAnimate(url:string,parent?:Laya.Sprite):void\r\n    {\r\n        if (!url) return;\r\n        let temp:SgsTemplet = this.animateDic.getStringKey(url);\r\n        if (temp)\r\n        {\r\n            if (!temp.isParserComplete)//模板还没解析完：等待解析完派发事件\r\n            {}\r\n            else if (!temp.checkTempletRes())//sk、png资源已被回收：回收旧模板重新加载：当不会出现先回收sk、png资源而不回收模板的情况时就不需要此判断了\r\n            {\r\n                this.destroyAnimate(url,true);\r\n                temp = null;\r\n            }\r\n            else\r\n            {\r\n                if (parent)\r\n                    parent.event(AnimateManager.ANIMATE_LOAD_COMPLETE,temp);\r\n                this.event(AnimateManager.ANIMATE_LOAD_COMPLETE,temp);\r\n                return; \r\n            }\r\n        }\r\n        if (!temp)\r\n        {\r\n            temp = new SgsTemplet();\r\n            temp.name = url;\r\n            temp.on(Laya.Event.COMPLETE,this,this.onSpineResComplete);\r\n            temp.on(Laya.Event.ERROR,this,this.onSpineResError,[temp]);\r\n            temp.loadAni(url);\r\n            this.animateDic.addStringKey(url,temp);\r\n        }\r\n        if (parent)//如果有需要添加的容器，则加入等待队列\r\n        {\r\n            let arr:Array<Laya.Sprite> = this.animateContainerDic.get(temp);\r\n            if (!arr)\r\n                this.animateContainerDic.add(temp,[parent]);\r\n            else if (arr.indexOf(parent) < 0)\r\n                arr.push(parent);\r\n        }\r\n    }\r\n\r\n    //销毁动画模版\r\n    public DestroyAnimate(url:string):void\r\n    {\r\n        this.destroyAnimate(url);\r\n        // this.delayClearAnimate(url);//旧动画组件未替换完前不能使用延迟回收策略：因为旧动画组件没有引用计数，延迟回收会出现真正回收时可能又打开界面了，但没有引用计数\r\n    }\r\n\r\n    //使用拥有此动画模板\r\n    public HasTemplet(url:string):boolean\r\n    {\r\n        let temp:SgsTemplet = this.animateDic.getStringKey(url);\r\n        return temp && temp.isParserComplete ? true : false;\r\n    }\r\n\r\n    //获取动画模板\r\n    public GetTemplet(url:string):SgsTemplet\r\n    {\r\n        let temp:SgsTemplet = this.animateDic.getStringKey(url);\r\n        return temp ? temp : null;\r\n    }\r\n\r\n    //资源是否在动画模板中\r\n    public HasTempletRes(url:string):boolean\r\n    {\r\n        if (!this.animateDic || this.animateDic.count <= 0)\r\n            return false;\r\n        let result:boolean = false;\r\n        this.animateDic.breakForEach((skUrl:string,element:SgsTemplet) => {\r\n            if (url == skUrl || element.hasTempletRes(url))\r\n            {\r\n                result = true;\r\n                return true;\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    public get AnimateDic():Dictionary\r\n    {\r\n        return this.animateDic;\r\n    }\r\n\r\n    public get AnimateList():Array<string>\r\n    {\r\n        if (!this.animateDic || this.animateDic.count <= 0) \r\n            return null;\r\n        let result = [];\r\n        this.animateDic.forEach((key:string,element:SgsTemplet) => {\r\n            result.push(key);\r\n        });\r\n        return result;\r\n    }\r\n    \r\n    private onSpineResError(data:SgsTemplet):void//加载出错，错误信息包含连接地址，可以做响应清理\r\n    {\r\n        if (!data) return;\r\n        data.off(Laya.Event.ERROR,this,this.onSpineResError);\r\n        data.off(Laya.Event.COMPLETE,this,this.onSpineResComplete);\r\n\r\n        let arr:Array<Laya.Sprite> = this.animateContainerDic.get(data);\r\n        if(arr){\r\n            arr.forEach(sp =>{\r\n                //动画模版加载完毕，动画容器抛出事件，将动画显示到容器中\r\n                if (sp && !sp.destroyed)\r\n                    sp.event(AnimateManager.ANIMATE_LOAD_COMPLETE,data.name);\r\n            });\r\n            this.animateContainerDic.del(data);\r\n        }\r\n        \r\n        //自身也抛出事件，以备不时之需\r\n        this.event(AnimateManager.ANIMATE_LOAD_COMPLETE,data.name);\r\n        this.ClearAllReferenceByUrl(data.name);//加载错误去掉计数\r\n        this.destroyAnimate(data.name);//立刻销毁模板\r\n    }\r\n    \r\n    private onSpineResComplete(data:SgsTemplet):void//骨骼动画数据模版加载完成\r\n    {\r\n        if (!data) return;\r\n        data.off(Laya.Event.ERROR,this,this.onSpineResError);\r\n        data.off(Laya.Event.COMPLETE,this,this.onSpineResComplete);\r\n\r\n        let arr:Array<Laya.Sprite> = this.animateContainerDic.get(data);\r\n        if(arr){\r\n            arr.forEach(sp =>{\r\n                //动画模版加载完毕，动画容器抛出事件，将动画显示到容器中\r\n                if (sp && !sp.destroyed)\r\n                    sp.event(AnimateManager.ANIMATE_LOAD_COMPLETE,data);\r\n            });\r\n            this.animateContainerDic.del(data);\r\n        }\r\n        //自身也抛出事件，以备不时之需\r\n        this.event(AnimateManager.ANIMATE_LOAD_COMPLETE,data);\r\n    }\r\n\r\n    /**添加资源引用*/\r\n    public AddReference(url:string):void\r\n    {\r\n        if (!url || url.length <= 0) return;\r\n        let reference:number = 1;\r\n        if (this.referenceDic[url])\r\n        {\r\n            reference = this.referenceDic[url];\r\n            reference ++;\r\n        }\r\n        this.referenceDic[url] = reference;\r\n    }\r\n\r\n    /**删除资源引用*/\r\n    public DelReference(url:string):void\r\n    {\r\n        if (!url || url.length <= 0) return;\r\n        if (this.referenceDic[url])\r\n        {\r\n            let reference:number = this.referenceDic[url];\r\n            if (reference <= 1)\r\n                delete this.referenceDic[url];\r\n            else\r\n                this.referenceDic[url] = reference - 1;\r\n        }\r\n    }\r\n\r\n    /**清空单个资源所有引用*/\r\n    public ClearAllReferenceByUrl(url:string):void\r\n    {\r\n        if (!url || url.length <= 0) return;\r\n        if (this.referenceDic[url])\r\n            delete this.referenceDic[url];\r\n    }\r\n\r\n    /**获取资源引用*/\r\n    public GetReference(url:string):number\r\n    {\r\n        if (!url || url.length <= 0) return 0;\r\n        if (this.referenceDic[url])\r\n            return this.referenceDic[url];\r\n        return 0;\r\n    }\r\n\r\n    private waitClearAnimateDic:any = {};//待回收资源字典\r\n    private clearAnimateIng:boolean = false;//是否清理中\r\n    private delayClearAnimate(url:string):void\r\n    {\r\n        if (!url || url.length <= 0 || this.GetReference(url) > 0) return;\r\n        this.waitClearAnimateDic[url] = Laya.Browser.now();\r\n        if (!this.clearAnimateIng)//不在清理中\r\n        {\r\n            this.clearAnimateIng = true;\r\n            Laya.timer.once(5000,this,this.onClearAnimate);//延迟5秒后清理\r\n        }\r\n    }\r\n\r\n    private onClearAnimate():void\r\n    {\r\n        this.onLoopClearAnimate(false);\r\n    }\r\n\r\n    private onLoopClearAnimate(isFrameLoop:boolean):void//逐帧清理\r\n    {\r\n        let frameTm:number = Laya.stage.getFrameTm();//本帧开始时间\r\n        let curTime:number = 0;//当前时间\r\n        let isAllClear:boolean = true;//是否已全部清理\r\n        let url:string = \"\";\r\n        let templet:SgsTemplet;\r\n        let containerArr:Array<Laya.Sprite>;\r\n        for (url in this.waitClearAnimateDic)\r\n        {\r\n            curTime = Laya.Browser.now();\r\n            if (curTime - this.waitClearAnimateDic[url] < 5000)//距离回收时间未超过5秒\r\n            {\r\n                isAllClear = false;\r\n                continue;\r\n            }\r\n            else if (curTime - frameTm > 20)//本帧所用时间过长:50帧了 \r\n            {\r\n                isAllClear = false;\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                delete this.waitClearAnimateDic[url];\r\n                if (this.GetReference(url) <= 0)\r\n                {\r\n                    templet = this.animateDic.getStringKey(url);\r\n                    if (templet)\r\n                    {\r\n                        containerArr = this.animateContainerDic.get(templet);\r\n                        if (containerArr) containerArr.splice(0);\r\n                        templet.off(Laya.Event.ERROR,this,this.onSpineResError);\r\n                        templet.off(Laya.Event.COMPLETE,this,this.onSpineResComplete);\r\n                        templet.destroy();//如果未加载完成，销毁templet是否有问题\r\n                        this.animateDic.del(url);\r\n                        this.animateContainerDic.del(templet);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isAllClear)//已全部清理\r\n        {\r\n            Laya.timer.clear(this,this.onLoopClearAnimate);\r\n            this.clearAnimateIng = false;\r\n        }\r\n        else\r\n        {\r\n            if (!isFrameLoop)//启动逐帧清理\r\n                Laya.timer.frameLoop(5,this,this.onLoopClearAnimate,[true]);\r\n        }\r\n    }\r\n\r\n    private destroyAnimate(url:string,force:boolean = false):void//销毁动画模板\r\n    {\r\n        if (!url || url.length <= 0 || (!force && this.GetReference(url) > 0)) return;\r\n        let templet:SgsTemplet = this.animateDic.getStringKey(url);\r\n        if (templet && !templet.destroyed )\r\n        {\r\n            let containerArr:Array<Laya.Sprite> = this.animateContainerDic.get(templet);\r\n            if (containerArr) containerArr.splice(0);\r\n            templet.off(Laya.Event.ERROR,this,this.onSpineResError);\r\n            templet.off(Laya.Event.COMPLETE,this,this.onSpineResComplete);\r\n            templet.destroy();//如果未加载完成，销毁templet是否有问题\r\n            this.animateDic.del(url);\r\n            this.animateContainerDic.del(templet);\r\n        }\r\n    }\r\n}","import AnimateManager from \"./mode/base/AnimateManager\";\r\nimport SgsTemplet from \"./ui/controls/base/SgsTemplet\";\r\nimport Dictionary from \"./utils/Dictionary\";\r\nimport ObjUtil from \"./utils/ObjUtil\";\r\n\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class Global \r\n{\r\n    public static LongClickTime:number = 750;//长按时间(毫秒)\r\n    public static OperationFastTime:number = 2000;//操作过快时间保护(毫秒)\r\n    public static ConsoleLog:any;//log函数\r\n\r\n    public static BgWidth:number = 750;//背景图宽度\r\n    public static BgHeight:number = 1496;//背景图宽度\r\n    public static ModelWidth:number = 548;//模特宽度\r\n    public static ModelHeight:number = 940;//模特宽度\r\n    public static ModelOffsetX:number = 306 - 242 >> 1;//模特水平偏移量(模特图上模特脚不在切图中间，为了看起来脚在屏幕中心需要加上这个偏移量)\r\n\r\n    public static IsDebug:boolean = true;//是否debug\r\n    public static AutoClearRes:boolean = true;//自动回收资源\r\n    public static ServerUrl:string = \"\";//服务地址 http://10.225.10.63:8082 https://553j5w3600.zicp.fun\r\n    public static ShareJsSdk:string = \"\";//分享参数地址\r\n    public static GameDownLoadUrl:string = \"\";//游戏下载地址\r\n    public static DefaultDressIDs:Array<number>;//默认搭配\r\n    public static CollocationMax:number = 0;//搭配最大数量\r\n\r\n    public static Init(data:any) {\r\n        if (data)\r\n            ObjUtil.copyObj(data, this);\r\n    }\r\n    \r\n    //游戏地址\r\n    public static get GameUrl():string\r\n    {\r\n        return Laya.Browser.window.gameUrl;\r\n    }\r\n\r\n    //游戏地址\r\n    public static get AppID():string\r\n    {\r\n        return Laya.Browser.window.appid;\r\n    }\r\n    \r\n    //游戏下载\r\n    public static DownLoadGame():void\r\n    {\r\n        window.open(Global.GameDownLoadUrl);\r\n    }\r\n\r\n    //打印已加载资源\r\n    public static logRes():void\r\n    {\r\n        // Loader.loadedMap; //所有(但不包括图集散图) 其中图片存储类型为Laya.Texture2D\r\n        // Loader.atlasMap; //图集atlas\r\n        // Loader.textureMap; //纹理字典：图集散图+单图+spine纹理 存储类型为Laya.Texture\r\n        // Laya.Texture; 纹理对象，其内部bitmap对象为Laya.Texture2D\r\n        //图集\r\n        //动画资源：纹理、sk、模板\r\n        //其他资源：配置、3d资源等\r\n        let atlasMap = Laya.Loader[\"atlasMap\"];//所有图集\r\n        let logAtlas:Array<string> = [];\r\n        if (atlasMap)\r\n        {\r\n            for (let key in atlasMap)\r\n            {\r\n                logAtlas.push(key);\r\n            }\r\n        }\r\n        \r\n        let loadedMap = Laya.Loader.loadedMap;\r\n        let others:Array<any> = [];\r\n        let spines:Array<string> = [];\r\n        if (loadedMap)\r\n        {   \r\n            let destroyed:boolean = false;\r\n            let suffixIndex:number = -1;\r\n            let skUrl:string = \"\";\r\n            let skelUrl:string = \"\";\r\n            let loadedItem:any;\r\n            for (let key in loadedMap)\r\n            {\r\n                loadedItem = loadedMap[key];\r\n                if (loadedItem == undefined)\r\n                    continue;\r\n\r\n                if (logAtlas.indexOf(key) >= 0)//图集atlas文件\r\n                    continue;\r\n\r\n                if (key.lastIndexOf(\".mp3\") >= 0)//mp3\r\n                    continue;\r\n                \r\n                if (key.lastIndexOf(\".ttf\") >= 0)//ttf\r\n                    continue;\r\n\r\n                if (key.lastIndexOf(\".sk\") >= 0 || key.lastIndexOf(\".skel\") >= 0)//sk、skel文件\r\n                {\r\n                    spines.push(key);\r\n                    continue;\r\n                }\r\n\r\n                destroyed = false;\r\n                if (loadedItem instanceof Laya.Texture2D)//纹理\r\n                {\r\n                    destroyed = loadedItem.destroyed;\r\n                    suffixIndex = key.lastIndexOf(\".\");\r\n                    skUrl = key.substring(0,suffixIndex)+'.sk';\r\n                    if (loadedMap[skUrl])//spine动画纹理\r\n                        continue;\r\n                    else\r\n                    {\r\n                        skelUrl = key.substring(0,suffixIndex)+'.skel';\r\n                        if (loadedMap[skelUrl])//spine动画纹理\r\n                            continue;\r\n                    }\r\n                }\r\n                else if (key.lastIndexOf(\".atlas\") >= 0 && typeof(loadedItem) == \"string\")//文本\r\n                {\r\n                    suffixIndex = key.lastIndexOf(\".\");\r\n                    skelUrl = key.substring(0,suffixIndex)+'.skel';\r\n                    if (loadedMap[skelUrl])//spine动画atlas\r\n                        continue;\r\n                }\r\n                others.push({url:key,destroyed:destroyed});\r\n            }\r\n        }\r\n\r\n        let dic:Dictionary = AnimateManager.GetInstane().AnimateDic;\r\n        let templets:Array<string> = [];\r\n        if (dic)\r\n        {\r\n            dic.forEach((url:string,templet:SgsTemplet) => {\r\n                templets.push(url);\r\n            });\r\n        }\r\n\r\n\r\n        console.warn(\"图集：\");\r\n        console.warn({logAtlas:logAtlas});\r\n        console.warn(\"spine资源：\");\r\n        console.warn({spines:spines});\r\n        console.warn(\"AnimateManager中spine数据模板：\");\r\n        console.warn({templets:templets});\r\n        console.warn(\"其他资源：\");\r\n        console.warn({others:others});\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class TipsEvent\r\n{\r\n    public static TIPS_OVER_EVENT:string = \"TIPS_OVER_EVENT\";\r\n    public static TIPS_OUT_EVENT:string = \"TIPS_OUT_EVENT\";\r\n    public static TIPS_SIZE_CHNAGED_EVENT:string = \"TIPS_SIZE_CHNAGED_EVENT\";\r\n\r\n    public static pool:Array<TipsEvent> = [];\r\n\r\n    public target:any;\r\n    // /**\r\n    //  * 鼠标所在舞台位置x\r\n    //  */\r\n    // public stageX:number;\r\n    // /**\r\n    //  * 鼠标所在舞台位置y\r\n    //  */\r\n    // public stageY:number;\r\n    // /**\r\n    //  * 相对target 所在位置偏移x\r\n    //  */\r\n    // public offsetX:number;\r\n    // /**\r\n    //  * 相对target 所在位置偏移y\r\n    //  */\r\n    // public offsetY:number;\r\n    // /**\r\n    //  * tips 显示位置，top,left,bottom,right,center ,默认顶部\r\n    //  */\r\n    // public pos:string = \"top\";\r\n\r\n    public follow:boolean = false;\r\n\r\n    constructor()\r\n    {\r\n\r\n    }\r\n\r\n    public initData(target:any,follow:boolean):void\r\n    {\r\n        this.target = target;\r\n        this.follow = follow;\r\n    }\r\n\r\n    public clear():void\r\n    {\r\n        this.target = null;\r\n        this.follow = false;\r\n    }\r\n\r\n    public recover():void\r\n    {\r\n        this.clear();\r\n        if (TipsEvent.pool.indexOf(this) == -1)\r\n            TipsEvent.pool.push(this);\r\n    }\r\n\r\n    public static create(target:any,follow:boolean = false):TipsEvent\r\n    {\r\n        let event:TipsEvent;\r\n        if (TipsEvent.pool.length)\r\n            event = TipsEvent.pool.pop();\r\n        else\r\n            event = new TipsEvent();\r\n        event.initData(target,follow);\r\n        return event;\r\n    }\r\n}","export default class GameEventDispatcher extends Laya.EventDispatcher \r\n{\r\n\tpublic static DIANJIANG_INFO_CHANGE_EVENT:string = \"DIANJIANG_INFO_CHANGE_EVENT\";\r\n\tpublic static GAME_ADAPTATION:string = \"GAME_ADAPTATION\";//游戏适配(游戏区域坐标、缩放)\r\n\tpublic static STAGE_FOCUS:string = \"STAGE_FOCUS\";//舞台获得焦点\r\n\tpublic static STAGE_BLUR:string = \"STAGE_BLUR\";//舞台失去焦点\r\n\tpublic static STAGE_VISIBILITY:string = \"STAGE_VISIBILITY\";//舞台可见性变化(是否进入后台)\r\n\tpublic static WINDOW_CLOSED:string = \"windowClosed\";//弹窗已关闭(包括移除和掩藏)\r\n\tpublic static AIHELP:string = \"AIHELP\";\r\n\tpublic static AIHELP_POPUP_WIN:string = \"AIHELP_POPUP_WIN\";\r\n\tpublic static PREVENT_ADDICTION:string = \"PREVENT_ADDICTION\";\r\n\r\n\tpublic static GAME_AUDIO_CHANGE:string = \"GAME_AUDIO_CHANGE\";//通知有人语音说话\r\n\tpublic static GAME_QR_BUY_COMMPLETE:string = \"GAME_QR_BUY_COMMPLETE\";//二维码购买成功\r\n\r\n\tpublic static ACTIVITY_SWITCH_TAB:string = \"ACTIVITY_SWITCH_TAB\";\r\n\r\n\r\n\t// 武将信息界面\r\n\tpublic static GAME_GENERAL_INFO_SELECT_SKIN:string = \"GAME_GENERAL_INFO_SELECT_SKIN\";//选中皮肤\r\n\tpublic static GAME_GENERAL_PLAY_SKILL_SOUND:string = \"GAME_GENERAL_PLAY_SKILL_SOUND\";//播放技能音效\r\n\t\r\n\tpublic static CARD_AVATAR_SKILL_CHANGE:string = \"CARD_AVATAR_SKILL_CHANGE\";\r\n\tpublic static SKILL_STATE_DATA_CHANGE:string = \"CARD_LABLE_STATE_CHANGE\";\r\n\tpublic static SHARE_SUCCESS:string = \"SHARE_SUCCESS\";\r\n\tpublic static UPDATE_GAME_ROUND_RECORD:string = \"UPDATE_GAME_ROUND_RECORD\";\r\n\tpublic static OPEN_GAME_ROUND_RECORD:string = \"OPEN_GAME_ROUND_RECORD\";\r\n\tpublic static CARD_UNLOCK_WINDOW_CLOSED:string = \"CARD_UNLOCK_WINDOW_CLOSED\";\r\n\tpublic static ENTER_ROUND:string = \"ENTER_ROUND\";\r\n\r\n\tpublic static UPDATE_BROADCAST_STATE:string = \"UPDATE_BROADCAST_STATE\";//更新直播画面状态(用于打开、关闭窗口时掩藏、恢复直播画面)\r\n\t\r\n\tpublic constructor() \r\n\t{\r\n\t\tsuper();\r\n\t}\r\n\r\n\tprotected static instance:GameEventDispatcher;\r\n\tpublic static GetInstance():GameEventDispatcher\r\n\t{\r\n\t\tif(null == GameEventDispatcher.instance)\r\n\t\t{\r\n\t\t\tGameEventDispatcher.instance = new GameEventDispatcher();\r\n\t\t}\r\n\t\treturn GameEventDispatcher.instance;\r\n\t}\r\n}","/*\r\n* name;\r\n*/\r\nexport default class EventExpand\r\n{\r\n    public static LONG_DOWN:string = \"longDown\";//长按\r\n\r\n    constructor()\r\n    {\r\n\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class FontName{\r\n    // public static FZBW:string = \"fzbw\";//方正北魏楷书\r\n    public static WRYH:string = \"微软雅黑\";//微软雅黑\r\n    public static HEITI:string = \"黑体\";//黑体\r\n    public static ST:string = \"siyuan\";\r\n    public static LISHU:string = \"隶书\";\r\n}","\r\nexport default class DressType\r\n{\r\n    public static DESDefault:number = 0;\r\n    public static DESSuit:number = 1; //套装\r\n    public static DESHairstyle:number = 2; //发型\r\n    public static DESEye:number = 3; //眼睛\r\n    public static DESJacket:number = 4; //上衣\r\n    public static DESLowerGarments:number = 5; //下衣\r\n    public static DESOrnaments:number = 6; //饰品\r\n    public static DESArms:number = 7;//武器\r\n    public static DESShoes:number = 8;//鞋子\r\n\r\n    private static typeNames = [\"\", \"套装\", \"发型\", \"眼睛\", \"上衣\", \"下衣\", \"饰品\", \"武器\",\"鞋子\"];\r\n    private static typeSorts = [0, 1, 2, 3, 4, 5, 6, 7, 8]; //从小到大\r\n\r\n    //获取装扮类型名称\r\n    public static GetDressTypeName(dressType:number):string \r\n    {\r\n        return dressType >= 0 && dressType < this.typeNames.length ? this.typeNames[dressType] : \"\";\r\n    }\r\n\r\n    //获取装扮类型排序\r\n    public static GetDressTypeSort(dressType:number):number \r\n    {\r\n        return dressType >= 0 && dressType < this.typeSorts.length ? this.typeSorts[dressType] : 0;\r\n    }\r\n}","/*\r\n* name;\r\n*/\r\nexport default class LayoutEnum\r\n{\r\n    public static NoneLayout:number = 0;\r\n    public static VerticalLayout:number = 1;//垂直布局\r\n    public static HorizontalLayout:number = 2;//水平布局\r\n    public static TileLayout:number = 3;//网格布局\r\n}","\r\n/** 层级序列枚举 */\r\nexport enum LayerOrder\r\n{\r\n    BottomLayer = 0,\r\n    BackgroundLayer = 1,\r\n    SceneLayer = 2,\r\n    WindowLayer = 3,\r\n    AnimationLayer = 4,\r\n    TopUILayer = 5,\r\n    PromptLayer = 6,\r\n}","/*\r\n* name;\r\n*/\r\nexport default class ButtonPhaseEnum{\r\n    public static up:number = 0;\r\n    public static over:number = 1;\r\n    public static down:number = 2;\r\n}","import RES from \"./../res/RES\";\r\nimport ConfigerBase from \"./ConfigerBase\";\r\nimport GameEventDispatcher from \"../event/GameEventDispatcher\";\r\nimport DressConfiger from \"./DressConfiger\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class ConfigerManager \r\n{\r\n    public static CONFIG_PARSE_COMPLETE:string = \"CONFIG_PARSE_COMPLETE\";\r\n    private zipFiles:Array<any>;\r\n    //预加载配置解析器列表\r\n    private preloadConfigerList: Array<ConfigerBase> = [\r\n        DressConfiger.GetInstance()\r\n    ];\r\n    \r\n    static instance:ConfigerManager;\r\n    public static GetInstance():ConfigerManager \r\n    {\r\n        if (ConfigerManager.instance == null)\r\n            ConfigerManager.instance = new ConfigerManager();\r\n        return ConfigerManager.instance;\r\n    }\r\n\r\n    constructor() \r\n    {\r\n\r\n    }\r\n\r\n    /**解析预加载配置*/\r\n    public ParsePreloadConfig():void \r\n    {\r\n        if (Laya.Browser.window.useLocalConfig) \r\n        {\r\n            this.parseConfig();\r\n        }\r\n        else {\r\n            unZip(RES.GetRes(\"Config_sgs\"), this, function (zipFiles: Array<any>) {\r\n                this.zipFiles = zipFiles;\r\n                if (this.zipFiles && this.zipFiles.length) {\r\n                    this.parseConfig();\r\n                } else {\r\n                    console.log(\"解压Config.sgs异常\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private configLen:number = 0;\r\n    private parseIndex:number = 0;\r\n    private time:number;\r\n    private workerList:Worker[] = [];\r\n    private parseConfig(): void \r\n    {\r\n        this.configLen = this.preloadConfigerList.length;\r\n        this.parseIndex = 0;\r\n        this.time = Laya.Browser.now();\r\n        console.log(\"配置解析开始\");\r\n        var length: number = this.configLen = this.preloadConfigerList.length;\r\n        if (Laya.Browser.window.useLocalConfig) \r\n        {\r\n            for (var i: number = 0; i < length; i++) \r\n            {\r\n                let configer: ConfigerBase = this.preloadConfigerList[i];\r\n                let configerData: any = RES.GetRes(configer.configName);\r\n\r\n                if(configer.promptlyParse)\r\n                {\r\n                    configer.ParseConfig(configerData ? configerData : null);\r\n                }\r\n                else\r\n                {\r\n                    configer.data = configerData;\r\n                }\r\n                // configer.ParseConfig(configerData ? configerData : null);\r\n                //解析完，将配置数据从内存删除\r\n                RES.ClearRes(configer.configName);\r\n            }\r\n            this.preloadConfigParsed();\r\n        } \r\n        else \r\n        {            \r\n            if(!Laya.WorkerLoader.workerSupported)\r\n            {\r\n                for (var i: number = 0; i < length; i++) \r\n                {\r\n                    let configer: ConfigerBase = this.preloadConfigerList[i];\r\n                    let configerData: any = RES.GetRes(configer.configName);\r\n                    configer.WorkParse(this.getZipConfigData(configer.configName),null);\r\n                    RES.ClearRes(configer.configName);\r\n                }\r\n                this.preloadConfigParsed();\r\n            }else\r\n            {\r\n                //开3个worker\r\n                for(let i:number = 0 ; i < 3;i++){\r\n                    let w:Worker =  new Worker(\"libs/min/ConfigWorker.min.js?v=2020071301\");\r\n                    this.workerList.push(w);\r\n                    this.parseIndex = i;\r\n                    this.parseConfigIndex(i,w);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private parseComplete(worker:Worker): void \r\n    {\r\n        this.configLen--;\r\n        if (this.configLen <= 0) {\r\n            this.preloadConfigParsed();\r\n        } else {\r\n            this.parseIndex++;\r\n            this.parseConfigIndex(this.parseIndex,worker);\r\n        }\r\n    }\r\n\r\n    private parseConfigIndex(index: number,woker:Worker): void \r\n    {\r\n        let configer: ConfigerBase = this.preloadConfigerList[index];\r\n        if (configer) \r\n        {\r\n            configer.on(ConfigerManager.CONFIG_PARSE_COMPLETE, this, this.parseComplete);\r\n            configer.WorkParse(this.getZipConfigData(configer.configName),woker);\r\n        }\r\n    }\r\n\r\n    private getZipConfigData(configName:string):any \r\n    {\r\n        let resItem: any = RES.GetResourceItem(configName);\r\n        if (resItem && resItem.url) {\r\n            let url: string = resItem.url;\r\n            let name: string = url.substring(url.lastIndexOf(\"/\") + 1, url.lastIndexOf(\".\")) + \".sgs\";\r\n\r\n            if (this.zipFiles && this.zipFiles.length) \r\n            {\r\n                let len: number = this.zipFiles.length;\r\n                for (let i: number = 0; i < len; i++) \r\n                {\r\n                    if (this.zipFiles[i].name == name)\r\n                        return this.zipFiles[i].data;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    //预加载配置解析完成\r\n    private preloadConfigParsed(): void  {\r\n        if (!Laya.Browser.window.useLocalConfig) {\r\n            //解析完，将配置数据从内存删除            \r\n            this.workerList.forEach(w=>{\r\n                w.terminate();\r\n            })\r\n            this.preloadConfigerList.forEach(cf => {\r\n                cf.off(ConfigerManager.CONFIG_PARSE_COMPLETE, this, this.parseComplete);\r\n            })\r\n            this.workerList.length = 0;\r\n            RES.ClearRes(\"Config_sgs\");\r\n            this.zipFiles = null;\r\n        }\r\n        \r\n        //配置解析完\r\n        GameEventDispatcher.GetInstance().event(\"PARSE_CONFIGED\");\r\n        console.log(\"配置解析完成时间：\" + (Laya.Browser.now() - this.time));\r\n    }\r\n}","import Crypt from \"../net/Crypt\";\r\nimport ByteArray from \"./../utils/ByteArray\";\r\nimport ConfigerManager from \"./ConfigerManager\";\r\n/*\r\n* 配置文件解析基类\r\n*/\r\nexport default class ConfigerBase extends Laya.EventDispatcher \r\n{\r\n    /** 配置名称 */\r\n    public configName: string = \"\";\r\n\r\n    // protected aesUtils: AESUtils;\r\n    protected crypt:Crypt;\r\n\r\n    public promptlyParse:boolean = false;\r\n\r\n    public data:any;\r\n\r\n    constructor(configName:string) \r\n    {\r\n        super();\r\n        this.configName = configName;\r\n    }\r\n\r\n    /** 解析配置 */\r\n    public WorkParse(data:any,worker:any):void  \r\n    {\r\n        if (!data)  {\r\n            console.log(\"配置解析出错：\" + this.configName);\r\n        }\r\n        if (data instanceof ArrayBuffer)  {\r\n            // if (!this.aesUtils)\r\n            //     this.aesUtils = new AESUtils();\r\n            // // let baseData = CtrUtil.Ctr.Ofb_Dec(data);\r\n            // let baseData = this.aesUtils.Ofb_Dec(data);\r\n            if (!this.crypt)\r\n                this.crypt = Crypt.GetInstance();\r\n            let baseData = this.crypt.Ofb_Dec(data);\r\n            let inflate = new Zlib.Gunzip(baseData);\r\n            let plain: Uint8Array = inflate.decompress();\r\n            if(worker){\r\n                worker.onmessage = function (e) {\r\n                    if(this.promptlyParse)\r\n                    {\r\n                        this.ParseConfig(e.data);\r\n                    }\r\n                    else\r\n                    {\r\n                        this.data = e.data;\r\n                    }\r\n                    this.event(ConfigerManager.CONFIG_PARSE_COMPLETE,worker);\r\n                }.bind(this);\r\n                worker.postMessage({name:this.configName,buffer:plain.buffer},[plain.buffer]);\r\n            }else{\r\n                let result: ByteArray = new ByteArray();\r\n                result.endian = Laya.Byte.LITTLE_ENDIAN;\r\n                result.writeArrayBuffer(plain.buffer);\r\n                result.pos = 0;\r\n                let str: string = result.readUTFBytes(result.length);\r\n                try {\r\n                    data = JSON.parse(str);\r\n                } catch (e) {\r\n                    console.log(\"json解析出错:\" + this.configName, e);\r\n                }\r\n                \r\n                if(this.promptlyParse)\r\n                {\r\n                    this.ParseConfig(data);\r\n                }\r\n                else\r\n                {\r\n                    this.data = data;\r\n                }\r\n                // this.ParseConfig(data);\r\n            }\r\n            \r\n        } else {\r\n            if(this.promptlyParse)\r\n            {\r\n                this.ParseConfig(data);\r\n            }\r\n            else\r\n            {\r\n                this.data = data;\r\n            }\r\n            // this.ParseConfig(data);\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**解析二进制文件 - 部分单独解析文件使用*/\r\n    protected parseBuffer(data: any): any  \r\n    {\r\n        if (data instanceof ArrayBuffer)  {\r\n            // if (!this.aesUtils)\r\n            //     this.aesUtils = new AESUtils();\r\n            // let baseData = CtrUtil.Ctr.Ofb_Dec(data);\r\n            // let baseData = this.aesUtils.Ofb_Dec(data);\r\n            if (!this.crypt)\r\n                this.crypt = Crypt.GetInstance();\r\n            let baseData = this.crypt.Ofb_Dec(data);\r\n            let inflate = new Zlib.Gunzip(baseData);\r\n            let plain: Uint8Array = inflate.decompress();\r\n            let result: ByteArray = new ByteArray();\r\n            result.endian = Laya.Byte.LITTLE_ENDIAN;\r\n            result.writeArrayBuffer(plain.buffer);\r\n            result.pos = 0;\r\n            let str: string = result.readUTFBytes(result.length);\r\n            try {\r\n                data = JSON.parse(str);\r\n            } catch (e) {\r\n                console.log(\"json解析出错:\" + this.configName, e);\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /** 解析配置 */\r\n    public ParseConfig(data: any): any  {\r\n        if (!data)  {\r\n            console.log(\"配置解析出错：\" + this.configName);\r\n        }\r\n\r\n        this.data = null;\r\n        return data;\r\n    }\r\n\r\n    public toString(): string  {\r\n        return this.configName;\r\n    }\r\n}","import SgsHttpRequest from \"./SgsHttpRequest\";\r\n\r\n\r\nexport default class SgsUpLoadHttpRequest extends SgsHttpRequest\r\n{\r\n    constructor(callback:Function)\r\n    {\r\n        super(callback);\r\n        this.on(Laya.Event.PROGRESS,this,this.onProgress);\r\n    }\r\n\r\n    public send(url:string,data:any=null,method:string=\"get\", responseType:string=\"text\", headers:any=null):void{\r\n         super.send(url,data,method,responseType,headers);\r\n            //  this._http.onprogress= function(e:any):void\r\n            //  {\r\n            //      //上传进度\r\n            //      console.log('上传进度',e);\r\n            //  }\r\n            //  this._http.onerror= function(e:any):void\r\n            //  {\r\n            //      console.log('上传出错了',e);\r\n            //  }\r\n            //  this._http.onabort = function(e:any):void\r\n            //  {\r\n            //      console.log('上传中断',e);\r\n            //  }\r\n     }\r\n\r\n     private onProgress(num:number):void{\r\n            console.log('上传进度：'+num);\r\n            this.event(\"onProgress\", num);\r\n     }\r\n\r\n     public removeEvents():void\r\n    {\r\n        super.removeEvents();\r\n        this.offAll(Laya.Event.PROGRESS);\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport SceneManager from \"../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport WindowBase from \"../base/WindowBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsImage from \"../controls/base/SgsImage\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport DressAvatar from \"../dressScene/DressAvatar\";\r\nimport PromptWindow from \"./PromptWindow\";\r\n\r\n//参赛作品详情窗口\r\nexport default class VoteWorkInfoWindow extends WindowBase\r\n{\r\n    private bg:SgsTexture;\r\n    private backBtn:SgsFlatButton;\r\n    private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private myDressBtn:SgsFlatButton;    \r\n    private shareBtn:SgsFlatButton;   \r\n    private rankBtn:SgsFlatButton;\r\n    private currencyBg:SgsTexture;\r\n    private currencyTitle:SgsText;\r\n    private currencyText:SgsText;\r\n    \r\n    private avatarBg:SgsTexture;\r\n    private rankFlag:SgsTexture;\r\n    private decorateLeft:SgsTexture;\r\n    private decorateRight:SgsTexture;\r\n    private voteFlag:SgsImage;\r\n    private voteBtn:SgsFlatButton;\r\n    private codeTitle:SgsText;\r\n    private codeText:SgsText;\r\n    private taoqiTitle:SgsText;\r\n    private taoqiText:SgsText;\r\n    private desc:SgsText;\r\n    private avatarSp:Laya.Sprite;\r\n    private avatar:DressAvatar;\r\n\r\n    private isMyDress:boolean = false;\r\n    private isSelf:boolean = false;\r\n    private code:string = \"\";\r\n    private isVoteSucc:boolean = false;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.hideOtherView = true;\r\n        this.addDrawClick();\r\n    }\r\n\r\n    public Open(modelType:number,dressIDs:Array<number>):void\r\n\t{\r\n        if (Global.AutoClearRes && DressConfiger.GetInstance().GetDressPartTempGroup(dressIDs))\r\n            this.resNames = [\"dressPartTemp\"];\r\n        super.Open(modelType,dressIDs);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"myDressSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.backBtn = new SgsFlatButton();\r\n        this.backBtn.pos(0,36);\r\n        this.backBtn.InitSkin(\"baseBackBtn\");\r\n        this.backBtn.on(Laya.Event.CLICK,this,this.onBackHandler);\r\n        this.addDrawChild(this.backBtn);\r\n\r\n        this.homeBtn = new SgsFlatButton();\r\n        this.homeBtn.pos(552,36);\r\n        this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        this.homeBtn.on(Laya.Event.CLICK,this,this.onHomeHandler);\r\n        this.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        this.soundBtn.pos(652,36);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.addDrawChild(this.soundBtn);\r\n\r\n        this.myDressBtn = new SgsFlatButton();\r\n        this.myDressBtn.InitSkin(\"baseMyDressBtn1\");\r\n        this.myDressBtn.on(Laya.Event.CLICK,this,this.onMyDressHandler);\r\n        this.addDrawChild(this.myDressBtn);\r\n\r\n        this.shareBtn = new SgsFlatButton();\r\n        this.shareBtn.InitSkin(\"baseShareBtn1\");\r\n        this.shareBtn.on(Laya.Event.CLICK,this,this.onShareHandler);\r\n        this.addDrawChild(this.shareBtn);\r\n\r\n        this.rankBtn = new SgsFlatButton();\r\n        this.rankBtn.InitSkin(\"baseRankBtn1\");\r\n        this.rankBtn.on(Laya.Event.CLICK,this,this.onRankHandler);\r\n        this.addDrawChild(this.rankBtn);\r\n\r\n        this.currencyBg = new SgsTexture(RES.GetRes(\"baseCurrencyBg\"));\r\n        this.currencyBg.pos(439,75);\r\n        this.addDrawChild(this.currencyBg);\r\n\r\n        this.avatarBg = new SgsTexture(RES.GetRes(\"VoteWorkInfoAvatarBg_image\"));\r\n        this.addDrawChild(this.avatarBg);\r\n\r\n        this.rankFlag = new SgsTexture(RES.GetRes(\"myDressRank1\"));\r\n        this.rankFlag.visible = false;\r\n        this.addDrawChild(this.rankFlag);\r\n\r\n        this.decorateLeft = new SgsTexture(RES.GetRes(\"myDressDecorateLeft\"));\r\n        this.decorateLeft.visible = false;\r\n        this.addDrawChild(this.decorateLeft);\r\n\r\n        this.decorateRight = new SgsTexture(RES.GetRes(\"myDressDecorateRight\"));\r\n        this.decorateRight.visible = false;\r\n        this.addDrawChild(this.decorateRight);\r\n\r\n        this.voteBtn = new SgsFlatButton();\r\n        this.voteBtn.InitSkin(\"myDressSelfVoteBtn\");\r\n        this.voteBtn.visible = false;\r\n        this.voteBtn.on(Laya.Event.CLICK,this,this.onVoteHandler);\r\n        this.addDrawChild(this.voteBtn);\r\n\r\n        this.currencyTitle = new SgsText();\r\n        this.currencyTitle.font = FontName.HEITI;\r\n        this.currencyTitle.color = \"#9da093\";\r\n        this.currencyTitle.fontSize = 30;\r\n        this.currencyTitle.text = \"我的桃气值：\";\r\n        this.currencyTitle.pos(this.currencyBg.x - this.currencyTitle.width + 10,this.currencyBg.y + 22);\r\n        this.addDrawChild(this.currencyTitle);\r\n\r\n        this.currencyText = new SgsText();\r\n        this.currencyText.pos(this.currencyBg.x,this.currencyBg.y);\r\n        this.currencyText.size(this.currencyBg.width,this.currencyBg.height);\r\n        this.currencyText.font = FontName.HEITI;\r\n        this.currencyText.color = \"#ffffff\";\r\n        this.currencyText.fontSize = 26;\r\n        this.currencyText.align = \"center\";\r\n        this.currencyText.valign = \"middle\";\r\n        this.currencyText.bold = true;\r\n        this.addDrawChild(this.currencyText);\r\n\r\n        this.codeTitle = new SgsText();\r\n        this.codeTitle.font = FontName.HEITI;\r\n        this.codeTitle.color = \"#CBB07D\";\r\n        this.codeTitle.fontSize = 22;\r\n        this.codeTitle.text = \"参赛编号：\";\r\n        this.addDrawChild(this.codeTitle);\r\n\r\n        this.codeText = new SgsText();\r\n        this.codeText.font = FontName.HEITI;\r\n        this.codeText.color = \"#C09264\";\r\n        this.codeText.fontSize = 26;\r\n        this.codeText.bold = true;\r\n        this.addDrawChild(this.codeText);\r\n\r\n        this.taoqiTitle = new SgsText();\r\n        this.taoqiTitle.font = FontName.HEITI;\r\n        this.taoqiTitle.color = \"#CBB07D\";\r\n        this.taoqiTitle.fontSize = 22;\r\n        this.taoqiTitle.text = \"桃气值：\";\r\n        this.addDrawChild(this.taoqiTitle);\r\n\r\n        this.taoqiText = new SgsText();\r\n        this.taoqiText.font = FontName.HEITI;\r\n        this.taoqiText.color = \"#C09264\";\r\n        this.taoqiText.fontSize = 26;\r\n        this.taoqiText.bold = true;\r\n        this.addDrawChild(this.taoqiText);\r\n\r\n        this.desc = new SgsText();\r\n        this.desc.width = SystemContext.gameWidth - 74 * 2;\r\n        this.desc.font = FontName.HEITI;\r\n        this.desc.color = \"#E5A7AE\";\r\n        this.desc.fontSize = 24;\r\n        this.desc.leading = 10;\r\n        this.desc.wordWrap = true;\r\n        this.addDrawChild(this.desc);\r\n\r\n        this.avatarSp = new Laya.Sprite();\r\n        this.avatarSp.size(404,618);\r\n        this.avatarSp.scrollRect = new Laya.Rectangle(0,0,404,618);\r\n        this.addChild(this.avatarSp);\r\n\r\n        this.avatar = new DressAvatar();\r\n        // this.avatar.pos(18, 104);\r\n        // this.avatar.scale(0.78, 0.78);\r\n        this.avatar.pos(28, 110);\r\n        this.avatar.scale(0.73, 0.73);\r\n        this.avatarSp.addChild(this.avatar);\r\n\r\n        this.voteFlag = new SgsImage();\r\n        this.voteFlag.source = RES.GetRes(\"myDressSelfWork\");\r\n        this.voteFlag.visible = false;\r\n        this.addChild(this.voteFlag);\r\n\r\n        this.onStageResize();\r\n    }\r\n\r\n    protected enterWindow(isMyDress:boolean,rankInfo:any = null):void\r\n    {\r\n        super.enterWindow();\r\n\r\n        this.isMyDress = isMyDress;\r\n        let manager = GameManager.GetInstance();\r\n        if (isMyDress)//我的搭配界面跳转进来\r\n        {\r\n            this.isSelf = true;\r\n            let info = manager.JoinCollocationInfo;\r\n            if (info) this.avatar.UpdateAll(info.skin,info.collocation);\r\n            this.code = manager.Code;\r\n        }\r\n        else if (rankInfo)\r\n        {\r\n            this.isSelf = rankInfo.is_self ? true : false;\r\n            this.avatar.UpdateAll(rankInfo.skin,rankInfo.collocation);\r\n            this.code = rankInfo.code;\r\n            this.onRankInfo(rankInfo);\r\n        }\r\n\r\n        this.voteFlag.visible = this.isSelf;\r\n        this.voteBtn.InitSkin(this.isSelf ? \"myDressSelfVoteBtn\" : \"myDressOtherVoteBtn\");\r\n        this.voteBtn.visible = true;\r\n        this.codeText.text = this.code;\r\n        this.updateCurrency();\r\n        \r\n        manager.on(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.on(GameManager.COLLOCATION_RANK_INFO,this,this.onRankInfo);\r\n        manager.on(GameManager.COLLOCATION_VOTE_SUCC,this,this.onVoteSucc);\r\n\r\n        if (isMyDress && this.code)\r\n            manager.CollocationRankInfo(this.code);\r\n\r\n        this.layoutChangeUI();\r\n    }\r\n\r\n    private onScoreChange():void\r\n    {\r\n        this.updateCurrency();\r\n    }\r\n\r\n    private onRankInfo(data:any):void\r\n    {\r\n        if (data.code != this.code) return;\r\n        this.taoqiText.text = data.score + \"\";\r\n        this.desc.visible = this.isSelf;\r\n        if (data.rank >= 1 && data.rank <= 3)//前三名\r\n        {\r\n            this.rankFlag.texture = RES.GetRes(\"myDressRank\" + data.rank);\r\n            this.rankFlag.visible = true;\r\n            this.decorateLeft.visible = this.decorateRight.visible = false;\r\n        }\r\n        else\r\n        {\r\n            this.rankFlag.visible = false;\r\n            this.decorateLeft.visible = this.decorateRight.visible = true;\r\n        }\r\n        \r\n        if (this.desc.visible)\r\n        {\r\n            if (!data.rank)\r\n            {\r\n                this.desc.text = \"主人，您的参赛作品-\" + data.code + \",暂未上榜 快邀请您的好友，为您助力投票吧~\";\r\n            }\r\n            else\r\n            {\r\n                if (data.rank >= 1 && data.rank <= 99)\r\n                    this.desc.text = \"恭喜主人，您的参赛作品-\" + data.code + \",目前排名：\" + data.rank + \"，快邀请您的好友，为您投票助力获得更高的排行吧~\";\r\n                else\r\n                    this.desc.text = \"主人，您的参赛作品-\" + data.code + \",目前排名：\" + data.rank + \"，暂未上榜 快邀请您的好友，为您助力投票吧~\";\r\n            }\r\n        }\r\n        this.layoutChangeUI();\r\n    }\r\n\r\n    private onVoteSucc(code:string):void\r\n    {\r\n        if (code != this.code) return;\r\n        this.isVoteSucc = true;\r\n        UIUtils.OpenPromptWin(\"\",\"*主人，您已成功投出1票哦\",100,Laya.Handler.create(this,this.onConfirmShare),null,PromptWindow.BTN_TYPE3);\r\n        GameManager.GetInstance().CollocationRankInfo(this.code);\r\n    }\r\n\r\n    private updateCurrency():void\r\n    {\r\n        let score = GameManager.GetInstance().Score;\r\n        this.currencyText.text = score + \"\";\r\n        this.currencyText.fontSize = score < 100 ? 32 : 26;\r\n    } \r\n\r\n    private onBackHandler():void\r\n    {\r\n        if (!this.isMyDress && this.isVoteSucc)//排行榜进来且投过票\r\n        {\r\n            GameManager.GetInstance().event(GameManager.BACK_RANK_CHANGE);\r\n        }\r\n        this.Close();\r\n    }\r\n\r\n    private onHomeHandler():void\r\n    {\r\n        this.Close();\r\n        SceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onMyDressHandler():void\r\n    {\r\n        this.Close();\r\n        SceneManager.GetInstance().EnterScene(\"MyDressScene\");\r\n    }\r\n\r\n    private onShareHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"SharePromptWindow\");\r\n    }\r\n\r\n    private onRankHandler():void\r\n    {\r\n        if (!this.isMyDress && this.isVoteSucc)//排行榜进来且投过票\r\n        {\r\n            GameManager.GetInstance().event(GameManager.BACK_RANK_CHANGE);\r\n        }\r\n        this.Close();\r\n        SceneManager.GetInstance().EnterScene(\"RankScene\");\r\n    }\r\n\r\n    private saveTime:number = 0;\r\n    private onVoteHandler():void//投票\r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        if (manager.Score <= 0)\r\n            UIUtils.OpenPromptWin(\"\",\"*主人，您的桃气值不足；可以通过每日登录或者分享获取桃气值哦！\",100,Laya.Handler.create(this,this.onConfirmShare),null,PromptWindow.BTN_TYPE3);\r\n        else\r\n        {\r\n            let curTime:number = Laya.Browser.now();\r\n            if (curTime - this.saveTime < Global.OperationFastTime)\r\n                return;\r\n            this.saveTime = curTime;\r\n            manager.CollocationVote(this.code);\r\n        }\r\n    }\r\n\r\n    protected onConfirmShare():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"SharePromptWindow\");\r\n    }\r\n\r\n    protected layoutCodeAnyTaoQi():void\r\n    {\r\n        this.codeTitle.pos(this.avatarBg.x + 120,this.avatarBg.y + 640);\r\n        this.codeText.pos(this.codeTitle.x + this.codeTitle.width,this.codeTitle.y - 2);\r\n        let startX:number = 528 - (this.taoqiTitle.width + this.taoqiText.width);\r\n        this.taoqiTitle.pos(this.avatarBg.x + startX,this.avatarBg.y + 640);\r\n        this.taoqiText.pos(this.taoqiTitle.x + this.taoqiTitle.width,this.taoqiTitle.y - 2);\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n\r\n        this.avatarBg.pos(52,126);\r\n        this.rankFlag.pos(this.avatarBg.x + 24,this.avatarBg.y + 75);\r\n        this.decorateLeft.pos(this.avatarBg.x + 59,this.avatarBg.y + 87);\r\n        this.decorateRight.pos(this.avatarBg.x + 557,this.avatarBg.y + 87);\r\n        this.voteFlag.pos(this.avatarBg.x + 153,this.avatarBg.y + 110);\r\n        this.voteBtn.pos(this.avatarBg.x + 159,this.avatarBg.y + 686);\r\n\r\n        this.desc.pos(74,this.avatarBg.y + 810);\r\n        this.avatarSp.pos(this.avatarBg.x + 123,this.avatarBg.y);\r\n\r\n        this.layoutChangeUI();\r\n    }\r\n\r\n    protected layoutChangeUI():void\r\n    {\r\n        this.layoutCodeAnyTaoQi();\r\n        \r\n        let startY:number = this.desc.y + this.desc.height;\r\n        if (!this.desc.visible)\r\n            startY = this.voteBtn.y + this.voteBtn.height;\r\n        let centerY:number = SystemContext.gameHeight - startY - 232 >> 1;\r\n        this.myDressBtn.pos(77,startY + centerY);//SystemContext.gameHeight - 259);\r\n        this.shareBtn.pos(291,startY + centerY);//SystemContext.gameHeight - 259);\r\n        this.rankBtn.pos(506,startY + centerY);//SystemContext.gameHeight - 259);\r\n    }\r\n    \r\n    public clearWindowRes():void//清理资源\r\n    {\r\n        RES.DelGroupKeys(\"dressPartTemp\");//从资源组中清空搭配部件图，防止窗口关闭随资源组回收(*对应ui会根据计数回收资源的)\r\n        super.clearWindowRes();\r\n    }\r\n\r\n    public destroy(): void \r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        manager.off(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.off(GameManager.COLLOCATION_RANK_INFO,this,this.onRankInfo);\r\n        manager.off(GameManager.COLLOCATION_VOTE_SUCC,this,this.onVoteSucc);\r\n        manager = null;\r\n        super.destroy();\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport RES from \"../../res/RES\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport WindowBase from \"../base/WindowBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport DressAvatar from \"../dressScene/DressAvatar\";\r\n\r\n//保存搭配\r\nexport default class SaveDressWindow extends WindowBase\r\n{\r\n    private closeBtn:SgsFlatButton;\r\n    private bg:SgsTexture;\r\n    private descText:SgsText;\r\n\r\n    private reference:Laya.Sprite;\r\n    private imgElement:any;\r\n\r\n    private avatarContainer:SgsSprite;\r\n    private avatarBg:SgsTexture;\r\n    private dressAvatar:DressAvatar;\r\n    private leftLogo:Laya.Image;\r\n    private rightLogo:Laya.Image;\r\n    private qrCode:Laya.Image;\r\n    private bottomText:Laya.Image;\r\n    \r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.modalAlpha = 0.8;\r\n        if (Global.AutoClearRes)\r\n            this.resNames = [\"saveDressWin\"];\r\n        this.size(575,924);\r\n        this.addDrawClick();\r\n    }\r\n\r\n    public Open(modelType:number,dressIDs:Array<number>):void\r\n\t{\r\n        if (Global.AutoClearRes && DressConfiger.GetInstance().GetDressPartTempGroup(dressIDs))\r\n            this.resNames.push(\"dressPartTemp\");\r\n        super.Open(modelType,dressIDs);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.closeBtn = new SgsFlatButton();\r\n        this.closeBtn.pos(250,0);\r\n        this.closeBtn.InitSkin(\"baseWindowClose\");\r\n        this.closeBtn.on(Laya.Event.CLICK,this,this.Close);\r\n        this.addDrawChild(this.closeBtn);\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"saveDressWinScroll\"));\r\n        this.bg.pos(0,101);\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.descText = new SgsText();\r\n        this.descText.pos(0,900);\r\n        this.descText.width = this.width;\r\n        this.descText.font = FontName.HEITI;\r\n        this.descText.color = \"#DCC492\";\r\n        this.descText.fontSize = 24;\r\n        this.descText.align = \"center\";\r\n        this.descText.text = \"主人，长按人物可以保存您的创作哦~\";\r\n        this.addDrawChild(this.descText);\r\n\r\n        this.reference = new Laya.Sprite();\r\n        this.reference.pos(60,153);\r\n        this.reference.size(450,668);\r\n        this.reference.zOrder = Number.MAX_VALUE - 1;\r\n        this.addChild(this.reference);\r\n\r\n        this.avatarContainer = new SgsSprite();\r\n        \r\n        this.avatarBg = new SgsTexture(RES.GetRes(\"saveDressWinBg_image\"));\r\n        this.avatarContainer.addDrawChild(this.avatarBg);\r\n\r\n        this.dressAvatar = new DressAvatar();\r\n        this.dressAvatar.pos(127,102);\r\n        this.avatarContainer.addChild(this.dressAvatar);\r\n\r\n        this.leftLogo = new Laya.Image();\r\n        this.leftLogo.pos(27,17);\r\n        this.leftLogo.source = RES.GetRes(\"saveDressWinLeftLogo\");\r\n        this.avatarContainer.addChild(this.leftLogo);\r\n\r\n        this.rightLogo = new Laya.Image();\r\n        this.rightLogo.pos(548,18);\r\n        this.rightLogo.source = RES.GetRes(\"saveDressWinRightLogo\");\r\n        this.avatarContainer.addChild(this.rightLogo);\r\n\r\n        this.qrCode = new Laya.Image();\r\n        this.qrCode.pos(61,806);\r\n        this.qrCode.source = RES.GetRes(\"saveDressWinQRCode\");\r\n        this.avatarContainer.addChild(this.qrCode);\r\n\r\n        this.bottomText = new Laya.Image();\r\n        this.bottomText.pos(25,1021);\r\n        this.bottomText.source = RES.GetRes(\"saveDressWinBottomText\");\r\n        this.avatarContainer.addChild(this.bottomText);\r\n\r\n        this.onStageResize();\r\n    }\r\n\r\n    protected enterWindow(modelType:number,dressIDs:Array<number>):void\r\n    {\r\n        super.enterWindow();\r\n\r\n        this.dressAvatar.UpdateAll(modelType,dressIDs);\r\n        Laya.timer.frameOnce(2,this,this.onMergeImg);//延迟是为了sprite上的纹理渲染上去，但实际散图资源可能也会没有加载完成\r\n    }\r\n\r\n    private onMergeImg():void\r\n    {\r\n        UIUtils.ClearTextPrompt();\r\n\r\n        var htmlC:Laya.HTMLCanvas = this.avatarContainer.drawToCanvas(750,1113,0,0);\r\n        var base64:string = htmlC.toBase64(\"image/png\",1);\r\n        \r\n        htmlC.destroy();\r\n        if (this.avatarContainer)\r\n        {\r\n            this.avatarContainer.destroy();\r\n            this.avatarContainer = null;\r\n        }\r\n\r\n        this.imgElement = document.getElementById(\"mergeImg\");\r\n        if (this.imgElement)\r\n            this.imgElement.style.display = \"block\";\r\n        else\r\n        {\r\n            this.imgElement = document.createElement(\"img\");\r\n            this.imgElement.id = \"mergeImg\";\r\n            this.imgElement.crossOrigin = \"\";\r\n            document.getElementById(\"layaContainer\").appendChild(this.imgElement);\r\n        }\r\n        this.imgElement.src = base64;\r\n        Laya.Utils.fitDOMElementInArea(this.imgElement,this.reference,0,0,this.reference.width,this.reference.height);\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        if (this.imgElement)\r\n            Laya.Utils.fitDOMElementInArea(this.imgElement,this.reference,0,0,this.reference.width,this.reference.height);\r\n    }\r\n\r\n    public clearWindowRes():void//清理资源\r\n    {\r\n        RES.DelGroupKeys(\"dressPartTemp\");//从资源组中清空搭配部件图，防止窗口关闭随资源组回收(*对应ui会根据计数回收资源的)\r\n        super.clearWindowRes();\r\n    }\r\n\r\n    public destroy(): void \r\n    {\r\n        Laya.timer.clearAll(this);\r\n        if (this.avatarContainer)\r\n        {\r\n            this.avatarContainer.destroy();\r\n            this.avatarContainer = null;\r\n        }\r\n        if (this.imgElement)\r\n        {\r\n            this.imgElement.src = \"\";\r\n            this.imgElement.style.display = \"none\";\r\n            this.imgElement = null;\r\n        }\r\n        super.destroy();\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport SgsHTMLDivElement from \"../controls/base/SgsHTMLDivElement\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\n\r\n\r\n//规则\r\nexport default class RuleItemUI extends SgsSprite\r\n{\r\n    private codeText:SgsText;\r\n    private descText:SgsHTMLDivElement;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.init();\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        this.codeText = new SgsText();\r\n        this.codeText.font = FontName.HEITI;\r\n        this.codeText.fontSize = 24;\r\n        this.codeText.bold = true;\r\n        this.codeText.color = \"#80B6A7\";\r\n        this.addDrawChild(this.codeText);\r\n\r\n        this.descText = new SgsHTMLDivElement();\r\n        this.descText.x = 35;\r\n        this.descText.fontFamily = FontName.HEITI;\r\n        this.descText.fontSize = 24;\r\n        this.descText.color = \"#80B6A7\";\r\n        this.descText.leading = 16;\r\n        this.descText.wordWrap = true;\r\n        this.descText.mouseEnabled = false;\r\n        this.addChild(this.descText);\r\n    }\r\n\r\n    public SetDesc(width:number,code:string,desc:string):void\r\n    {\r\n        this.width = width;\r\n        this.descText.width = this.width - this.descText.x;\r\n        this.codeText.text = code;\r\n        this.descText.innerHTML = desc;\r\n        this.height = this.descText.contextHeight - 16;\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport Global from \"../../Global\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport WindowBase from \"../base/WindowBase\";\r\nimport SgsSpriteButton from \"../controls/base/SgsSpriteButton\";\r\nimport DressAvatar from \"../dressScene/DressAvatar\";\r\n\r\n//查看搭配\r\nexport default class LookDressWindow extends WindowBase\r\n{\r\n    private dressAvatar:DressAvatar;\r\n    private closeBtn:SgsSpriteButton;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.modalAlpha = 0.8;\r\n    }\r\n\r\n    public Open(modelType:number,dressIDs:Array<number>):void\r\n\t{\r\n        if (Global.AutoClearRes && DressConfiger.GetInstance().GetDressPartTempGroup(dressIDs))\r\n            this.resNames = [\"dressPartTemp\"];\r\n        super.Open(modelType,dressIDs);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.dressAvatar = new DressAvatar();\r\n        this.dressAvatar.scale(0.9,0.9);\r\n        this.addChild(this.dressAvatar);\r\n\r\n        this.closeBtn = new SgsSpriteButton();\r\n        this.closeBtn.InitSkin(\"baseWindowClose\");\r\n        this.closeBtn.on(Laya.Event.CLICK,this,this.Close);\r\n        this.addChild(this.closeBtn);\r\n\r\n        this.onStageResize();\r\n    }\r\n\r\n    protected enterWindow(modelType:number,dressIDs:Array<number>):void\r\n    {\r\n        super.enterWindow();\r\n\r\n        this.dressAvatar.UpdateAll(modelType,dressIDs);\r\n        \r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n        this.dressAvatar.pos((this.width - this.dressAvatar.width * 0.9 >> 1) + Global.ModelOffsetX * 0.9, (this.height - this.dressAvatar.height >> 1) + 30);\r\n        this.closeBtn.pos(556,this.dressAvatar.y - 100);\r\n    }\r\n\r\n    public clearWindowRes():void//清理资源\r\n    {\r\n        RES.DelGroupKeys(\"dressPartTemp\");//从资源组中清空搭配部件图，防止窗口关闭随资源组回收(*对应ui会根据计数回收资源的)\r\n        super.clearWindowRes();\r\n    }\r\n\r\n    public destroy(): void \r\n    {\r\n        super.destroy();\r\n    }\r\n}","import RES from \"../../res/RES\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\n\r\nexport default class ImageFlatButton extends SgsFlatButton\r\n{\r\n    protected textFlag:SgsTexture;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        super.initChilds();\r\n        if (!this.textFlag)\r\n        {\r\n            this.textFlag = new SgsTexture();\r\n            this.addDrawChild(this.textFlag);\r\n        }\r\n    }\r\n\r\n    public InitTextSkin(res:string):void\r\n    {\r\n        this.textFlag.texture = RES.GetRes(res);\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        super.changeLayout();\r\n        this.textFlag.pos(this.width - this.textFlag.width >> 1,this.height - this.textFlag.height >> 1);\r\n    }\r\n}","import RES from \"../../res/RES\";\r\nimport WindowBase from \"../base/WindowBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\n\r\n//常用窗口\r\nexport default class CommonBaseWindow extends WindowBase\r\n{\r\n    protected bg:SgsTexture;\r\n    protected closeBtn:SgsFlatButton;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.size(670,365);\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"commonWindowBg\"));\r\n        this.bg.width = this.width;\r\n        this.bg.height = this.height;\r\n        this.bg.sizeGrid = \"277,1,82,1\";\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.closeBtn = new SgsFlatButton();\r\n        this.closeBtn.pos(588,50);\r\n        this.closeBtn.InitSkin(\"commonWindowCloseBtn\");\r\n        this.closeBtn.on(Laya.Event.CLICK,this,this.onCloseHandler);\r\n        this.addDrawChild(this.closeBtn);\r\n    }\r\n\r\n    public size(width:number,height:number):Laya.Sprite\r\n    {\r\n        super.size(width,height);\r\n        if (this.bg)\r\n            this.bg.height = height;\r\n        return this;\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n    }\r\n\r\n    protected onCloseHandler():void\r\n    {\r\n        this.Close();\r\n    }\r\n\r\n    // public destroy(): void \r\n    // {\r\n        \r\n    //     super.destroy();\r\n       \r\n    // }\r\n}","\r\nimport TipsEvent from \"./../../event/TipsEvent\";\r\nimport GameEventDispatcher from \"./../../event/GameEventDispatcher\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\n/*\r\n* tonglifang toolTips基类，主要用于tips尺寸变化能通知到tipsmanager 更新位置;\r\n*/\r\nexport default class ToolTipBase extends SgsSprite\r\n{\r\n    /**需要自动定位(tip坐标有底层控制)*/\r\n    public needAutoPos:boolean = true;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.mouseEnabled = false;\r\n        this.zOrder = 1003;\r\n    }\r\n\r\n\r\n    //设置尺寸后会重新定位toolTip\r\n    public size(w:number,h:number):Laya.Sprite\r\n\t{\r\n\t\tsuper.size(w,h);\r\n        if (this.needAutoPos)\r\n            GameEventDispatcher.GetInstance().event(TipsEvent.TIPS_SIZE_CHNAGED_EVENT,this);\r\n        return this;\r\n\t} \r\n\r\n    public get showWidth():number\r\n    {\r\n        return this.width * this.scaleX >> 0;\r\n    }\r\n\r\n    public get showHeight():number\r\n    {\r\n        return this.height * this.scaleY >> 0;\r\n    }\r\n}","import LayoutEnum from \"../../enum/base/LayoutEnum\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport SceneManager from \"../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SceneBase from \"../base/SceneBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsImage from \"../controls/base/SgsImage\";\r\nimport SgsSpriteButton from \"../controls/base/SgsSpriteButton\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsFlatPanel from \"../controls/SgsFlatPanel\";\r\nimport PromptWindow from \"../window/PromptWindow\";\r\nimport RankItemUI from \"./RankItemUI\";\r\n\r\n\r\n//排行榜场景\r\nexport default class RankScene extends SceneBase\r\n{\r\n    private bg:SgsTexture;\r\n    // private notBg:SgsTexture;\r\n    // private notText:SgsText;\r\n    private ruleBtn:SgsFlatButton;\r\n    private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private dressBtn:SgsFlatButton;    \r\n    private myDressBtn:SgsFlatButton;\r\n    private downBtn:SgsFlatButton;   \r\n    private searchBg:SgsTexture;\r\n    private currencyTitle:SgsText;\r\n    private currencyBg:SgsTexture;\r\n    private currencyText:SgsText;\r\n    private desc:SgsText;\r\n    private searchInput:Laya.TextInput;\r\n    private searchClearBtn:SgsSpriteButton;\r\n    private searchButton:SgsSpriteButton;\r\n    private panel:SgsFlatPanel;\r\n    private panelBottomBg:SgsImage;\r\n\r\n    private isSearch:boolean = false;\r\n    private operationTime:number = 0;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        if (Global.AutoClearRes)\r\n            this.resNames = [\"rankScene\"];\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"myDressSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.ruleBtn = new SgsFlatButton();\r\n        this.ruleBtn.pos(0,36);\r\n        this.ruleBtn.InitSkin(\"baseRuleBtn\");\r\n        this.ruleBtn.on(Laya.Event.CLICK,this,this.onRuleHandler);\r\n        this.addDrawChild(this.ruleBtn);\r\n\r\n        this.homeBtn = new SgsFlatButton();\r\n        this.homeBtn.pos(552,36);\r\n        this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        this.homeBtn.on(Laya.Event.CLICK,this,this.onHomeHandler);\r\n        this.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        this.soundBtn.pos(652,36);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.addDrawChild(this.soundBtn);\r\n\r\n        this.dressBtn = new SgsFlatButton();\r\n        this.dressBtn.InitSkin(\"baseDressBtn\");\r\n        this.dressBtn.on(Laya.Event.CLICK,this,this.onDressHandler);\r\n        this.addDrawChild(this.dressBtn);\r\n\r\n        this.myDressBtn = new SgsFlatButton();\r\n        this.myDressBtn.InitSkin(\"baseMyDressBtn1\");\r\n        this.myDressBtn.on(Laya.Event.CLICK,this,this.onMyDressHandler);\r\n        this.addDrawChild(this.myDressBtn);\r\n\r\n        this.downBtn = new SgsFlatButton();\r\n        this.downBtn.InitSkin(\"baseDownBtn1\");\r\n        this.downBtn.on(Laya.Event.CLICK,this,this.onDownLoadHandler);\r\n        this.addDrawChild(this.downBtn);\r\n\r\n        this.searchBg = new SgsTexture(RES.GetRes(\"baseSearchBg\"));\r\n        this.searchBg.pos(52,156);\r\n        this.searchBg.size(645,52);\r\n        this.searchBg.sizeGrid = \"1,64,1,30\";\r\n        this.addDrawChild(this.searchBg);\r\n\r\n        this.currencyBg = new SgsTexture(RES.GetRes(\"baseCurrencyBg\"));\r\n        this.currencyBg.pos(439,75);\r\n        this.addDrawChild(this.currencyBg);\r\n\r\n        this.currencyTitle = new SgsText();\r\n        this.currencyTitle.font = FontName.HEITI;\r\n        this.currencyTitle.color = \"#9da093\";\r\n        this.currencyTitle.fontSize = 30;\r\n        this.currencyTitle.text = \"我的桃气值：\";\r\n        this.currencyTitle.pos(this.currencyBg.x - this.currencyTitle.width + 10,this.currencyBg.y + 22);\r\n        this.addDrawChild(this.currencyTitle);\r\n\r\n        this.currencyText = new SgsText();\r\n        this.currencyText.pos(this.currencyBg.x,this.currencyBg.y);\r\n        this.currencyText.size(this.currencyBg.width,this.currencyBg.height);\r\n        this.currencyText.font = FontName.HEITI;\r\n        this.currencyText.color = \"#ffffff\";\r\n        this.currencyText.fontSize = 26;\r\n        this.currencyText.align = \"center\";\r\n        this.currencyText.valign = \"middle\";\r\n        this.currencyText.bold = true;\r\n        this.addDrawChild(this.currencyText);\r\n\r\n        this.desc = new SgsText();\r\n        this.desc.x = 60;\r\n        this.desc.width = SystemContext.gameWidth - 120;\r\n        this.desc.font = FontName.HEITI;\r\n        this.desc.color = \"#E5A7AE\";\r\n        this.desc.fontSize = 24;\r\n        this.desc.leading = 10;\r\n        // this.desc.align = \"center\";\r\n        this.desc.wordWrap = true;\r\n        this.addDrawChild(this.desc);\r\n\r\n        this.searchInput = new Laya.TextInput();\r\n        this.searchInput.pos(this.searchBg.x + 30,this.searchBg.y);\r\n        this.searchInput.size(this.searchBg.width - 30 - 120,this.searchBg.height);\r\n        this.searchInput.font = FontName.HEITI;\r\n        this.searchInput.fontSize = 24;\r\n        this.searchInput.color = \"#C8BBA5\";\r\n        this.searchInput.promptColor = \"#C8BBA5\";\r\n        this.searchInput.prompt = \"主人，这里输入编号可快速查找到对应作品哦~\";\r\n        this.searchInput.on(Laya.Event.INPUT,this,this.onSearchChanage);\r\n        // this.searchInput.on(Laya.Event.FOCUS,this,this.onSearchChanage);\r\n        this.searchInput.on(Laya.Event.BLUR,this,this.onSearchChanage);\r\n        this.searchInput.on(Laya.Event.ENTER,this,this.onSearchHandler);\r\n        this.addChild(this.searchInput);\r\n\r\n        this.searchClearBtn = new SgsSpriteButton();\r\n        this.searchClearBtn.pos(this.searchBg.x + 543,this.searchBg.y + 16);\r\n        this.searchClearBtn.InitSkin(\"baseSearchClearBtn\");\r\n        this.searchClearBtn.visible = false;\r\n        this.searchClearBtn.on(Laya.Event.CLICK,this,this.onSearchClearHandler);\r\n        this.addChild(this.searchClearBtn);\r\n\r\n        this.searchButton = new SgsSpriteButton();\r\n        this.searchButton.pos(this.searchBg.x + 583,this.searchBg.y);\r\n        this.searchButton.size(62,52);\r\n        this.searchButton.on(Laya.Event.CLICK,this,this.onSearchHandler);\r\n        this.addChild(this.searchButton);\r\n\r\n        this.panel = new SgsFlatPanel(RankItemUI,3,1);\r\n        this.panel.SetLayout(LayoutEnum.TileLayout, 34, 15, 2);\r\n        this.panel.width = 694 + 12;\r\n        this.panel.pos(34,240);\r\n        this.panel.vScrollBarSkin = RES.GetAtlasUrl(\"yellowVscroll\");\r\n        this.panel.on(\"scrollChange\",this,this.onScrollChange);\r\n        this.addChild(this.panel);\r\n\r\n        this.panelBottomBg = new SgsImage();\r\n        this.panelBottomBg.source = RES.GetRes(\"myDressBottomBg\");\r\n        this.panelBottomBg.visible = false;\r\n        this.addChild(this.panelBottomBg);\r\n\r\n        this.initView();\r\n        this.onStageResize();\r\n    }\r\n\r\n    private initView():void\r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        manager.on(GameManager.COLLOCATION_RANK,this,this.onRank);\r\n        manager.on(GameManager.COLLOCATION_RANK_SEARCH,this,this.onRankSearch);\r\n        manager.on(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.on(GameManager.BACK_RANK_CHANGE,this,this.onBackRankChange);\r\n\r\n        this.updateCurrency();\r\n        manager.CollocationRank();\r\n    }\r\n\r\n    private onRank(data:any):void\r\n    {\r\n        if (!data) return;\r\n        let manager = GameManager.GetInstance();\r\n        let myRank = data.myRank;\r\n        if (myRank)\r\n        {\r\n            if (!manager.CheckCollocation(myRank.skin,myRank.collocation))//数据异常\r\n                myRank.collocation = null;\r\n            this.updateDesc(myRank.code,myRank.rank);\r\n        }\r\n        let rank:Array<any> = data.rank;\r\n        if (rank && rank.length > 0 && rank[0].code)\r\n        {\r\n            //自己作品置顶\r\n            let list:Array<any> = [];\r\n            let isContainSelf:boolean = false;\r\n            rank.forEach(element => {\r\n                if (!manager.CheckCollocation(element.skin,element.collocation))//数据异常\r\n                    element.collocation = null;\r\n                if (element.is_self)//自己作品\r\n                {\r\n                    isContainSelf = true;\r\n                    list.unshift(element);\r\n                }\r\n                else\r\n                {\r\n                    list.push(element);\r\n                }\r\n            });\r\n            if (!isContainSelf)//自己未进排行榜\r\n            {\r\n                if (myRank)\r\n                    list.unshift(myRank);\r\n            }\r\n            this.panel.DataProvider = list;\r\n        }\r\n        else\r\n        {\r\n            this.panel.DataProvider = null;\r\n        }\r\n        this.updatePanelBottomBg();     \r\n    }\r\n\r\n    private onRankSearch(data:any):void\r\n    {\r\n        if (!data) return;\r\n        let rank:Array<any> = data.rank;\r\n        if (rank && rank.length > 0 && rank[0].code)\r\n        {\r\n            this.isSearch = true;\r\n            if (!GameManager.GetInstance().CheckCollocation(rank[0].skin,rank[0].collocation))//数据异常\r\n                rank[0].collocation = null;\r\n            this.panel.DataProvider = rank;\r\n            if (rank[0].is_self)//自己作品\r\n            {\r\n                this.updateDesc(rank[0].code,rank[0].rank);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            // UIUtils.OpenPromptWin(\"\",\"没有该编号的作品\",100,null,null,PromptWindow.BTN_TYPE2);\r\n            UIUtils.ShowTextPrompt(\"没有该编号的作品\");\r\n        }\r\n    }\r\n\r\n    private onScoreChange():void\r\n    {\r\n        this.updateCurrency();\r\n    }\r\n\r\n    private onBackRankChange():void\r\n    {\r\n        if (this.isSearch)//搜索状态\r\n        {\r\n            let dataProvider = this.panel.DataProvider;\r\n            if (dataProvider && dataProvider.length > 0)\r\n                GameManager.GetInstance().CollocationRankSearch(dataProvider[0].code);\r\n        }\r\n        else\r\n        {\r\n            GameManager.GetInstance().CollocationRank();\r\n        }\r\n    }\r\n\r\n    private updateCurrency():void\r\n    {\r\n        let score = GameManager.GetInstance().Score;\r\n        this.currencyText.text = score + \"\";\r\n        this.currencyText.fontSize = score < 100 ? 32 : 26;\r\n    }\r\n\r\n    private updatePanelBottomBg():void\r\n    {\r\n        this.panelBottomBg.visible = false;\r\n        let self = this;\r\n        Laya.timer.frameOnce(2,this,function(){\r\n            if (self.destroyed) return;\r\n            self.panelBottomBg.visible = self.panel.vScrollBar.max > 0 ? true : false;\r\n        })\r\n    }\r\n\r\n    private updateDesc(code:string,rank:number):void\r\n    {\r\n        if (!rank)\r\n        {\r\n            this.desc.text = \"主人，您的参赛作品-\" + code + \",暂未上榜 快邀请您的好友，为您助力投票吧~\";\r\n        }\r\n        else\r\n        {\r\n            if (rank >= 1 && rank <= 99)\r\n                this.desc.text = \"恭喜主人，您的参赛作品-\" + code + \",目前排名：\" + rank + \"，快邀请您的好友，为您投票助力获得更高的排行吧~\";\r\n            else\r\n                this.desc.text = \"主人，您的参赛作品-\" + code + \",目前排名：\" + rank + \"，暂未上榜 快邀请您的好友，为您助力投票吧~\";\r\n        }\r\n    }\r\n\r\n    // private showNotView():void//无数据UI\r\n    // {\r\n    //     if (!this.notBg)\r\n    //     {\r\n    //         this.notBg = new SgsTexture(RES.GetRes(\"myDressSceneNot_image\"));\r\n    //         this.notBg.pos(53,173);\r\n    //         this.addDrawChild(this.notBg);\r\n\r\n    //         this.notText = new SgsText();\r\n    //         this.notText.pos(this.notBg.x + 83,this.notBg.y + 155);\r\n    //         this.notText.font = FontName.HEITI;\r\n    //         this.notText.color = \"#a2693f\";\r\n    //         this.notText.fontSize = 30;\r\n    //         this.notText.leading = 20;\r\n    //         this.notText.text = \"呜呜呜，主人，\\n您还没有给婉儿搭配任何一套衣服呢！ \\n快去创作您心目里最美丽的造型吧~\";\r\n    //         this.addDrawChild(this.notText);\r\n    //     }\r\n    // }\r\n\r\n    private onSearchClearHandler():void\r\n    {\r\n        let curTime:number = Laya.Browser.now();\r\n        if (curTime - this.operationTime < Global.OperationFastTime)\r\n            return;\r\n        this.operationTime = curTime;\r\n        this.searchInput.text = \"\";\r\n        this.searchClearBtn.visible = this.searchInput.text ? true : false;\r\n        if (this.isSearch)\r\n            GameManager.GetInstance().CollocationRank();\r\n        this.isSearch = false;\r\n    }\r\n\r\n    private onSearchChanage():void\r\n    {\r\n        this.searchClearBtn.visible = this.searchInput.text ? true : false;\r\n    }\r\n\r\n    private onSearchHandler():void\r\n    {\r\n        if (!this.searchInput.text) \r\n        {\r\n            UIUtils.OpenPromptWin(\"\",\"请先输入编号\",100,null,null,PromptWindow.BTN_TYPE2);\r\n            return;\r\n        }\r\n        let curTime:number = Laya.Browser.now();\r\n        if (curTime - this.operationTime < Global.OperationFastTime)\r\n            return;\r\n        this.operationTime = curTime;\r\n        GameManager.GetInstance().CollocationRankSearch(this.searchInput.text);\r\n    }\r\n\r\n    private onRuleHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"RuleWindow\");\r\n    }\r\n\r\n    private onHomeHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"DressScene\");\r\n    }\r\n\r\n    private onMyDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"MyDressScene\");\r\n    }\r\n\r\n    private onDownLoadHandler():void\r\n    {\r\n        Global.DownLoadGame();\r\n    }\r\n\r\n    private onScrollChange():void\r\n    {\r\n        let scrollBar = this.panel.vScrollBar;\r\n        if (!scrollBar) return;\r\n        this.panelBottomBg.visible = scrollBar.value < scrollBar.max;\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n\r\n        this.panel.height = SystemContext.gameHeight - this.panel.y - 356;\r\n        this.panelBottomBg.y = this.panel.y + this.panel.height - 97;\r\n        this.desc.y = SystemContext.gameHeight - 318;\r\n        this.dressBtn.pos(77,SystemContext.gameHeight - 259);\r\n        this.myDressBtn.pos(291,SystemContext.gameHeight - 259);\r\n        this.downBtn.pos(506,SystemContext.gameHeight - 259);\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        manager.off(GameManager.COLLOCATION_RANK,this,this.onRank);\r\n        manager.off(GameManager.COLLOCATION_RANK_SEARCH,this,this.onRankSearch);\r\n        manager.off(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.off(GameManager.BACK_RANK_CHANGE,this,this.onBackRankChange);\r\n        manager = null;\r\n        super.destroy();\r\n    }\r\n}","import LayoutEnum from \"../../enum/base/LayoutEnum\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport SceneManager from \"../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SceneBase from \"../base/SceneBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsImage from \"../controls/base/SgsImage\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsFlatPanel from \"../controls/SgsFlatPanel\";\r\nimport PromptWindow from \"../window/PromptWindow\";\r\nimport MyDressItemUI from \"./MyDressItemUI\";\r\n\r\n//我的搭配\r\nexport default class MyDressScene extends SceneBase\r\n{\r\n    private bg:SgsTexture;\r\n    private notBg:SgsTexture;\r\n    private notText:SgsText;\r\n    private ruleBtn:SgsFlatButton;\r\n    private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private dressBtn:SgsFlatButton;    \r\n    private rankBtn:SgsFlatButton;\r\n    private downBtn:SgsFlatButton;   \r\n    private currencyBg:SgsTexture;\r\n    private currencyTitle:SgsText;\r\n    private currencyText:SgsText;\r\n    private desc:SgsText;\r\n    private panel:SgsFlatPanel;\r\n    private panelBottomBg:SgsImage;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        if (Global.AutoClearRes)\r\n        {\r\n            this.resNames = [\"myDressScene\"];\r\n            let list = GameManager.GetInstance().MyCollocationList;\r\n            if (list && list.length > 0)//已有装扮:删除无装扮资源加载\r\n                RES.DelGroupKeys(\"myDressScene\",[\"myDressSceneNot_image\"]);\r\n        }\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"myDressSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.ruleBtn = new SgsFlatButton();\r\n        this.ruleBtn.pos(0,36);\r\n        this.ruleBtn.InitSkin(\"baseRuleBtn\");\r\n        this.ruleBtn.on(Laya.Event.CLICK,this,this.onRuleHandler);\r\n        this.addDrawChild(this.ruleBtn);\r\n\r\n        this.homeBtn = new SgsFlatButton();\r\n        this.homeBtn.pos(552,36);\r\n        this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        this.homeBtn.on(Laya.Event.CLICK,this,this.onHomeHandler);\r\n        this.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        this.soundBtn.pos(652,36);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.addDrawChild(this.soundBtn);\r\n\r\n        this.dressBtn = new SgsFlatButton();\r\n        this.dressBtn.InitSkin(\"baseDressBtn\");\r\n        this.dressBtn.on(Laya.Event.CLICK,this,this.onDressHandler);\r\n        this.addDrawChild(this.dressBtn);\r\n\r\n        this.rankBtn = new SgsFlatButton();\r\n        this.rankBtn.InitSkin(\"baseRankBtn1\");\r\n        this.rankBtn.on(Laya.Event.CLICK,this,this.onRankHandler);\r\n        this.addDrawChild(this.rankBtn);\r\n\r\n        this.downBtn = new SgsFlatButton();\r\n        this.downBtn.InitSkin(\"baseDownBtn1\");\r\n        this.downBtn.on(Laya.Event.CLICK,this,this.onDownLoadHandler);\r\n        this.addDrawChild(this.downBtn);\r\n\r\n        this.currencyBg = new SgsTexture(RES.GetRes(\"baseCurrencyBg\"));\r\n        this.currencyBg.pos(439,75);\r\n        this.addDrawChild(this.currencyBg);\r\n\r\n        this.currencyTitle = new SgsText();\r\n        this.currencyTitle.font = FontName.HEITI;\r\n        this.currencyTitle.color = \"#9da093\";\r\n        this.currencyTitle.fontSize = 30;\r\n        this.currencyTitle.text = \"我的桃气值：\";\r\n        this.currencyTitle.pos(this.currencyBg.x - this.currencyTitle.width + 10,this.currencyBg.y + 22);\r\n        this.addDrawChild(this.currencyTitle);\r\n\r\n        this.currencyText = new SgsText();\r\n        this.currencyText.pos(this.currencyBg.x,this.currencyBg.y);\r\n        this.currencyText.size(this.currencyBg.width,this.currencyBg.height);\r\n        this.currencyText.font = FontName.HEITI;\r\n        this.currencyText.color = \"#ffffff\";\r\n        this.currencyText.fontSize = 26;\r\n        this.currencyText.align = \"center\";\r\n        this.currencyText.valign = \"middle\";\r\n        this.currencyText.bold = true;\r\n        this.addDrawChild(this.currencyText);\r\n\r\n        this.desc = new SgsText();\r\n        this.desc.width = SystemContext.gameWidth;\r\n        this.desc.font = FontName.HEITI;\r\n        this.desc.color = \"#B0B4B0\";\r\n        this.desc.fontSize = 22;\r\n        this.desc.align = \"center\";\r\n        this.desc.text = \"主人，您还没有参赛呢，快选一组作品上传吧~\";\r\n        this.desc.visible = false;\r\n        this.addDrawChild(this.desc);\r\n\r\n        this.panel = new SgsFlatPanel(MyDressItemUI,3,1);\r\n        this.panel.SetLayout(LayoutEnum.TileLayout, 34, 15, 2);\r\n        this.panel.width = 694 + 12;\r\n        this.panel.pos(34, 167);\r\n        this.panel.vScrollBarSkin = RES.GetAtlasUrl(\"blueVscroll\");\r\n        this.panel.on(\"scrollChange\",this,this.onScrollChange);\r\n        this.addChild(this.panel);\r\n\r\n        this.panelBottomBg = new SgsImage();\r\n        this.panelBottomBg.source = RES.GetRes(\"myDressBottomBg\");\r\n        this.panelBottomBg.visible = false;\r\n        this.addChild(this.panelBottomBg);\r\n\r\n        this.initView();\r\n        this.onStageResize();\r\n    }\r\n\r\n    private initView():void\r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        let list = manager.MyCollocationList;\r\n        if (!list || list.length <= 0)\r\n        {\r\n            this.showNotView();\r\n        }\r\n        else\r\n        {\r\n            this.panel.DataProvider = list;\r\n        }\r\n        this.updatePanelBottomBg();\r\n        this.updateCurrency();\r\n        this.desc.visible = list && list.length > 0 && !manager.Code ? true : false;\r\n\r\n        manager.on(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.on(GameManager.COLLOCATION_JOIN_SUCC,this,this.onJoinSucc);\r\n    }\r\n\r\n    private onScoreChange():void\r\n    {\r\n        this.updateCurrency();\r\n    }\r\n\r\n    private onJoinSucc():void\r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        UIUtils.OpenPromptWin(\"\",\"*主人，恭喜您已经成功参赛！<br/>您的作品编号为：\" + manager.Code,100,null,null,PromptWindow.BTN_TYPE2);\r\n        this.panel.DataProvider = manager.MyCollocationList;\r\n        this.desc.visible = manager.Code ? true : false;\r\n    }\r\n    \r\n    private updateCurrency():void\r\n    {\r\n        let score = GameManager.GetInstance().Score;\r\n        this.currencyText.text = score + \"\";\r\n        this.currencyText.fontSize = score < 100 ? 32 : 26;\r\n    }\r\n\r\n    private updatePanelBottomBg():void\r\n    {\r\n        this.panelBottomBg.visible = false;\r\n        let self = this;\r\n        Laya.timer.frameOnce(2,this,function(){\r\n            if (self.destroyed) return;\r\n            self.panelBottomBg.visible = self.panel.vScrollBar.max > 0 ? true : false;\r\n        })\r\n    }\r\n\r\n    private showNotView():void//无数据UI\r\n    {\r\n        if (!this.notBg)\r\n        {\r\n            this.notBg = new SgsTexture(RES.GetRes(\"myDressSceneNot_image\"));\r\n            this.notBg.x = 53;\r\n            this.addDrawChild(this.notBg);\r\n\r\n            this.notText = new SgsText();\r\n            this.notText.pos(this.notBg.x + 83,this.notBg.y + 155);\r\n            this.notText.font = FontName.HEITI;\r\n            this.notText.color = \"#a2693f\";\r\n            this.notText.fontSize = 30;\r\n            this.notText.leading = 20;\r\n            this.notText.text = \"呜呜呜，主人，\\n您还没有给婉儿搭配任何一套衣服呢！ \\n快去创作您心目里最美丽的造型吧~\";\r\n            this.addDrawChild(this.notText);\r\n\r\n            this.onStageResize();\r\n        }\r\n    }\r\n\r\n    private onRuleHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"RuleWindow\");\r\n    }\r\n\r\n    private onHomeHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"DressScene\");\r\n    }\r\n\r\n    private onRankHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"RankScene\");\r\n    }\r\n\r\n    private onDownLoadHandler():void\r\n    {\r\n        Global.DownLoadGame();\r\n    }\r\n\r\n    private onScrollChange():void\r\n    {\r\n        let scrollBar = this.panel.vScrollBar;\r\n        if (!scrollBar) return;\r\n        this.panelBottomBg.visible = scrollBar.value < scrollBar.max;\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n\r\n        this.panel.height = SystemContext.gameHeight - this.panel.y - 345;\r\n        this.panelBottomBg.y = this.panel.y + this.panel.height - 97;\r\n        this.desc.y = SystemContext.gameHeight - 296;\r\n        if (this.notBg)\r\n        {\r\n            this.notBg.y = 150 + (SystemContext.gameHeight - 150 - 260 - this.notBg.height + 100 >> 1); //173;\r\n            this.notText.pos(this.notBg.x + 83,this.notBg.y + 155);\r\n        }\r\n        this.dressBtn.pos(77,SystemContext.gameHeight - 259);\r\n        this.rankBtn.pos(291,SystemContext.gameHeight - 259);\r\n        this.downBtn.pos(506,SystemContext.gameHeight - 259);\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        let manager = GameManager.GetInstance();\r\n        manager.off(GameManager.SCORE_CHANGE,this,this.onScoreChange);\r\n        manager.off(GameManager.COLLOCATION_JOIN_SUCC,this,this.onJoinSucc);\r\n        manager = null;\r\n        super.destroy();\r\n    }\r\n}","import SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport GameEventDispatcher from \"../../event/GameEventDispatcher\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport SgsSkeletonEffect from \"../controls/base/SgsSkeletonEffect\";\r\nimport EffectUtils from \"../../utils/EffectUtils\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class MainLoadingView extends SgsSprite\r\n{\r\n    private bg:SgsTexture;\r\n    private descText:SgsText;\r\n    private effect:SgsSkeletonEffect;\r\n\r\n    protected curValue:number = 0;\r\n    protected maxValue:number = 0;\r\n    protected oldValue:number = 0;\r\n    protected tweenPos:number = 0;\r\n    protected tweenProgress:Laya.Tween;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.initChilds();\r\n\r\n        GameEventDispatcher.GetInstance().on(Laya.Event.RESIZE,this,this.onStageResize);\r\n        this.onStageResize();\r\n    }\r\n\r\n    private initChilds():void\r\n    {\r\n        this.bg = new SgsTexture(RES.GetRes(\"mainLoadingBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.descText = new SgsText();\r\n        this.descText.width = SystemContext.gameWidth;\r\n        this.descText.font = FontName.HEITI;\r\n        this.descText.fontSize = 40;\r\n        this.descText.color = \"#A7928A\";\r\n        this.descText.bold = true;\r\n        this.descText.align = \"center\";\r\n        this.addDrawChild(this.descText);\r\n\r\n        this.effect = EffectUtils.GetSkeletonEffect(false,true);\r\n        this.effect.x = SystemContext.gameWidth >> 1;\r\n        this.effect.scale(1,1);\r\n        this.effect.playEffect(\"res/assets/mainLoading/tuzitiao.sk\",0,true);\r\n        this.addChild(this.effect);\r\n    }\r\n\r\n    public ShowProgress(curValue:number,maxValue:number):void\r\n    {\r\n        //先定位到上次进度\r\n        this.clearTweenProgress();\r\n        this.oldValue = this.curValue;\r\n        this.locationProgress(this.curValue,this.maxValue);\r\n\r\n        this.curValue = curValue;\r\n        this.maxValue = maxValue; \r\n        if (this.curValue >= this.maxValue)//已完成\r\n        {\r\n            this.locationProgress(this.curValue,this.maxValue);\r\n        }\r\n        else\r\n        {\r\n            this.startTweenProgress();\r\n        }\r\n    }\r\n\r\n    public ShowError(errorMsg:string):void\r\n    {\r\n        this.descText.text = \"资源加载失败，请刷新...\";\r\n    }\r\n\r\n    public ShowText(msg:string):void\r\n    {\r\n        this.descText.text = msg;\r\n    }\r\n\r\n    public ShowParseConfig():void\r\n    {\r\n       \r\n    }\r\n\r\n    public ResetProgress():void\r\n    {\r\n        \r\n    }\r\n\r\n    private startTweenProgress():void//缓动走进度条\r\n    {\r\n        this.clearTweenProgress();\r\n        this.tweenPos = 0;\r\n        this.tweenProgress = Laya.Tween.to(this,{tweenPos:1},1000,null,Laya.Handler.create(this,this.onTweenComplete));\r\n        this.tweenProgress.update = Laya.Handler.create(this,this.onTweenUpdate,null,false);\r\n    }\r\n\r\n    private clearTweenProgress():void\r\n    {\r\n        if (this.tweenProgress)\r\n        {\r\n            Laya.Tween.clear(this.tweenProgress);\r\n            this.tweenProgress = null;\r\n        }\r\n    }\r\n\r\n    private onTweenUpdate():void\r\n    {\r\n        let value:number = this.oldValue + (this.curValue - this.oldValue) * this.tweenPos;\r\n        this.locationProgress(value,this.maxValue);\r\n    }\r\n\r\n    private onTweenComplete():void\r\n    {\r\n        this.tweenProgress = null;\r\n        this.locationProgress(this.curValue,this.maxValue);\r\n    }\r\n\r\n    private locationProgress(curValue:number,maxValue:number):void\r\n    {\r\n        let ratio:number = curValue / maxValue;\r\n        if (ratio >= 1) ratio = 0.99;\r\n        ratio = Math.floor(ratio * 100);\r\n        this.descText.text = \"加载中：\" + ratio + \"%\";\r\n    }\r\n\r\n    private onStageResize(event:Laya.Event = null):void\r\n    {\r\n        UIUtils.BgAdaptation(this.bg);\r\n\r\n        this.effect.y = SystemContext.gameHeight / 2 + 100;\r\n        this.descText.y = this.effect.y - 350;\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        GameEventDispatcher.GetInstance().off(Laya.Event.RESIZE,this,this.onStageResize);\r\n        this.clearTweenProgress();\r\n        super.destroy();\r\n        RES.ClearResByGroup(\"mainLoading\");\r\n    }\r\n}","\r\nimport SystemContext from \"./../../SystemContext\";\r\nimport RES from \"./../../res/RES\";\r\nimport GameEventDispatcher from \"./../../event/GameEventDispatcher\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsImage from \"../controls/base/SgsImage\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport FontName from \"../../enum/FontName\";\r\n/*\r\n* name;\r\n*/\r\nexport default class LoadingUI extends SgsSprite {\r\n    protected modalBg: Laya.Sprite;\r\n    protected contentSp: SgsSprite;\r\n    protected circle: SgsImage;\r\n    protected txt: SgsText;\r\n\r\n    // private reloadBtn: SgsFlatButton;\r\n\r\n    constructor() \r\n    {\r\n        super();\r\n\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n        this.addDrawClick();\r\n        this.initChilds();\r\n    }\r\n\r\n    private initChilds(): void \r\n    {\r\n        this.contentSp = new SgsSprite();\r\n        this.contentSp.visible = false;\r\n        this.addChild(this.contentSp);\r\n\r\n        this.modalBg = new Laya.Sprite();\r\n        this.modalBg.alpha = 0.6;\r\n        this.contentSp.addChild(this.modalBg);\r\n\r\n        this.circle = new SgsImage();\r\n        this.circle.pivot(37, 37);\r\n        this.circle.pos(this.width / 2,this.height / 2);\r\n        this.circle.source = RES.GetRes(\"loadingCircle\");\r\n        this.contentSp.addChild(this.circle);\r\n\r\n        this.txt = new SgsText();\r\n        this.txt.pos(this.width - this.txt.textWidth >> 1,this.circle.y + 50);\r\n        this.txt.font = FontName.HEITI;\r\n        this.txt.color = \"#ffffff\";\r\n        this.txt.fontSize = 26;\r\n        this.txt.text = \"加载中，请等待...\";\r\n        this.contentSp.addDrawChild(this.txt);\r\n\r\n        GameEventDispatcher.GetInstance().on(Laya.Event.RESIZE, this, this.onStageResize);\r\n        this.onStageResize();\r\n    }\r\n\r\n    public Show(delay:number): void \r\n    {\r\n        //按策划需求，延迟出现加载条\r\n        Laya.timer.clearAll(this);\r\n        this.contentSp.visible = false;\r\n        if (delay <= 0) \r\n            this.playCircle();\r\n        else \r\n            Laya.timer.once(delay, this, this.onDelayShow);\r\n    }\r\n\r\n    public Hide():void\r\n    {\r\n        Laya.timer.clearAll(this);\r\n        this.removeSelf();\r\n    }\r\n\r\n    private playCircle(): void \r\n    {\r\n        Laya.timer.loop(50, this, this.onLoop);\r\n        this.contentSp.visible = true;\r\n    }\r\n\r\n    private onLoop(): void \r\n    {\r\n        this.circle.rotation += 9;\r\n    }\r\n\r\n    public ShowProgress(curValue: number, maxValue: number): void \r\n    {\r\n        //先定位到上次进度\r\n    }\r\n\r\n    public ShowError(errorMsg: string, winName: string = \"\"): void \r\n    {\r\n        // this.winName = winName;\r\n    }\r\n\r\n    private onDelayShow(): void \r\n    {\r\n        this.playCircle();\r\n    }\r\n\r\n    private onStageResize(event: Laya.Event = null):void \r\n    {\r\n        this.size(SystemContext.gameWidth,SystemContext.gameHeight);\r\n        this.modalBg.graphics.clear();\r\n        this.modalBg.graphics.drawRect(0, 0,this.width,this.height, \"#000000\");\r\n        this.circle.pos(this.width / 2,this.height / 2);\r\n        this.txt.pos(this.width - this.txt.textWidth >> 1,this.circle.y + 50);\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        Laya.timer.clearAll(this);\r\n        GameEventDispatcher.GetInstance().off(Laya.Event.RESIZE, this, this.onStageResize);\r\n        super.destroy();\r\n    }\r\n}","\r\nimport LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n\r\n/*\r\n* 弹窗层\r\n*/\r\nexport default class WindowLayer extends LayerBase\r\n{\r\n    constructor()\r\n    {\r\n        super(LayerOrder.WindowLayer);\r\n    }\r\n\r\n    protected static instance:WindowLayer;\r\n\tpublic static GetInstance():WindowLayer\r\n\t{\r\n\t\tif (null == WindowLayer.instance)\r\n\t\t{\r\n\t\t\tWindowLayer.instance = new WindowLayer();\r\n\t\t}\r\n\t\treturn WindowLayer.instance;\r\n\t}\r\n\t\r\n}","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n\r\n/*\r\n* 顶级UI层\r\n*/\r\nexport default class TopUILayer extends LayerBase\r\n{\r\n    constructor()\r\n    {\r\n        super(LayerOrder.TopUILayer);\r\n    }\r\n\r\n    protected static instance:TopUILayer;\r\n\tpublic static GetInstance():TopUILayer\r\n\t{\r\n\t\tif (null == TopUILayer.instance)\r\n\t\t{\r\n\t\t\tTopUILayer.instance = new TopUILayer();\r\n\t\t}\r\n\t\treturn TopUILayer.instance;\r\n\t}\r\n\r\n}","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\n/*\r\n* 场景层\r\n*/\r\nexport default class SceneLayer extends LayerBase\r\n{\r\n    constructor()\r\n    {\r\n        super(LayerOrder.SceneLayer);\r\n    }\r\n\r\n    protected static instance:SceneLayer;\r\n\tpublic static GetInstance():SceneLayer\r\n\t{\r\n\t\tif (null == SceneLayer.instance)\r\n\t\t{\r\n\t\t\tSceneLayer.instance = new SceneLayer();\r\n\t\t}\r\n\t\treturn SceneLayer.instance;\r\n\t}\r\n\r\n}","import LayerBase from \"./LayerBase\";\r\nimport { LayerOrder } from \"../../enum/base/layerOrder\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport TextPromptUI from \"../controls/TextPromptUI\";\r\n\r\n/*\r\n* 提示信息层\r\n*/\r\nexport default class PromptLayer extends LayerBase\r\n{\r\n\tprivate textPromptUIs:Array<TextPromptUI>;//文字提示UI数组\r\n\tprivate textPromptPool:Array<TextPromptUI>;//问题提示UI对象池\r\n\tprivate textPromptGap:number = 3;//文字提示UI垂直间距\r\n\t\r\n    constructor()\r\n    {\r\n        super(LayerOrder.PromptLayer);\r\n\r\n\t\tthis.textPromptUIs = [];\r\n\t\tthis.textPromptPool = [];\r\n    }\r\n\r\n    protected static instance:PromptLayer;\r\n\tpublic static GetInstance():PromptLayer\r\n\t{\r\n\t\tif (null == PromptLayer.instance)\r\n\t\t{\r\n\t\t\tPromptLayer.instance = new PromptLayer();\r\n\t\t}\r\n\t\treturn PromptLayer.instance;\r\n\t}\t\r\n\r\n\tpublic ShowTextPrompt(msg:string, time:number = 3000):void\r\n\t{\r\n\t\tlet textPromptUI:TextPromptUI;\r\n\t\tlet startY:number = 0;//提示y坐标\r\n\t\tlet length:number = this.textPromptUIs.length;\r\n\t\tif (length > 0)\r\n\t\t{\r\n\t\t\ttextPromptUI = this.textPromptUIs[length - 1];\r\n\t\t\tstartY = textPromptUI.y + textPromptUI.height + this.textPromptGap;\r\n\t\t\tif (length >= 3)//超过3条\r\n\t\t\t{\r\n\t\t\t\ttextPromptUI = this.textPromptUIs.shift();\r\n\t\t\t\ttextPromptUI.Clear();\r\n\t\t\t\tthis.textPromptPool.push(textPromptUI);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.textPromptPool.length)\r\n\t\t\ttextPromptUI = this.textPromptPool.shift();\r\n\t\telse\r\n\t\t\ttextPromptUI = new TextPromptUI();\r\n\t\ttextPromptUI.HideComplete = this.textPromptComplete.bind(this);\r\n\t\ttextPromptUI.Show(msg,time);\r\n\t\ttextPromptUI.x = SystemContext.gameWidth - textPromptUI.width >> 1;\r\n\t\ttextPromptUI.y = length > 0 ? startY : SystemContext.gameHeight - textPromptUI.height >> 1;\r\n\t\tthis.textPromptUIs.push(textPromptUI);\r\n\r\n\t\tthis.layoutTextPrompt();\r\n\t}\r\n\r\n\tpublic ClearTextPrompt():void\r\n\t{\r\n\t\tif (!this.textPromptUIs) return;\r\n\t\tlet textPromptUI:TextPromptUI;\r\n\t\twhile(this.textPromptUIs.length)\r\n\t\t{\r\n\t\t\ttextPromptUI = this.textPromptUIs.pop();\r\n\t\t\tif(textPromptUI)\r\n\t\t\t{\r\n\t\t\t\ttextPromptUI.Clear();\r\n\t\t\t\tthis.textPromptPool.push(textPromptUI);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate textPromptComplete(textPromptUI:TextPromptUI):void\r\n\t{\r\n\t\tif (!textPromptUI || !this.textPromptUIs) return;\r\n\t\tlet index:number = this.textPromptUIs.indexOf(textPromptUI);\r\n\t\tif (index != -1)\r\n\t\t{\r\n\t\t\tthis.textPromptUIs.splice(index,1);\r\n\t\t\ttextPromptUI.Clear();\r\n\t\t\tthis.textPromptPool.push(textPromptUI);\r\n\t\t\tthis.layoutTextPrompt();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate layoutTextPrompt():void\r\n\t{\r\n\t\tif (!this.textPromptUIs || this.textPromptUIs.length <= 0) return;\r\n\t\tlet totalHeight:number = 0;\r\n\t\tthis.textPromptUIs.forEach((textPromptUI:TextPromptUI)=>{\r\n\t\t\ttotalHeight += textPromptUI.height;\r\n\t\t});\r\n\t\ttotalHeight += (this.textPromptUIs.length - 1) * this.textPromptGap;\r\n\t\tlet startY:number = SystemContext.gameHeight - totalHeight >> 1;\r\n\t\tthis.textPromptUIs.forEach((textPromptUI:TextPromptUI)=>{\r\n\t\t\ttextPromptUI.x = SystemContext.gameWidth - textPromptUI.width >> 1;\r\n\t\t\ttextPromptUI.UpMove(startY);\r\n\t\t\tstartY += textPromptUI.height + this.textPromptGap;\r\n\t\t}); \r\n\t}\r\n}","import Global from \"../../Global\";\r\nimport SceneManager from \"../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SceneBase from \"../base/SceneBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\n\r\n//首页\r\nexport default class HomeScene extends SceneBase\r\n{\r\n    private bg:SgsTexture;\r\n    private title:SgsTexture;\r\n    private desc:SgsTexture;\r\n    // private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private startBtn:SgsFlatButton;\r\n    private myDressBtn:SgsFlatButton;\r\n    private shareBtn:SgsFlatButton;    \r\n    private rankBtn:SgsFlatButton;    \r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        if (Global.AutoClearRes)\r\n            this.resNames = [\"homeScene\"];\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"homeSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.title = new SgsTexture(RES.GetRes(\"homeLogo\"));\r\n        this.title.pos(0,0);\r\n        this.addDrawChild(this.title);\r\n\r\n        this.desc = new SgsTexture(RES.GetRes(\"homeText\"));\r\n        this.desc.pos(58,790);\r\n        this.addDrawChild(this.desc);\r\n\r\n        this.startBtn = new SgsFlatButton();\r\n        this.startBtn.InitSkin(\"homeStartBtn\");\r\n        this.startBtn.on(Laya.Event.CLICK,this,this.onStartHandler);\r\n        this.addDrawChild(this.startBtn);\r\n\r\n        // this.homeBtn = new SgsFlatButton();\r\n        // this.homeBtn.pos(645,31);\r\n        // this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        // this.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        // this.soundBtn.pos(645,135);\r\n        this.soundBtn.pos(645,31);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.addDrawChild(this.soundBtn);\r\n\r\n        this.myDressBtn = new SgsFlatButton();\r\n        this.myDressBtn.InitSkin(\"baseMyDressBtn1\");\r\n        this.myDressBtn.on(Laya.Event.CLICK,this,this.onMyDressHandler);\r\n        this.addDrawChild(this.myDressBtn);\r\n\r\n        this.shareBtn = new SgsFlatButton();\r\n        this.shareBtn.InitSkin(\"baseShareBtn1\");\r\n        this.shareBtn.on(Laya.Event.CLICK,this,this.onShareHandler);\r\n        this.addDrawChild(this.shareBtn);\r\n\r\n        this.rankBtn = new SgsFlatButton();\r\n        this.rankBtn.InitSkin(\"baseRankBtn1\");\r\n        this.rankBtn.on(Laya.Event.CLICK,this,this.onRankHandler);\r\n        this.addDrawChild(this.rankBtn);\r\n\r\n        this.onStageResize();\r\n    }\r\n\r\n    private onStartHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"DressScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onMyDressHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"MyDressScene\");\r\n    }\r\n\r\n    private onShareHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"SharePromptWindow\");\r\n    }\r\n\r\n    private onRankHandler():void\r\n    {\r\n        SceneManager.GetInstance().EnterScene(\"RankScene\");\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n        this.desc.pos(58, SystemContext.gameHeight * 790 / SystemContext.designHeight);\r\n\r\n        this.startBtn.pos(211,SystemContext.gameHeight - 91 - 265);\r\n        this.myDressBtn.pos(77,SystemContext.gameHeight - 259);\r\n        this.shareBtn.pos(291,SystemContext.gameHeight - 259);\r\n        this.rankBtn.pos(506,SystemContext.gameHeight - 259);\r\n\r\n        if (this.desc.y + this.desc.height + 20 >= this.startBtn.y)\r\n            this.desc.y = this.startBtn.y - this.desc.height - 20;\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport DressType from \"../../enum/DressType\";\r\nimport FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport SceneManager from \"../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SceneBase from \"../base/SceneBase\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsSpriteButton from \"../controls/base/SgsSpriteButton\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsTabButtonGroup from \"../controls/SgsTabButtonGroup\";\r\nimport CollocationDressAvatar from \"./CollocationDressAvatar\";\r\nimport DressBottomView from \"./DressBottomView\";\r\nimport DressColorTabFlatButton from \"./DressColorTabFlatButton\";\r\n\r\n//搭配\r\nexport default class DressScene extends SceneBase\r\n{\r\n    private bg:SgsTexture;\r\n    private light:SgsTexture;\r\n    private dressAvatar:CollocationDressAvatar;\r\n    private topSp:SgsSprite;\r\n    private downBtn:SgsFlatButton;\r\n    private ruleBtn:SgsFlatButton;\r\n    private homeBtn:SgsFlatButton;\r\n    private soundBtn:SgsFlatButton;\r\n    private shareBtn:SgsFlatButton;    \r\n    private myDressBtn:SgsFlatButton;    \r\n    private rankBtn:SgsFlatButton;\r\n    private dressIngFlag:SgsTexture;\r\n    private changeSkinText:SgsText;\r\n    private saveBtn:SgsSpriteButton;\r\n    private skinColorTabGroup:SgsTabButtonGroup;\r\n    private bottomView:DressBottomView;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        if (Global.AutoClearRes)\r\n            this.resNames = [\"dressScene\"];\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.bg = new SgsTexture(RES.GetRes(\"dressSceneBg_image\"));\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.light = new SgsTexture(RES.GetRes(\"dressLight\"));\r\n        this.addDrawChild(this.light);\r\n\r\n        this.dressAvatar = new CollocationDressAvatar();\r\n        this.addChild(this.dressAvatar);\r\n\r\n        this.topSp = new SgsSprite();\r\n        this.topSp.size(this.width,this.height);\r\n        this.topSp.addDrawClick();\r\n        this.addChild(this.topSp);\r\n\r\n        this.downBtn = new SgsFlatButton();\r\n        this.downBtn.pos(0,29);\r\n        this.downBtn.InitSkin(\"baseDownBtn\");\r\n        this.downBtn.on(Laya.Event.CLICK,this,this.onDownLoadHandler);\r\n        this.topSp.addDrawChild(this.downBtn);\r\n\r\n        this.ruleBtn = new SgsFlatButton();\r\n        this.ruleBtn.pos(0,133);\r\n        this.ruleBtn.InitSkin(\"baseRuleBtn\");\r\n        this.ruleBtn.on(Laya.Event.CLICK,this,this.onRuleHandler);\r\n        this.topSp.addDrawChild(this.ruleBtn);\r\n\r\n        this.homeBtn = new SgsFlatButton();\r\n        this.homeBtn.pos(647,29);\r\n        this.homeBtn.InitSkin(\"baseHomeBtn\");\r\n        this.homeBtn.on(Laya.Event.CLICK,this,this.onHomeHandler);\r\n        this.topSp.addDrawChild(this.homeBtn);\r\n\r\n        this.soundBtn = new SgsFlatButton();\r\n        this.soundBtn.pos(647,133);\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n        this.soundBtn.on(Laya.Event.CLICK,this,this.onSoundHandler);\r\n        this.topSp.addDrawChild(this.soundBtn);\r\n\r\n        this.shareBtn = new SgsFlatButton();\r\n        this.shareBtn.pos(647,237);\r\n        this.shareBtn.InitSkin(\"baseShareBtn\");\r\n        this.shareBtn.on(Laya.Event.CLICK,this,this.onShareHandler);\r\n        this.topSp.addDrawChild(this.shareBtn);\r\n\r\n        this.myDressBtn = new SgsFlatButton();\r\n        this.myDressBtn.pos(647,341);\r\n        this.myDressBtn.InitSkin(\"baseMyDressBtn\");\r\n        this.myDressBtn.on(Laya.Event.CLICK,this,this.onMyDressHandler);\r\n        this.topSp.addDrawChild(this.myDressBtn);\r\n\r\n        this.rankBtn = new SgsFlatButton();\r\n        this.rankBtn.pos(647,445);\r\n        this.rankBtn.InitSkin(\"baseRankBtn\");\r\n        this.rankBtn.on(Laya.Event.CLICK,this,this.onRankHandler);\r\n        this.topSp.addDrawChild(this.rankBtn);\r\n\r\n        this.dressIngFlag = new SgsTexture(RES.GetRes(\"dressIngFlag\"));\r\n        this.dressIngFlag.pos(150,435);\r\n        this.dressIngFlag.visible = false;\r\n        this.topSp.addDrawChild(this.dressIngFlag);\r\n        this.dressAvatar.SetDressIngFlag(this.dressIngFlag);\r\n\r\n        this.changeSkinText = new SgsText();\r\n        this.changeSkinText.pos(560,110);\r\n        this.changeSkinText.width = 26;\r\n        this.changeSkinText.font = FontName.HEITI;\r\n        this.changeSkinText.color = \"#A4AF9F\";\r\n        this.changeSkinText.fontSize = 27;\r\n        this.changeSkinText.leading = 5;\r\n        this.changeSkinText.wordWrap = true;\r\n        this.changeSkinText.text = \"切换肤色\";\r\n        this.topSp.addDrawChild(this.changeSkinText);\r\n\r\n        this.skinColorTabGroup = new SgsTabButtonGroup([{label:\"\",value:1},{label:\"\",value:2},{label:\"\",value:3}],1,true,-18,DressColorTabFlatButton);\r\n        this.skinColorTabGroup.pos(442,63);\r\n        this.skinColorTabGroup.on(SgsTabButtonGroup.TAP_CLICKED,this,this.onSkinColorTabClick);\r\n        this.addChild(this.skinColorTabGroup);\r\n\r\n        this.bottomView = new DressBottomView();\r\n        this.bottomView.on(\"changeDress\",this,this.onChangeDress);\r\n        this.bottomView.on(\"delDress\",this,this.onDelDress);\r\n        this.bottomView.on(\"openCloseEvent\",this,this.onOpenCloseHandler);\r\n        this.addChild(this.bottomView);\r\n\r\n        this.saveBtn = new SgsSpriteButton();\r\n        this.saveBtn.pos(227,820);\r\n        if (GameManager.GetInstance().IsCollocationMaxed)\r\n            this.saveBtn.InitSkin(\"dressMaxedBtn\",\"dressMaxedBtn\",\"dressMaxedBtn\",\"dressMaxedBtn\");\r\n        else\r\n            this.saveBtn.InitSkin(\"dressSaveBtn\",\"dressSaveBtn\",\"dressSaveBtn\",\"dressSaveBtnDisable\");\r\n        this.saveBtn.enabled = false;\r\n        this.saveBtn.on(Laya.Event.CLICK,this,this.onSaveHandler);\r\n        this.addChild(this.saveBtn);\r\n\r\n        this.dressAvatar.UpdateAll(1,DressConfiger.GetInstance().DefaultDressIDs);\r\n        this.skinColorTabGroup.SelectedValue = 1;\r\n\r\n        this.onStageResize();\r\n\r\n        GameManager.GetInstance().on(GameManager.COLLOCATION_SAVE_SUCC,this,this.onSaveSucc);\r\n    }\r\n\r\n    private onSaveSucc(data:any):void\r\n    {\r\n        UIUtils.ShowTextPrompt(\"保存成功\");\r\n        if (data)\r\n\t\t    SceneManager.GetInstance().EnterScene(\"DressSaveScene\",data);\r\n    }\r\n\r\n    private onDownLoadHandler():void\r\n    {\r\n        Global.DownLoadGame();\r\n    }\r\n\r\n    private onRuleHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"RuleWindow\");\r\n    }\r\n\r\n    private onHomeHandler():void\r\n    {\r\n        this.checkChangeScene(\"HomeScene\");\r\n    }\r\n\r\n    private onSoundHandler():void\r\n    {\r\n        SgsSoundManager.GetInstance().ChangeBgmState();\r\n        this.soundBtn.InitSkin(!SgsSoundManager.GetInstance().IsBgmStop ? \"baseSoundBtn\" : \"baseSoundCloseBtn\");\r\n    }\r\n\r\n    private onShareHandler():void\r\n    {\r\n        WindowManager.GetInstance().OpenWindow(\"SharePromptWindow\");\r\n    }\r\n\r\n    private onMyDressHandler():void\r\n    {\r\n        this.checkChangeScene(\"MyDressScene\");\r\n    }\r\n\r\n    private onRankHandler():void\r\n    {\r\n        this.checkChangeScene(\"RankScene\");\r\n    }\r\n\r\n    private onSkinColorTabClick(value:number):void//切换肤色\r\n    {\r\n        this.dressAvatar.UpdateModel(value);\r\n    }\r\n\r\n    private onChangeDress(dressVo:DressVO):void//选择搭配\r\n    {\r\n        if (!dressVo || this.dressAvatar.IsDressIng) return;\r\n        if (dressVo.DressID == 0)//还原本类型装扮成默认装扮\r\n        {\r\n            this.dressAvatar.RecoveryDefaultByType(dressVo.DressType);\r\n        }\r\n        else if (dressVo.DressType == DressType.DESSuit)//选择套装：脱掉上衣、下衣,穿上套装\r\n        {\r\n            this.dressAvatar.ReplaceDress(dressVo.DressID);//新资源加载完后，才可换掉\r\n        }\r\n        else\r\n        {\r\n            this.dressAvatar.ReplaceDress(dressVo.DressID);//新资源加载完后，才可换掉\r\n        }\r\n        this.updateSaveBtnState();\r\n    }\r\n\r\n    private onDelDress():void//清除\r\n    {\r\n        if (this.dressAvatar.IsDressIng) return;\r\n        if (this.saveBtn.enabled)//可以保存：表示非默认搭配\r\n            UIUtils.OpenPromptWin(\"\",\"主人，您是否要清空当前所有装扮？\",100,Laya.Handler.create(this,this.onConfirmDel));\r\n        // else\r\n        //     this.dressAvatar.UpdateAll(1,DressConfiger.GetInstance().DefaultDressIDs);\r\n    }\r\n\r\n    private onConfirmDel():void\r\n    {\r\n        this.dressAvatar.UpdateAll(1,DressConfiger.GetInstance().DefaultDressIDs);\r\n        this.updateSaveBtnState();\r\n    }\r\n\r\n    // private saveTime:number = 0;\r\n    private onSaveHandler():void//立即保存\r\n    {\r\n        // let curTime:number = Laya.Browser.now();\r\n        // if (curTime - this.saveTime < Global.OperationFastTime)\r\n        //     return;\r\n        // this.saveTime = curTime;\r\n        // GameManager.GetInstance().CollocationSave(this.skinColorTabGroup.SelectedValue,this.dressAvatar.DressIDs);\r\n        UIUtils.OpenPromptWin(\"\",\"*主人~是否保存该搭配？<br>（保存后无法修改和删除，并且最多保存99条）\",40,Laya.Handler.create(this,this.onConfirmCompete));\r\n    }\r\n\r\n    protected onConfirmCompete():void\r\n    {\r\n        if (this.destroyed) return;\r\n        GameManager.GetInstance().CollocationSave(this.skinColorTabGroup.SelectedValue,this.dressAvatar.DressIDs);\r\n    }\r\n\r\n    private updateSaveBtnState():void//非默认搭配才可保存\r\n    {\r\n        if (GameManager.GetInstance().IsCollocationMaxed) \r\n        {\r\n            this.saveBtn.enabled = false;\r\n            return;//已达上限\r\n        }\r\n        let defaultDressIDs = DressConfiger.GetInstance().DefaultDressIDs;\r\n        let curDressIDs = this.dressAvatar.DressIDs;\r\n        let isEqual:boolean = true;\r\n        if ((!defaultDressIDs && curDressIDs) || (defaultDressIDs && !curDressIDs) || defaultDressIDs.length != curDressIDs.length)\r\n            isEqual = false;\r\n        else\r\n        {\r\n            for (let i:number = 0; i < defaultDressIDs.length; i++)\r\n            {\r\n                if (curDressIDs.indexOf(defaultDressIDs[i]) == -1)\r\n                {\r\n                    isEqual = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        this.saveBtn.enabled = !isEqual;\r\n    }\r\n\r\n    private checkChangeScene(sceneName:string):void//检查切换场景\r\n    {\r\n        if (this.saveBtn.enabled)//可以保存：表示非默认搭配\r\n        {\r\n            UIUtils.OpenPromptWin(\"\",\"主人，切换界面将不会保存当前换装，是否前往该界面？\",0,Laya.Handler.create(this,function(){\r\n                SceneManager.GetInstance().EnterScene(sceneName);\r\n            }));\r\n        }\r\n        else\r\n            SceneManager.GetInstance().EnterScene(sceneName);\r\n    }\r\n\r\n    private onOpenCloseHandler(isOpen:boolean):void//打开关闭事件\r\n    {\r\n        Laya.Tween.clearAll(this.dressAvatar);\r\n        Laya.Tween.clearAll(this.light);\r\n        let gameWidth = SystemContext.gameWidth;\r\n        let gameHeight = SystemContext.gameHeight;\r\n        if (isOpen)//打开\r\n        {\r\n            Laya.Tween.to(this.dressAvatar,{scaleX:0.72,scaleY:0.72,x:(gameWidth - this.dressAvatar.width * 0.72 >> 1) + Global.ModelOffsetX * 0.72,y:102},200);\r\n            Laya.Tween.to(this.light,{y:374},200,null,Laya.Handler.create(this,this.onBottomOpenComplete));\r\n        }\r\n        else//关闭\r\n        {\r\n            //适配规则：最大放大到1，如人物距顶部小于80则计算可以放大的比例\r\n            //103 为底部关闭后的高度\r\n            //34 为人物脚与底部的预留高度\r\n            let offsetY = this.dressAvatar.OffsetY;\r\n            let offsetHeight = this.dressAvatar.OffsetHeight;\r\n            let dressScale = 1;\r\n            let dressAcatarY = (gameHeight - 103 - 34 - this.dressAvatar.height >> 1) - (offsetY + offsetHeight >> 1);\r\n            if (dressAcatarY + offsetY < 80)\r\n            {\r\n                dressAcatarY = 80 - offsetY;\r\n                dressScale = (gameHeight - 103 - 34 - dressAcatarY * 2) / this.dressAvatar.height;\r\n            }\r\n            Laya.Tween.to(this.dressAvatar,{scaleX:dressScale,scaleY:dressScale,x:(gameWidth - this.dressAvatar.width * dressScale >> 1) + Global.ModelOffsetX * dressScale,y:dressAcatarY},200);\r\n            Laya.Tween.to(this.light,{y:dressAcatarY + this.dressAvatar.height * dressScale - 404},200);\r\n            this.saveBtn.visible = this.skinColorTabGroup.visible = this.changeSkinText.visible = false;\r\n        }\r\n    }\r\n\r\n    private onBottomOpenComplete():void//底部打开结束\r\n    {\r\n        this.saveBtn.visible = this.skinColorTabGroup.visible = this.changeSkinText.visible = true;\r\n    }\r\n\r\n    protected onStageResize(event:Laya.Event = null):void//舞台尺寸变化\r\n\t{\r\n        super.onStageResize(event);\r\n\r\n        UIUtils.BgAdaptation(this.bg);\r\n        this.bottomView.StageResize();\r\n        Laya.Tween.clearAll(this.dressAvatar);\r\n        Laya.Tween.clearAll(this.light);\r\n        let gameWidth = SystemContext.gameWidth;\r\n        let gameHeight = SystemContext.gameHeight;\r\n        if (this.bottomView.IsOpen)//打开状态\r\n        {\r\n            this.dressAvatar.pos((gameWidth - this.dressAvatar.width * 0.72 >> 1) + Global.ModelOffsetX * 0.72,102);\r\n            this.dressAvatar.scale(0.72,0.72);\r\n            this.light.pos(134,374);\r\n            this.saveBtn.visible = this.skinColorTabGroup.visible = true;\r\n        }\r\n        else\r\n        {\r\n            let offsetY = this.dressAvatar.OffsetY;\r\n            let offsetHeight = this.dressAvatar.OffsetHeight;\r\n            let dressScale = 1;\r\n            let dressAcatarY = (gameHeight - 103 - 34 - this.dressAvatar.height >> 1) - (offsetY + offsetHeight >> 1);\r\n            if (dressAcatarY + offsetY < 80)\r\n            {\r\n                dressAcatarY = 80 - offsetY;\r\n                dressScale = (gameHeight - 103 - 34 - dressAcatarY * 2) / this.dressAvatar.height;\r\n            }\r\n            this.dressAvatar.pos((gameWidth - this.dressAvatar.width * dressScale >> 1) + Global.ModelOffsetX * dressScale,dressAcatarY);\r\n            this.dressAvatar.scale(dressScale,dressScale);\r\n            this.light.pos(134,dressAcatarY + this.dressAvatar.height * dressScale - 404);\r\n        }\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        Laya.Tween.clearAll(this.dressAvatar);\r\n        Laya.Tween.clearAll(this.light);\r\n        GameManager.GetInstance().off(GameManager.COLLOCATION_SAVE_SUCC,this,this.onSaveSucc);\r\n        super.destroy();\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport LayoutEnum from \"../../enum/base/LayoutEnum\";\r\nimport RES from \"../../res/RES\";\r\nimport SystemContext from \"../../SystemContext\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsImage from \"../controls/base/SgsImage\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsFlatPanel from \"../controls/SgsFlatPanel\";\r\nimport SgsTabButtonGroup from \"../controls/SgsTabButtonGroup\";\r\nimport DressPanelFlatItem from \"./DressPanelFlatItem\";\r\nimport DressTabFlatButton from \"./DressTabFlatButton\";\r\nimport DressTabPanel from \"./DressTabPanel\";\r\n\r\n\r\n//装扮\r\nexport default class DressBottomView extends SgsSprite\r\n{\r\n    private openBtn:SgsFlatButton;\r\n    private closeBtn:SgsFlatButton;\r\n    private delBtn:SgsFlatButton;\r\n    private leftBtn:SgsFlatButton;\r\n    private rightBtn:SgsFlatButton;\r\n    private tabPanel:DressTabPanel;\r\n    private tabGroup:SgsTabButtonGroup;\r\n    private dressBg:SgsTexture;\r\n    private dressPanel:SgsFlatPanel;\r\n    private dressRightBg:SgsImage;\r\n\r\n    private tabList:Array<any> = [{label:\"\",value:1},{label:\"\",value:2},{label:\"\",value:3},{label:\"\",value:4},\r\n                                {label:\"\",value:5},{label:\"\",value:6},{label:\"\",value:7},{label:\"\",value:8}];\r\n    private resetDressVo:DressVO;\r\n    private openHeight:number = 0;//打开时的高度：根据屏幕计算\r\n    private isOpen:boolean = true;//是否打开状态\r\n    private openCloseIng:boolean = false;//打开关闭效果中\r\n    private panelMaxHeight:number = 132 * 4 + (10 * 3);//最多显示四行\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.width = SystemContext.gameWidth;\r\n        this.addDrawClick();\r\n        this.initChilds();\r\n    }\r\n\r\n    private initChilds():void\r\n    {\r\n        this.dressBg = new SgsTexture(RES.GetRes(\"dressPanelBg\"));\r\n        this.dressBg.pos(0,103);\r\n        this.dressBg.sizeGrid = \"30,127,140,52\";\r\n        this.dressBg.width = SystemContext.gameWidth;\r\n        this.addDrawChild(this.dressBg);\r\n\r\n        this.openBtn = new SgsFlatButton();\r\n        this.openBtn.pos(29,0);\r\n        this.openBtn.InitSkin(\"dressUpBtn\");\r\n        this.openBtn.visible = !this.isOpen;\r\n        this.openBtn.on(Laya.Event.CLICK,this,this.onOpenHandler);\r\n        this.addDrawChild(this.openBtn);\r\n\r\n        this.closeBtn = new SgsFlatButton();\r\n        this.closeBtn.pos(29,0);\r\n        this.closeBtn.InitSkin(\"dressDownBtn\");\r\n        this.closeBtn.visible = this.isOpen;\r\n        this.closeBtn.on(Laya.Event.CLICK,this,this.onCloseHandler);\r\n        this.addDrawChild(this.closeBtn);\r\n\r\n        this.delBtn = new SgsFlatButton();\r\n        this.delBtn.pos(647,0);\r\n        this.delBtn.InitSkin(\"dressDelBtn\");\r\n        this.delBtn.on(Laya.Event.CLICK,this,this.onDelHandler);\r\n        this.addDrawChild(this.delBtn);\r\n\r\n        this.leftBtn = new SgsFlatButton();\r\n        this.leftBtn.pos(0,103);\r\n        this.leftBtn.InitSkin(\"dressLeftBtn\",\"dressLeftBtn\",\"dressLeftBtn\",\"dressLeftBtnDisable\");\r\n        this.leftBtn.on(Laya.Event.CLICK,this,this.onLeftHandler);\r\n        this.addDrawChild(this.leftBtn);\r\n\r\n        this.rightBtn = new SgsFlatButton();\r\n        this.rightBtn.pos(705,103);\r\n        this.rightBtn.InitSkin(\"dressRightBtn\",\"dressRightBtn\",\"dressRightBtn\",\"dressRightBtnDisable\");\r\n        this.rightBtn.on(Laya.Event.CLICK,this,this.onRightHandler);\r\n        this.addDrawChild(this.rightBtn);\r\n\r\n        this.tabPanel = new DressTabPanel();\r\n        this.tabPanel.pos(49,103);\r\n        this.tabPanel.size(652,75);\r\n        this.tabPanel.hScrollBarSkin = \"\";\r\n        this.tabPanel.on(\"scrollChange\",this,this.onScrollChange);\r\n        this.addChild(this.tabPanel);\r\n\r\n        this.tabGroup = new SgsTabButtonGroup(this.tabList,1,false,4,DressTabFlatButton);\r\n        this.tabGroup.on(SgsTabButtonGroup.TAP_CLICKED,this,this.onTabClick);\r\n        this.tabPanel.addChild(this.tabGroup);\r\n\r\n        this.dressPanel = new SgsFlatPanel(DressPanelFlatItem,1,-1);\r\n        this.dressPanel.pos(30,this.dressBg.y + 86);\r\n        this.dressPanel.width = SystemContext.gameWidth - 36;\r\n        this.dressPanel.vScrollBarSkin = RES.GetAtlasUrl(\"whiteVscroll\");\r\n        this.dressPanel.SetLayout(LayoutEnum.TileLayout, 10, 7, 5);\r\n        this.dressPanel.on(SgsFlatPanel.ITEM_CLICK,this,this.onItemClick);\r\n        this.addChild(this.dressPanel);\r\n\r\n        this.dressRightBg = new SgsImage();\r\n        this.dressRightBg.x = 585;\r\n        this.dressRightBg.source = RES.GetRes(\"dressPanelRightBg\");\r\n        this.addChild(this.dressRightBg);\r\n\r\n        this.tabGroup.SelectedValue = 1;\r\n    }\r\n\r\n    public get IsOpen():boolean\r\n    {\r\n        return this.isOpen;\r\n    }\r\n\r\n    public StageResize():void\r\n    {\r\n        if (this.openCloseIng)//正在打开关闭中\r\n        {\r\n            Laya.Tween.clearAll(this);\r\n            this.openCloseIng = false;\r\n        }   \r\n        let maxHeight:number = this.dressBg.y + 86 + this.panelMaxHeight + 40;//最大高度：panel起点+panel最大高度(最多显示四行)+panel距底部距离\r\n        let height:number = SystemContext.gameHeight - 840;//屏幕上方至少预留800高度\r\n        if (height > maxHeight) height = maxHeight;\r\n        this.openHeight = height;\r\n        this.dressBg.height = height - this.dressBg.y;\r\n        this.dressPanel.height = this.dressBg.height - 86 - 40;\r\n        this.dressRightBg.y = this.dressPanel.y + this.dressPanel.height - 26;\r\n        if (this.isOpen)//打开状态：立即改变高度\r\n        {\r\n            this.height = height;\r\n        }\r\n        this.y = SystemContext.gameHeight - this.height;\r\n    }\r\n\r\n    private onOpenHandler():void//打开\r\n    {\r\n        if (this.openCloseIng) return;\r\n        this.openCloseIng = true;\r\n        this.isOpen = true;\r\n        this.openBtn.visible = !this.isOpen;\r\n        this.closeBtn.visible = this.isOpen;\r\n        this.leftBtn.visible = this.rightBtn.visible = this.tabPanel.visible = this.dressPanel.visible = true;\r\n        this.height = this.openHeight;\r\n        Laya.Tween.to(this,{y:SystemContext.gameHeight - this.height},200,null,Laya.Handler.create(this,this.onOpenCloseComplete));\r\n        this.event(\"openCloseEvent\",this.isOpen);\r\n    }\r\n\r\n    private onCloseHandler():void//关闭\r\n    {\r\n        if (this.openCloseIng) return;\r\n        this.openCloseIng = true;\r\n        this.isOpen = false;\r\n        this.openBtn.visible = !this.isOpen;\r\n        this.closeBtn.visible = this.isOpen;\r\n        this.height = this.tabPanel.y;\r\n        Laya.Tween.to(this,{y:SystemContext.gameHeight - this.height},200,null,Laya.Handler.create(this,this.onOpenCloseComplete));\r\n        this.event(\"openCloseEvent\",this.isOpen);\r\n    }\r\n\r\n    private onOpenCloseComplete():void\r\n    {\r\n        this.openCloseIng = false;\r\n        if (!this.isOpen)//关闭结束：掩藏超出屏幕的UI\r\n            this.leftBtn.visible = this.rightBtn.visible = this.tabPanel.visible = this.dressPanel.visible = false;\r\n    }\r\n\r\n    private onLeftHandler():void\r\n    {\r\n        this.tabPanel.scrollTo(this.tabPanel.hScrollBar.value - 164,0);\r\n    }\r\n\r\n    private onRightHandler():void\r\n    {\r\n        this.tabPanel.scrollTo(this.tabPanel.hScrollBar.value + 164,0);\r\n    }\r\n\r\n    private onTabClick():void//切换分类\r\n    {\r\n        let list:Array<DressVO> = [];\r\n        if (!this.resetDressVo)\r\n        {\r\n            this.resetDressVo = new DressVO();\r\n            this.resetDressVo.DressID = 0;\r\n        }\r\n        this.resetDressVo.DressType = this.tabGroup.SelectedValue;\r\n        list.push(this.resetDressVo);\r\n        let config = DressConfiger.GetInstance();\r\n        let dressVos = config.GetDresssByDressType(this.tabGroup.SelectedValue);\r\n        this.dressPanel.scrollTo(0,0);\r\n        if (dressVos && dressVos.length > 0)\r\n        {\r\n            let defaultDressIDs = config.DefaultDressIDs;\r\n            dressVos.forEach(dressVo => {\r\n                if (!defaultDressIDs || defaultDressIDs.indexOf(dressVo.DressID) == -1)//过滤默认搭配\r\n                    list.push(dressVo);\r\n            });\r\n            this.dressPanel.DataProvider = list;\r\n        }\r\n        else\r\n            this.dressPanel.DataProvider = [this.resetDressVo];\r\n    }\r\n\r\n    private onItemClick(index:number,data:DressVO,itemUI:DressPanelFlatItem):void//选中部件\r\n    {\r\n        this.event(\"changeDress\",data);\r\n    }\r\n\r\n    private onDelHandler():void//清空搭配\r\n    {\r\n        this.event(\"delDress\");\r\n    }\r\n\r\n    private onScrollChange():void\r\n    {\r\n        this.updateLeftRightBtn();\r\n    }\r\n\r\n    private updateLeftRightBtn():void\r\n    {\r\n        this.leftBtn.enabled = this.tabPanel.hScrollBar.value > 0;\r\n        this.rightBtn.enabled = this.tabPanel.hScrollBar.value < this.tabPanel.hScrollBar.max; \r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        Laya.Tween.clearAll(this);\r\n        super.destroy();\r\n        this.resetDressVo = null;\r\n    }\r\n}","import DressPartVO from \"../../vo/DressPartVO\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SgsFlatImage from \"../controls/base/SgsFlatImage\";\r\n\r\n\r\n//装扮形象部件\r\nexport default class DressAvatarPartUI extends SgsFlatImage\r\n{\r\n    protected dressVo:DressVO;\r\n    protected dressPartVo:DressPartVO;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public get DressVO():DressVO\r\n    {\r\n        return this.dressVo;\r\n    }\r\n\r\n    public get DressPartVO():DressPartVO\r\n    {\r\n        return this.dressPartVo;\r\n    }\r\n\r\n    public get DressID():number\r\n    {\r\n        return this.dressVo ? this.dressVo.DressID : 0;\r\n    }\r\n\r\n    public get DressType():number\r\n    {\r\n        return this.dressVo ? this.dressVo.DressType : 0;\r\n    }\r\n\r\n    public get Layer():number\r\n    {\r\n        return this.dressPartVo ? this.dressPartVo.Layer : 0;\r\n    }\r\n\r\n    public get IsLoaded():boolean\r\n    {\r\n        if (!this._skin) return false;\r\n        return this.texture && this.texture.url == this._skin ? true : false;\r\n    }\r\n\r\n    public SetItemData(dressVo:DressVO,dressPartVo:DressPartVO):void\r\n    {\r\n        this.dressVo = dressVo;\r\n        this.dressPartVo = dressPartVo;\r\n        if (!dressPartVo)\r\n        {\r\n            this.skin = \"\";\r\n            return;\r\n        }\r\n        if (dressPartVo.PartPos && dressPartVo.PartPos.length >= 2)\r\n            this.pos(dressPartVo.PartPos[0],dressPartVo.PartPos[1]);\r\n        else\r\n            this.pos(0,0);\r\n        this.skin = dressPartVo.ResourceUrl;\r\n    }\r\n    \r\n    public clear(destroy:boolean = true):void \r\n    {\r\n        super.clear(destroy);\r\n        if (destroy)\r\n        {\r\n            this.dressVo = null;\r\n            this.dressPartVo = null;   \r\n        }\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport Global from \"../../Global\";\r\nimport RES from \"../../res/RES\";\r\nimport DressPartVO from \"../../vo/DressPartVO\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport DressAvatarPartUI from \"./DressAvatarPartUI\";\r\n\r\n\r\n//装扮形象:尺寸为裸模尺寸(裸模图中脚不在中心)\r\n//部件坐标可能是负数\r\n//\r\nexport default class DressAvatar extends SgsSprite\r\n{\r\n    public static LOAD_COMPLETE:string = \"LOAD_COMPLETE\";//资源加载完\r\n\r\n    protected model:SgsTexture;\r\n    protected partUIs:Array<DressAvatarPartUI>;\r\n    protected partPools:Array<DressAvatarPartUI>;\r\n\r\n    public autoClear:boolean = true;//自动清理纹理\r\n    public onlyDestroyClear:boolean = false;//是否仅destroy时清理资源\r\n\r\n    protected modelType:number = 0;//模型类型-肤色\r\n    protected dressIDs:Array<number>;//搭配数组\r\n    protected offsetX:number = 0;\r\n    protected offsetY:number = 0;\r\n    protected offsetWidth:number = 0;\r\n    protected offsetHeight:number = 0;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.size(Global.ModelWidth,Global.ModelHeight);\r\n        this.createModel();\r\n        this.partUIs = [];\r\n        this.partPools = [];\r\n        this.dressIDs = [];\r\n    }\r\n\r\n    protected createModel():void\r\n    {\r\n        this.model = new SgsTexture();\r\n        this.addDrawChild(this.model);\r\n    }\r\n\r\n    public get ModelType():number\r\n    {\r\n        return this.modelType;\r\n    }\r\n\r\n    public get DressIDs():Array<number>\r\n    {\r\n        return this.dressIDs;\r\n    }\r\n\r\n    //全量更新形象: 先恢复成裸体再显示本次装扮\r\n    public UpdateAll(modelType:number,dressIDs:Array<number>):void\r\n    {\r\n        this.Reset();\r\n        if (dressIDs && dressIDs.length > 0)\r\n        {\r\n            this.UpdateModel(modelType);\r\n            let dressConfig = DressConfiger.GetInstance();\r\n            let dressVo:DressVO;\r\n            dressIDs.forEach(dressID => {\r\n                dressVo = dressConfig.GetDressByDressID(dressID);\r\n                if (dressVo)\r\n                {\r\n                    this.dressIDs.push(dressID);\r\n                    this.addDressPartUIs(dressConfig,dressVo);\r\n                }\r\n            });\r\n            this.updateLayer();\r\n        }\r\n    }\r\n\r\n    //更新模型\r\n    public UpdateModel(modelType:number):void\r\n    {\r\n        if (!modelType || modelType < 1 || modelType > 3)\r\n            modelType = 1;\r\n        this.modelType = modelType;\r\n        if (this.model)\r\n            this.model.texture = RES.GetRes(\"modelAvatar\" + modelType);\r\n    }\r\n\r\n    //重置：删除所有装扮恢复成裸体\r\n    public Reset():void\r\n    {\r\n        this.modelType = 0;\r\n        this.dressIDs.length = 0;\r\n        this.model.texture = null;\r\n        let partUI:DressAvatarPartUI;\r\n        while (this.partUIs.length > 0)\r\n        {\r\n            partUI = this.partUIs.shift();\r\n            partUI.off(Laya.Event.COMPLETE,this,this.onPartLoadComplete);\r\n            this.removeDrawChild(partUI,false);\r\n            this.partPools.push(partUI);\r\n        }\r\n    }\r\n\r\n    // //获取保存数据\r\n    // public get SaveData():{width:number,height:number,base64:string}\r\n    // {\r\n    //     let oldX:number = this.x;\r\n    //     let oldY:number = this.y;\r\n    //     let oldScale:number = this.scaleX;\r\n    //     this.pos(0,0);\r\n    //     this.scale(1,1);\r\n\r\n    //     //真实尺寸\r\n    //     let realWidth:number = -this.offsetX + this.width + this.offsetWidth;\r\n    //     let realHeight:number = -this.offsetY + this.height + this.offsetHeight;\r\n\r\n    //     var htmlC:Laya.HTMLCanvas = this.drawToCanvas(realWidth,realHeight,-this.offsetX,-this.offsetY);\r\n    //     var base64:string = htmlC.toBase64(\"image/png\",1);\r\n        \r\n    //     this.pos(oldX,oldY);\r\n    //     this.scale(oldScale,oldScale);\r\n    //     htmlC.destroy();\r\n\r\n    //     return {width:realWidth,height:realHeight,base64:base64};\r\n    // }\r\n\r\n    public get OffsetX():number\r\n    {\r\n        return this.offsetX;\r\n    }\r\n\r\n    public get OffsetY():number\r\n    {\r\n        return this.offsetY;\r\n    }\r\n\r\n    public get OffsetWidth():number\r\n    {\r\n        return this.offsetWidth;\r\n    }\r\n\r\n    public get OffsetHeight():number\r\n    {\r\n        return this.offsetHeight;\r\n    }\r\n\r\n    protected addDressID(dressID:number):void\r\n    {\r\n        if (this.dressIDs.indexOf(dressID) == -1)\r\n            this.dressIDs.push(dressID);\r\n    }\r\n\r\n    protected getDressIDIndexByType(dressType:number):number//按类型获取装扮索引\r\n    {\r\n        let dressConfig = DressConfiger.GetInstance();\r\n        let vo:DressVO;\r\n        for (let i:number = 0; i < this.dressIDs.length; i++)\r\n        {\r\n            vo = dressConfig.GetDressByDressID(this.dressIDs[i]);\r\n            if (vo && vo.DressType == dressType)\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    protected addDressPartUIs(dressConfig:DressConfiger,dressVo:DressVO):void//添加装扮的部件UI列表\r\n    {\r\n        if (!dressVo || this.checkPartUIByDressID(dressVo.DressID)) return;\r\n        let dressParts:Array<DressPartVO> = dressConfig.GetDresPartsByDressID(dressVo.DressID);\r\n        if (dressParts && dressParts.length > 0)\r\n        {\r\n            let partUI:DressAvatarPartUI;\r\n            dressParts.forEach(dressPartVo => {\r\n                if (this.partPools.length > 0)\r\n                    partUI = this.partPools.shift();\r\n                else\r\n                    partUI = new DressAvatarPartUI();\r\n                partUI.autoClear = Global.AutoClearRes && this.autoClear;\r\n                partUI.onlyDestroyClear = this.onlyDestroyClear;\r\n                partUI.on(Laya.Event.COMPLETE,this,this.onPartLoadComplete);\r\n                this.partUIs.push(partUI);\r\n                partUI.SetItemData(dressVo,dressPartVo);\r\n            });\r\n        }\r\n    }\r\n\r\n    protected checkPartUIByDressID(dressID:number):boolean//按装扮id检查装扮ui是否已存在\r\n    {\r\n        if (!this.partUIs || this.partUIs.length <= 0)\r\n            return false;\r\n        for (let i:number = 0; i < this.partUIs.length; i++)\r\n        {\r\n            if (this.partUIs[i].DressID == dressID)\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    protected updateLayer():void//更新层级\r\n    {\r\n        if (!this.partUIs || this.partUIs.length <= 0)\r\n            return;\r\n        //排序\r\n        this.partUIs.sort(function(aUI:DressAvatarPartUI,bUI:DressAvatarPartUI):number{\r\n            return aUI.Layer - bUI.Layer;\r\n        });\r\n        //移除\r\n        this.offsetX = 0;\r\n        this.offsetY = 0;\r\n        this.offsetWidth = 0;\r\n        this.offsetHeight = 0;\r\n        let partVo:DressPartVO;\r\n        this.partUIs.forEach((partUI:DressAvatarPartUI) => {\r\n            if (partUI.drawed)\r\n                this.removeDrawChild(partUI,false);\r\n            partVo = partUI.DressPartVO;\r\n            if (partVo && partVo.PartPos && partVo.PartPos.length >= 2 && partVo.PartSize && partVo.PartSize.length >= 2)\r\n            {\r\n                this.offsetX = Math.min(this.offsetX,partVo.PartPos[0]);\r\n                this.offsetY = Math.min(this.offsetY,partVo.PartPos[1]);\r\n                this.offsetWidth = Math.max(this.offsetWidth,partVo.PartPos[0] + partVo.PartSize[0] - this.width);\r\n                this.offsetHeight = Math.max(this.offsetHeight,partVo.PartPos[1] + partVo.PartSize[1] - this.height);\r\n            }\r\n        });\r\n        if (this.model.drawed)\r\n            this.removeDrawChild(this.model,false);\r\n        //按层级添加\r\n        let partUI:DressAvatarPartUI;\r\n        for (let i:number = 0; i < this.partUIs.length; i++)\r\n        {\r\n            partUI = this.partUIs[i];\r\n            if (partUI.Layer >= 10 && !this.model.drawed)//模特前面的部件：先添加模特，再添加部件\r\n                this.addDrawChild(this.model);\r\n            this.addDrawChild(partUI);\r\n        }\r\n        if (!this.model.drawed)\r\n            this.addDrawChild(this.model);\r\n    }\r\n\r\n    protected invalidCheckLoadedFlag:boolean = false;\r\n    protected onPartLoadComplete(partUI:DressAvatarPartUI):void//部件加载完成\r\n    {\r\n        if (!this.invalidCheckLoadedFlag)\r\n        {\r\n            this.invalidCheckLoadedFlag = true;\r\n            Laya.timer.callLater(this,this.checkPartAllLoaded);\r\n        }\r\n    }\r\n\r\n    protected checkPartAllLoaded():void\r\n    {\r\n        this.invalidCheckLoadedFlag = false;\r\n        if (this.destroyed) return;\r\n        let isAllLoaded:boolean = true;\r\n        for (let i:number = 0; i < this.partUIs.length; i++)\r\n        {\r\n            if (!this.partUIs[i].IsLoaded)\r\n            {\r\n                isAllLoaded = false;\r\n                break;\r\n            }\r\n        }\r\n        if (isAllLoaded)//已全部加载完\r\n            this.event(DressAvatar.LOAD_COMPLETE,this);\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        let partUI:DressAvatarPartUI;\r\n        while (this.partPools.length > 0)\r\n        {\r\n            partUI = this.partPools.shift();\r\n            partUI.off(Laya.Event.COMPLETE,this,this.onPartLoadComplete);\r\n            this.removeDrawChild(partUI,true);\r\n        }\r\n        this.partUIs.length = 0;\r\n        super.destroy();\r\n        this.modelType = 0;\r\n        this.dressIDs.length = 0;\r\n    }\r\n}","import DressConfiger from \"../../config/DressConfiger\";\r\nimport DressType from \"../../enum/DressType\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport DressAvatar from \"./DressAvatar\";\r\nimport DressAvatarLoad from \"./dressAvatarLoad\";\r\nimport DressAvatarPartUI from \"./DressAvatarPartUI\";\r\n\r\n//搭配装扮形象\r\nexport default class CollocationDressAvatar extends DressAvatar\r\n{\r\n    protected avatarLoads:Array<DressAvatarLoad>;\r\n    protected avatarLoadPools:Array<DressAvatarLoad>;\r\n\r\n    private dressIngFlag:SgsTexture;\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.avatarLoads = [];\r\n        this.avatarLoadPools = [];\r\n    }\r\n\r\n    //是否装扮中\r\n    public get IsDressIng():boolean\r\n    {\r\n        return this.avatarLoads.length > 0 ? true : false;\r\n    }\r\n\r\n    public SetDressIngFlag(flag:SgsTexture):void\r\n    {\r\n        this.dressIngFlag = flag;\r\n    }\r\n\r\n    //恢复指定类型的装扮为默认装扮\r\n    public RecoveryDefaultByType(dressType:number):void\r\n    {\r\n        if (this.IsDressIng) return;//更衣中\r\n        if (this.getDressIDIndexByType(dressType) == -1) return;//没有该类型装扮\r\n        let dressConfig = DressConfiger.GetInstance();\r\n        let self = this;\r\n        if (dressType == DressType.DESSuit)//还原套装:穿上默认的上衣、下衣\r\n        {\r\n            this.delDressByType(dressType);\r\n            addDefaultDress(DressType.DESJacket);\r\n            addDefaultDress(DressType.DESLowerGarments);\r\n        }\r\n        else//穿上默认的本类型装扮\r\n        {\r\n            addDefaultDress(dressType);\r\n        }\r\n\r\n        function addDefaultDress(dressType:number):void\r\n        {\r\n            self.delDressByType(dressType);\r\n            let defaultDressVo = dressConfig.GetDefaultDressVoByType(dressType);\r\n            if (defaultDressVo)\r\n            {\r\n                if (self.dressIDs.indexOf(defaultDressVo.DressID) == -1)\r\n                    self.dressIDs.push(defaultDressVo.DressID);\r\n                self.addDressPartUIs(dressConfig,defaultDressVo);\r\n            }\r\n        }\r\n        this.updateLayer();\r\n        this.updateDressIngFlag(false);\r\n    }\r\n\r\n    //替换装扮：换掉同类型装扮\r\n    public ReplaceDress(dressID:number):void\r\n    {\r\n        if (this.IsDressIng) return;//更衣中\r\n        if (this.dressIDs.indexOf(dressID) >= 0) return;//已存在\r\n        let dressConfig = DressConfiger.GetInstance();\r\n        let dressVo:DressVO = dressConfig.GetDressByDressID(dressID);\r\n        if (!dressVo) return;\r\n        this.updateDressIngFlag(true);\r\n        let vo:DressVO;\r\n        for (let i:number = 0; i < this.dressIDs.length; i++)\r\n        {\r\n            vo = dressConfig.GetDressByDressID(this.dressIDs[i]);\r\n            if (dressVo.DressType == DressType.DESSuit)//穿上套装：脱掉套装、上衣、下衣\r\n            {\r\n                if (vo.DressType == dressVo.DressType || vo.DressType == DressType.DESJacket || vo.DressType == DressType.DESLowerGarments)\r\n                {\r\n                    this.cancelAvatarLoad(vo);//取消正在加载的\r\n                    this.dressIDs.splice(i,1);\r\n                    i--;\r\n                }\r\n            }\r\n            else if (dressVo.DressType == DressType.DESJacket || dressVo.DressType == DressType.DESLowerGarments)//穿上上衣或下衣：脱掉上衣或下衣以及套装\r\n            {\r\n                if (vo.DressType == dressVo.DressType || vo.DressType == DressType.DESSuit)\r\n                {\r\n                    this.cancelAvatarLoad(vo);//取消正在加载的\r\n                    this.dressIDs.splice(i,1);\r\n                    i--;\r\n                }\r\n            }\r\n            else if (vo.DressType == dressVo.DressType)//其他：脱掉同类型\r\n            {\r\n                this.cancelAvatarLoad(vo);//取消正在加载的\r\n                this.dressIDs.splice(i,1);\r\n                break;\r\n            }\r\n        }\r\n        this.addDressID(dressID);\r\n        this.createAvatarLoad(dressVo);\r\n    }\r\n\r\n    //重置：删除所有装扮恢复成裸体\r\n    public Reset():void\r\n    {\r\n        let avatarLoad:DressAvatarLoad;\r\n        while (this.avatarLoads.length > 0)\r\n        {\r\n            avatarLoad = this.avatarLoads.shift();\r\n            avatarLoad.off(Laya.Event.COMPLETE,this,this.onAvatarLoadComplete);\r\n            avatarLoad.CancelDressPartRes();\r\n            this.avatarLoadPools.push(avatarLoad);\r\n        }\r\n        super.Reset();\r\n    }\r\n\r\n    protected delDressByType(dressType:number):void//按类型删除装扮:数据、ui同时删除\r\n    {\r\n        let dressConfig = DressConfiger.GetInstance();\r\n        let vo:DressVO;\r\n        for (let i:number = 0; i < this.dressIDs.length; i++)//删除数据\r\n        {\r\n            vo = dressConfig.GetDressByDressID(this.dressIDs[i]);\r\n            if (vo.DressType == dressType)\r\n            {\r\n                this.cancelAvatarLoad(vo);//取消正在加载的\r\n                this.dressIDs.splice(i,1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        let partUI:DressAvatarPartUI;\r\n        for (let i:number = 0; i < this.partUIs.length; i++)//删除ui\r\n        {\r\n            partUI = this.partUIs[i];\r\n            if (partUI.DressType == dressType)\r\n            {\r\n                this.partUIs.splice(i,1);\r\n                partUI.off(Laya.Event.COMPLETE,this,this.onPartLoadComplete);\r\n                this.removeDrawChild(partUI,false);\r\n                this.partPools.push(partUI);\r\n                i --;\r\n            }\r\n        }\r\n    }\r\n    \r\n    protected createAvatarLoad(dressVo:DressVO):void//创建加载代理\r\n    {\r\n        if (!dressVo) return;\r\n        let avatarLoad:DressAvatarLoad;\r\n        if (this.avatarLoadPools.length > 0) \r\n            avatarLoad = this.avatarLoadPools.shift();\r\n        else\r\n            avatarLoad = new DressAvatarLoad();\r\n        avatarLoad.on(Laya.Event.COMPLETE,this,this.onAvatarLoadComplete);\r\n        this.avatarLoads.push(avatarLoad);\r\n        avatarLoad.LoadDressPartRes(dressVo);\r\n    }   \r\n\r\n    protected onAvatarLoadComplete(avatarLoad:DressAvatarLoad):void//加载完成\r\n    {\r\n        avatarLoad.off(Laya.Event.COMPLETE,this,this.onAvatarLoadComplete);\r\n        let index:number = this.avatarLoads.indexOf(avatarLoad);\r\n        if (index >= 0) this.avatarLoads.splice(index,1);\r\n        this.avatarLoadPools.push(avatarLoad);\r\n        let dressVo = avatarLoad.DressVO;\r\n        if (!dressVo || this.dressIDs.indexOf(dressVo.DressID) == -1) \r\n            return;\r\n        let dressConfig = DressConfiger.GetInstance();\r\n        let repairDressVo:DressVO;//需要补的装扮\r\n        //移除原同类型部件\r\n        this.delDressByType(dressVo.DressType);\r\n        if (dressVo.DressType == DressType.DESSuit)//穿上套装\r\n        {\r\n            this.delDressByType(DressType.DESJacket);\r\n            this.delDressByType(DressType.DESLowerGarments);\r\n        }\r\n        else if (dressVo.DressType == DressType.DESJacket)//穿上上衣\r\n        {\r\n            this.delDressByType(DressType.DESSuit);//如果原来是套装，则需要补上下衣\r\n            let index:number = this.getDressIDIndexByType(DressType.DESLowerGarments);\r\n            if (index == -1)//没有下衣：补上默认下衣\r\n                repairDressVo = dressConfig.GetDefaultDressVoByType(DressType.DESLowerGarments);\r\n        }  \r\n        else if (dressVo.DressType == DressType.DESLowerGarments)//穿上下衣\r\n        {\r\n            this.delDressByType(DressType.DESSuit);//如果原来是套装，则需要补上上衣\r\n            let index:number = this.getDressIDIndexByType(DressType.DESJacket);\r\n            if (index == -1)//没有上衣：补上默认上衣\r\n                repairDressVo = dressConfig.GetDefaultDressVoByType(DressType.DESJacket);\r\n        } \r\n        //添加新装扮的部件\r\n        this.addDressID(dressVo.DressID);\r\n        this.addDressPartUIs(dressConfig,dressVo);\r\n        if (repairDressVo)//需要补上的装扮\r\n        {\r\n            this.addDressID(repairDressVo.DressID);\r\n            this.addDressPartUIs(dressConfig,repairDressVo);\r\n        }\r\n        this.updateLayer();\r\n        this.updateDressIngFlag(false);\r\n    }\r\n\r\n    protected cancelAvatarLoad(dressVo:DressVO):void//取消加载代理\r\n    {\r\n        if (!dressVo) return;\r\n        let avatarLoad:DressAvatarLoad;\r\n        for (let i:number = 0; i < this.avatarLoads.length; i++)\r\n        {\r\n            avatarLoad = this.avatarLoads[i];\r\n            if (avatarLoad.DressVO && avatarLoad.DressVO.DressID == dressVo.DressID)\r\n            {\r\n                avatarLoad.off(Laya.Event.COMPLETE,this,this.onAvatarLoadComplete);\r\n                avatarLoad.CancelDressPartRes();\r\n                this.avatarLoads.splice(i,1);\r\n                this.avatarLoadPools.push(avatarLoad);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    protected updateDressIngFlag(isShow:boolean):void\r\n    {\r\n        if (!this.dressIngFlag) return;\r\n        Laya.timer.clear(this,this.onDelayShowDressIngFlag);\r\n        if (isShow)\r\n            Laya.timer.once(1000,this,this.onDelayShowDressIngFlag);//延迟显示：缓解”更衣中“闪现现象\r\n        else\r\n            this.dressIngFlag.visible = false;\r\n    }\r\n\r\n    protected onDelayShowDressIngFlag():void\r\n    {\r\n        this.dressIngFlag.visible = true;\r\n    }\r\n\r\n    public destroy():void \r\n    {\r\n        Laya.timer.clear(this,this.onDelayShowDressIngFlag);\r\n        let avatarLoad:DressAvatarLoad;\r\n        while (this.avatarLoads.length > 0)\r\n        {\r\n            avatarLoad = this.avatarLoads.shift();\r\n            avatarLoad.off(Laya.Event.COMPLETE,this,this.onAvatarLoadComplete);\r\n            avatarLoad.CancelDressPartRes();\r\n        }\r\n        this.avatarLoadPools.length = 0;\r\n        super.destroy();\r\n        this.dressIngFlag = null;\r\n    }\r\n\r\n}","import SgsSprite from \"./base/SgsSprite\";\r\nimport LoadingManager from \"../../mode/base/LoadingManager\";\r\nimport RES from \"../../res/RES\";\r\nimport ResourceEvent from \"../../res/ResourceEvent\";\r\n\r\n/*\r\n* viewStack子项基类\r\n*/\r\nexport default class ViewStackBase extends SgsSprite\r\n{\r\n    protected autoRecoverRes:boolean = true;//自动回收弹窗资源\r\n    protected resNames:Array<string>;//资源组名\r\n    protected loading:boolean = false;//加载资源中\r\n    protected totalCount:number = 0;\r\n\tprotected loadedCount:number = 0;\r\n    protected initData:any = null;\r\n\r\n    constructor(initData:any = null)\r\n    {\r\n        super();\r\n\r\n        this.initData = initData;\r\n    }\r\n\r\n    //初始化:资源加载完后调用\r\n    protected init():void\r\n    {\r\n\r\n    }\r\n\r\n    //再次显示\r\n    public Reset():void\r\n    {\r\n\r\n    }\r\n\r\n    //移除\r\n    public Remove():void\r\n    {\r\n\r\n    }\r\n\r\n    //准备关闭(窗口调用close时执行)\r\n    public ReadyClose():void\r\n    {\r\n\r\n    }\r\n\r\n    //开始加载资源\r\n\tpublic StartLoadRes():void\r\n\t{\r\n        if (this.loading)//加载中:等待加载完成自动调用init\r\n            return;\r\n        if (!this.resNames || this.resNames.length <= 0)//无需加载资源\r\n        {\r\n            this.init();\r\n            return;\r\n        }\r\n\t\tthis.loading = true;\r\n\t\tLoadingManager.ShowLoading();\r\n\t\tthis.addResEvent();\r\n\t\tthis.totalCount = this.resNames.length;\r\n\t\tthis.loadedCount = 0;\r\n\t\tlet priority:number = 100 + this.resNames.length - 1;\r\n\t\tfor (let i:number = 0; i < this.resNames.length; i++)\r\n\t\t{\r\n\t\t\tRES.LoadGroup(this.resNames[i],priority);\r\n\t\t\tpriority --;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected addResEvent():void\r\n\t{\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceLoadComplete);\r\n\t}\r\n\r\n\tprotected removeResEvent():void\r\n\t{\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n\t\tRES.RemoveEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceLoadComplete);\r\n\t\tthis.totalCount = 0;\r\n\t\tthis.loadedCount = 0;\r\n\t}\r\n\r\n\tprotected onResourceProgress(event:ResourceEvent):void\r\n\t{\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tlet progress:number = event.progress;\r\n\t\tprogress = this.loadedCount / this.totalCount + progress * (1 / this.totalCount);\r\n\t\tLoadingManager.ShowLoadProgress(progress * 100,100);\r\n\t}\r\n\r\n\tprotected onResourceError(event:ResourceEvent):void\r\n\t{\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tthis.removeResEvent();\r\n\t\tLoadingManager.ShowLoadError(\"资源组加载失败：\" + event.groupName,this.name);\r\n\t\tthis.loading = false;\r\n\t\tif (this.destroyed)//窗口已被destroy\r\n\t\t{\r\n\t\t\tthis.clearViewStackRes();\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.destroy();\r\n\t}\r\n\r\n\tprotected onResourceLoadComplete(event:ResourceEvent):void//资源加载完成\r\n    {\t\r\n\t\tif (!this.resNames || this.resNames.indexOf(event.groupName) == -1) return;\r\n\t\tthis.loadedCount ++;\r\n\t\tif (this.loadedCount >= this.totalCount)\r\n\t\t{\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.removeResEvent();\r\n\t\t\tLoadingManager.CloseLoading();\r\n\t\t\tif (this.destroyed)//资源加载完时，窗口已被destroy\r\n\t\t\t{\r\n\t\t\t\tthis.clearViewStackRes();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.init();\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n    \r\n    protected clearViewStackRes():void//回收资源组\r\n    {\r\n        if (!this.autoRecoverRes) return;\r\n        if (this.resNames && this.resNames.length > 0)\r\n        {\r\n            for (let i:number = 0; i < this.resNames.length; i++)\r\n            {\r\n                RES.ClearResByGroup(this.resNames[i],false,true);\r\n            }\r\n            this.resNames.length = 0;\r\n        }\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        super.destroy();\r\n        this.clearViewStackRes();\r\n        this.initData = null;\r\n    }\r\n}","import PromptLayer from \"./../layer/PromptLayer\";\r\nimport RES from \"./../../res/RES\";\r\nimport FontName from \"./../../enum/FontName\";\r\nimport SgsHTMLDivElement from \"./base/SgsHTMLDivElement\";\r\nimport SgsSprite from \"./base/SgsSprite\";\r\nimport SgsTexture from \"./base/SgsTexture\";\r\nimport SystemContext from \"../../SystemContext\";\r\n/*\r\n* name;\r\n*/\r\nexport default class TextPromptUI extends SgsSprite\r\n{\r\n    private msgBg:SgsTexture;\r\n    private htmlDiv:SgsHTMLDivElement;\r\n\r\n    public HideComplete:Function;\r\n    private upTween:Laya.Tween;\r\n    private padding:number = 35;//左右间距\r\n    private showTime:number = 3000;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.size(SystemContext.gameWidth,77);\r\n        this.zOrder = 1004;\r\n        this.initChilds();\r\n    }\r\n\r\n    private initChilds():void\r\n    {\r\n        this.msgBg = new SgsTexture(RES.GetRes(\"textPromptBg\"));\r\n        this.msgBg.size(this.width,this.height);\r\n        this.msgBg.sizeGrid = \"1,220,1,220\";\r\n        this.addDrawChild(this.msgBg);\r\n\r\n        this.htmlDiv = new SgsHTMLDivElement();\r\n        this.htmlDiv.width = SystemContext.gameWidth - this.padding * 2;\r\n        this.htmlDiv.fontFamily = FontName.HEITI;\r\n        this.htmlDiv.fontSize = 36;\r\n        this.htmlDiv.color = \"#f8f9f1\";\r\n        // this.htmlDiv.leading = 10;\r\n        // this.htmlDiv.wordWrap = true;\r\n        this.htmlDiv.mouseEnabled = false;\r\n        this.htmlDiv.mouseThrough = false;\r\n        this.addChild(this.htmlDiv);\r\n    }\r\n\r\n    public Show(value:string,time:number = 3000)\r\n    {\r\n        this.showTime = time;\r\n        this.htmlDiv.innerHTML = value;\r\n        this.htmlDiv.pos(this.width - this.htmlDiv.contextWidth >> 1,this.height - this.htmlDiv.contextHeight >> 1);\r\n        this.delayHide();\r\n        PromptLayer.GetInstance().addChild(this);\r\n    }\r\n\r\n    public UpMove(y:number):void\r\n    {\r\n        if (this.y == y) return;\r\n\r\n        if (this.upTween)\r\n        {\r\n            Laya.Tween.clear(this.upTween);\r\n            this.upTween = null;\r\n        }\r\n        this.upTween = Laya.Tween.to(this,{y:y},300,null,Laya.Handler.create(this,this.onUpComplete));\r\n    }\r\n\r\n    public Clear():void\r\n    {\r\n        Laya.Tween.clearAll(this);\r\n        this.removeSelf();\r\n        this.HideComplete = null;\r\n        this.upTween = null;\r\n        this.showTime = 3000;\r\n        this.alpha = 1;\r\n        this.y = 0;\r\n    }\r\n\r\n    private onUpComplete():void\r\n    {\r\n        this.upTween = null;\r\n    }\r\n\r\n    private delayHide():void//延迟消失\r\n    {\r\n        Laya.Tween.to(this,{alpha:0},300,null,Laya.Handler.create(this,this.onHideComplete), this.showTime);\r\n    }\r\n\r\n    private onHideComplete()//掩藏结束\r\n    {\r\n        if (this.HideComplete)\r\n        {\r\n            this.HideComplete(this);\r\n        }\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport SgsFlatButton from \"./base/SgsFlatButton\";\r\nimport SgsSprite from \"./base/SgsSprite\";\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsTabFlatButton extends SgsFlatButton\r\n{    \r\n    protected _value:number = 0;\r\n    protected enableTip:string = \"\";\r\n    \r\n    //额外层：如传入额外层，则额外第0层为文字层，第1层为红点层\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n    }\r\n\r\n    public set value(val:number)\r\n    {\r\n        this._value = val;\r\n    }\r\n\r\n    public get value():number\r\n    {\r\n        return this._value;\r\n    }\r\n\r\n    public get EnableTip():string\r\n    {\r\n        return this.enableTip;\r\n    }\r\n\r\n    public set EnableTip(value:string)\r\n    {\r\n        this.enableTip = value;\r\n    }\r\n    \r\n    public init(...arg):void\r\n    {\r\n        if(arg && arg.length)\r\n            this.InitSkin(arg[0],arg.length >1&& arg[1]?arg[1]:\"\",arg.length >2&& arg[2]?arg[2]:\"\",arg.length >3&& arg[3]?arg[3]:\"\",arg.length >4&& arg[4]?arg[4]:\"\");\r\n        else\r\n            this.InitSkin(\"tabButtonGeneral_Normal\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Select\");\r\n        this.labelFont = FontName.ST;\r\n        this.labelSize = 16;\r\n        this.labelColors = \"#291400,#291400,#291400\";\r\n    }\r\n\r\n    public ClearDraw(destroy:boolean = true):void\r\n    {\r\n        super.ClearDraw(destroy);\r\n    }\r\n}","import UIUtils from \"./../../utils/UIUtils\";\r\nimport SgsTabButton from \"./SgsTabButton\";\r\nimport SgsSprite from \"./base/SgsSprite\";\r\nimport SgsTabFlatButton from \"./SgsTabFlatButton\";\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsTabButtonGroup extends SgsSprite\r\n{\r\n    public static TAP_CLICKED:string = \"TAP_CLICKED\";\r\n\r\n    protected otherLayerNum:number = 0;\r\n    protected isVertical:boolean = false;\r\n    protected gap:number = 5;\r\n    protected btnClass:any;\r\n    protected btnWidth:number = 0;\r\n    protected gap2:number = 0;\r\n    protected btnList:Array<SgsTabButton | SgsTabFlatButton>;\r\n    protected lastTabButton:SgsTabButton | SgsTabFlatButton;\r\n    protected otherRenders:Array<SgsSprite>;//其他渲染器(分层渲染层)\r\n\r\n    /** \r\n     * @param data 按钮列表数据[{label:string,value:number,....}]\r\n     * @param otherLayerNum 额外层数量 数量大于0表示使用扁平按钮\r\n     * @param isVertical 是否垂直布局 (水平、垂直两种布局)\r\n     * @param gap 按钮间距\r\n\t * @param btnClass 按钮类\r\n     * @param btnWidth 按钮宽度 默认按按钮资源尺寸\r\n     * @param gap2\r\n     */\r\n    constructor(data:Array<any>,otherLayerNum:number = 0,isVertical:boolean = false,gap:number = 5,btnClass:any = SgsTabFlatButton,btnWidth:number = 0,gap2:number = 0)\r\n    {\r\n        super();\r\n\r\n        this.btnList = [];\r\n        this.otherLayerNum = otherLayerNum;\r\n        this.isVertical = isVertical;\r\n        this.gap = gap;\r\n        this.btnClass = btnClass;\r\n        this.btnWidth = btnWidth;\r\n        this.gap2 = gap2;\r\n\r\n        if (this.otherLayerNum > 0)\r\n        {\r\n            this.addDrawClick();\r\n            this.addDrawMouseEvent();\r\n            this.otherRenders = [];\r\n            let layerSp:SgsSprite;\r\n            for (let i:number = 0; i < otherLayerNum; i++)\r\n            {\r\n                layerSp = new SgsSprite();\r\n                this.addChild(layerSp);\r\n                this.otherRenders.push(layerSp);\r\n            }\r\n        }\r\n        this.initUI(data);\r\n    }\r\n\r\n    //根据value选中\r\n    public set SelectedValue(value:number)\r\n    {\r\n        if (this.btnList.length)\r\n        {\r\n            for (let i:number = 0; i < this.btnList.length; i++)\r\n            {\r\n                if (this.btnList[i].value == value)\r\n                    this.selectButton(this.btnList[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    //根据索引选中\r\n    public set SelectedIndex(index:number)\r\n    {\r\n        if(this.btnList.length && index < this.btnList.length)\r\n        {\r\n            this.selectButton(this.btnList[index]);\r\n        }\r\n    }\r\n\r\n    public get SelectedValue():number\r\n    {\r\n        return this.lastTabButton ? this.lastTabButton.value : -1;\r\n    }\r\n\r\n    public get SelectedIndex():number\r\n    {\r\n        if (!this.lastTabButton || !this.btnList || this.btnList.length <= 0)\r\n            return -1;\r\n        return this.btnList.indexOf(this.lastTabButton);\r\n    }\r\n\r\n    public get SelectedButton():any\r\n    {\r\n        return this.lastTabButton;\r\n    }\r\n\r\n    //还原回都不选中的状态\r\n    public Rest()\r\n    {\r\n        if(this.btnList.length)\r\n        {\r\n            if(this.lastTabButton)\r\n            {\r\n                this.lastTabButton.selected = false;\r\n                this.lastTabButton = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    public GetButtonByValue(value:number):any\r\n    {\r\n        let selectBtn:SgsTabButton | SgsTabFlatButton;\r\n        for(let i:number = 0; i < this.btnList.length; i++)\r\n        {\r\n            let btn:SgsTabButton | SgsTabFlatButton = this.btnList[i];\r\n            if(btn.value == value)\r\n            {\r\n                selectBtn = btn;\r\n                break;\r\n            }\r\n        }\r\n        return selectBtn;\r\n    }\r\n\r\n    public GetButtonByIndex(index:number):any\r\n    {\r\n        let btn:SgsTabButton | SgsTabFlatButton;\r\n        if(this.btnList.length && index < this.btnList.length)\r\n        {\r\n            btn = this.btnList[index];\r\n        }\r\n        return btn;\r\n    }\r\n\r\n    public GetButtonList():Array<any>\r\n    {\r\n        return this.btnList;\r\n    }\r\n\r\n    public get ListLength():number\r\n    {\r\n        return this.btnList ? this.btnList.length : 0;   \r\n    }\r\n\r\n    public ShowRedPointByIndex(index:number,isShow:boolean):void\r\n    {\r\n        let btn = this.GetButtonByIndex(index);\r\n        if (btn)\r\n        {\r\n            if (isShow)\r\n                btn.ShowRedPoint();\r\n            else\r\n                btn.RemoveRedPoint();\r\n        }\r\n    }\r\n\r\n    public ShowRedPointByValue(value:any,isShow:boolean):void\r\n    {\r\n        let btn = this.GetButtonByValue(value);\r\n        if (btn)\r\n        {\r\n            if (isShow)\r\n                btn.ShowRedPoint();\r\n            else\r\n                btn.RemoveRedPoint();\r\n        }\r\n    }\r\n\r\n    protected initUI(data:Array<any>):void\r\n    {\r\n        if(data)\r\n        {\r\n            let btn:SgsTabButton | SgsTabFlatButton;\r\n            let sx:number = 0;\r\n            let sy:number = 0;\r\n            data.forEach((value) =>{\r\n                if (this.otherLayerNum > 0)\r\n                    btn = new this.btnClass(this.otherRenders);\r\n                else\r\n                    btn = new this.btnClass();\r\n                this.btnList.push(btn);\r\n                if (value.label)\r\n                    btn.label = value.label;\r\n                btn.value = value.value;\r\n                if(value.enableTip)\r\n                    btn.EnableTip = value.enableTip;\r\n                if(value.skinList)\r\n                    btn.init(value.skinList[0],value.skinList[1],value.skinList[2],value.skinList[3],value.skinList[4]);\r\n                else\r\n                    btn.init();\r\n                btn.on(Laya.Event.CLICK,this,this.onBtnClick);\r\n                if (btn instanceof SgsTabFlatButton)\r\n                    this.addDrawChild(btn);\r\n                else\r\n                    this.addChild(btn);\r\n            },this);\r\n        }\r\n        this.layout();\r\n    }\r\n\r\n    protected onBtnClick(event:any):void\r\n    {\r\n        let target:SgsTabButton | SgsTabFlatButton;\r\n        if (event instanceof SgsTabFlatButton)\r\n            target = event;\r\n        else\r\n            target = event.target;\r\n        if (this.lastTabButton == target) return;\r\n        if (!target.enabled)\r\n        {\r\n            // if(target.EnableTip)\r\n            //     UIUtils.ShowTextPrompt(target.EnableTip);\r\n            return;\r\n        }\r\n        this.selectButton(target);\r\n    }\r\n\r\n    protected selectButton(btn:SgsTabButton | SgsTabFlatButton):void\r\n    {\r\n        if(btn)\r\n        {\r\n            if (this.lastTabButton)\r\n                this.lastTabButton.selected = false;\r\n            this.lastTabButton = btn;\r\n            this.lastTabButton.selected = true;\r\n            this.event(SgsTabButtonGroup.TAP_CLICKED,this.lastTabButton.value);\r\n        }\r\n    }\r\n\r\n    public layout():void\r\n    {\r\n        let btn:SgsTabButton | SgsTabFlatButton;\r\n        let sx:number = 0;\r\n        let sy:number = 0;\r\n        this.btnList.forEach((btn) =>{\r\n            if (btn && btn.visible)\r\n            {\r\n                btn.pos(sx,sy);\r\n                if (this.btnWidth)\r\n                    btn.width = this.btnWidth;\r\n                if (this.isVertical)\r\n                {\r\n                    sy += btn.height + this.gap;\r\n                    sx += this.gap2;\r\n                }\r\n                else\r\n                {\r\n                    sx += btn.width + this.gap;\r\n                    sy += this.gap2;\r\n                }\r\n                this.size(btn.x + btn.width,btn.y + btn.height);            \r\n            }\r\n        })\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        super.destroy();\r\n    }\r\n}","import SgsSprite from \"./base/SgsSprite\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsPanelItemBase extends SgsSprite\r\n{\r\n    protected drawed:boolean = false;//是否已渲染\r\n    protected inited:boolean = false;//是否已初始化\r\n    protected dataed:boolean = false;//已设置数据\r\n\r\n    protected delayLoadTime:number = 100;//资源延迟加载时间\r\n    protected loadStatus:number = 0;//加载状态：0未加载 1加载中 2已加载 \r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.visible = false;\r\n        this.on(Laya.Event.REMOVED,this,this.onSelfRemoved);\r\n    }\r\n\r\n    public get Drawed():boolean\r\n    {\r\n        return this.drawed;\r\n    }\r\n\r\n    public get Inited():boolean\r\n    {\r\n        return this.inited;\r\n    }\r\n\r\n    public get Dataed():boolean\r\n    {\r\n        return this.dataed;\r\n    }\r\n\r\n    public get NeedLeaveDrawClear():boolean//是否需要离开渲染区域清理\r\n    {\r\n        return this.loadStatus != 0;\r\n    }\r\n\r\n    /**进入渲染(进入可视区域时调用,滚动时会多次执行)*/\r\n    public EnterDraw():void\r\n    { \r\n        if (this.drawed) return;\r\n        this.drawed = true;\r\n        this.visible = true;\r\n        if (!this.inited)\r\n        {\r\n            this.inited = true;\r\n            this.init();\r\n            if (this.dataed)\r\n                this.updateViewData();\r\n        }\r\n        else\r\n        {\r\n            if (this.dataed)\r\n                this.startLoad();\r\n        }\r\n    }\r\n\r\n    /**离开渲染(离开可视区域时调用,滚动时会多次执行)*/\r\n    public LeaveDraw():void\r\n    {\r\n        if (!this.drawed) return;\r\n        this.drawed = false;\r\n        this.visible = false;\r\n    }\r\n\r\n    /**离开可视区域清理*/\r\n    public LeaveDrawClear():void\r\n    {\r\n        if (this.loadStatus == 1)//加载中\r\n        {\r\n            Laya.timer.clear(this,this.onDelayLoad);\r\n            this.loadStatus = 0;\r\n        }\r\n        else if (this.loadStatus == 2)//已加载\r\n            this.leaveDrawClear();\r\n    }\r\n\r\n    /**设置数据*/\r\n    public SetData(...args):void\r\n    {\r\n        if (this.inited && this.dataed && this[\"isLeaveDrawClear\"])//重复利用时\r\n            this.LeaveDrawClear();\r\n        this.stopLoad();\r\n        this.loadStatus = 0;\r\n        this.dataed = true;\r\n        if (this.inited)//已初始化\r\n            this.updateViewData();\r\n    }\r\n\r\n    /**初始化(首次渲染时调用，仅执行一次)*/\r\n    protected init():void\r\n    {\r\n\r\n    }\r\n\r\n    /**更新UI界面*/\r\n    protected updateViewData():void\r\n    {\r\n        this.startLoad();\r\n    }\r\n\r\n    protected startLoad():void//开始加载\r\n    {\r\n        if (this.drawed && this.loadStatus == 0)\r\n        {\r\n            this.loadStatus = 1;\r\n            if (this.delayLoadTime > 0)\r\n                Laya.timer.once(this.delayLoadTime,this,this.onDelayLoad);\r\n            else\r\n                this.enterDrawLoad();\r\n        }\r\n    }\r\n\r\n    protected onDelayLoad():void\r\n    {\r\n        if (!this.drawed || !this.parent)\r\n        {\r\n            this.loadStatus = 0;\r\n            return;\r\n        }\r\n        this.enterDrawLoad();\r\n    }\r\n\r\n    protected enterDrawLoad():void//进入渲染加载\r\n    {\r\n        this.loadStatus = 2;\r\n    }\r\n\r\n    protected leaveDrawClear():void//离开渲染清理\r\n    {\r\n        this.loadStatus = 0;\r\n    }\r\n\r\n    protected stopLoad():void//暂停加载\r\n    {\r\n        if (this.loadStatus == 1)//加载中\r\n        {\r\n            Laya.timer.clear(this,this.onDelayLoad);\r\n            this.loadStatus = 0;\r\n        }\r\n    }\r\n\r\n    protected onSelfRemoved(event:Laya.Event):void\r\n    {\r\n        if (!this.destroyed)//非destroy\r\n        {\r\n            if (this.inited && this.dataed && this[\"isLeaveDrawClear\"])//从舞台移除：如回收到对象池\r\n                this.LeaveDrawClear();\r\n        }\r\n    }\r\n\r\n    public destroy(destroyChild:boolean=true):void\r\n    {\r\n        Laya.timer.clear(this,this.onDelayLoad);\r\n        super.destroy(destroyChild);\r\n    }\r\n}","import SgsHTMLDivElement from \"./base/SgsHTMLDivElement\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsPanelHtmlBase extends SgsHTMLDivElement\r\n{\r\n    protected drawed:boolean = false;//是否已渲染\r\n    protected inited:boolean = false;//是否已初始化\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n        this.visible = false;\r\n    }\r\n\r\n    public get Drawed():boolean\r\n    {\r\n        return this.drawed;\r\n    }\r\n\r\n    public get Inited():boolean\r\n    {\r\n        return this.inited;\r\n    }\r\n\r\n    public get Dataed():boolean\r\n    {\r\n        return false;\r\n    }\r\n\r\n    public get NeedLeaveDrawClear():boolean\r\n    {\r\n        return false;\r\n    }\r\n\r\n    /**进入渲染(进入可视区域时调用,滚动时会多次执行)*/\r\n    public EnterDraw():void\r\n    {\r\n        if (this.drawed) return;\r\n        this.drawed = true;\r\n        this.visible = true;\r\n        if (!this.inited)\r\n        {\r\n            this.inited = true;\r\n            this.init();\r\n        }\r\n    }\r\n\r\n    /**离开渲染(离开可视区域时调用,滚动时会多次执行)*/\r\n    public LeaveDraw():void\r\n    {\r\n        if (!this.drawed) return;\r\n        this.drawed = false;\r\n        this.visible = false;\r\n    }\r\n\r\n    /**离开可视区域清理*/\r\n    public LeaveDrawClear():void\r\n    {\r\n        \r\n    }\r\n\r\n    /**初始化(首次渲染时调用，仅执行一次)*/\r\n    protected init():void\r\n    {\r\n\r\n    }\r\n}","import SgsFlatContainer from \"./base/SgsFlatContainer\";\r\nimport SgsSprite from \"./base/SgsSprite\";\r\nimport SgsFlatPanel from \"./SgsFlatPanel\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsFlatPanelItemBase extends SgsFlatContainer\r\n{\r\n    protected rendererIndex:number = 0;//呈现器索引\r\n    protected itemRendererFunction:Laya.Handler;//呈现器自定义函数\r\n    protected parentPanel:SgsFlatPanel;\r\n    protected inited:boolean = false;//是否已初始化\r\n    protected rendererData:any;//数据\r\n    protected selected:boolean = false;//选中状态\r\n\r\n    protected delayLoadTime:number = 100;//资源延迟加载时间\r\n    protected loadStatus:number = 0;//加载状态：0未加载 1加载中 2已加载 \r\n\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n    }\r\n\r\n    //设置呈现器索引\r\n    public set RendererIndex(val:number)\r\n    {\r\n        this.rendererIndex = val;\r\n    }\r\n\r\n    public get RendererIndex():number\r\n    {\r\n        return this.rendererIndex;\r\n    }\r\n\r\n    //设置呈现器自定义函数\r\n    public set ItemRendererFunction(val:Laya.Handler)\r\n    {\r\n        this.itemRendererFunction = val;\r\n    }\r\n\r\n    public set ParentPanel(val:SgsFlatPanel)\r\n    {\r\n        this.parentPanel = val;\r\n    }\r\n\r\n    //设置呈现器数据(原则上不准重构)\r\n    public set RendererData(val:any)\r\n    {\r\n        if (this.rendererData == val) return;//滚动时重新赋值，如数据一致则不往下执行(减少刷新ui执行次数)\r\n        //重复利用时：停止本组件之前的加载及状态还原\r\n        this.stopLoad();\r\n        this.loadStatus = 0;\r\n        this.rendererData = val;\r\n        if (!this.inited)\r\n        {\r\n            this.inited = true;\r\n            this.init();\r\n        }\r\n        if (this.itemRendererFunction)\r\n            this.itemRendererFunction.runWith([this.rendererIndex,this.rendererData,this]);\r\n        this.updateRenderer(this.rendererData);\r\n        this.startLoad();\r\n    }\r\n\r\n    public get RendererData():any\r\n    {\r\n        return this.rendererData;\r\n    }\r\n\r\n    //设置选中状态\r\n    public set Selected(value:boolean) \r\n    {\r\n        this.selected = value;\r\n    }\r\n\r\n    public get Selected():boolean \r\n    {\r\n        return this.selected;\r\n    }\r\n    \r\n    //重置数据\r\n    public ResetRendererData():void\r\n    {\r\n        this.rendererData = null;\r\n    }\r\n\r\n    //离开可视区域清理\r\n    public LeaveDrawClear():void\r\n    {\r\n        if (this.loadStatus == 1)//加载中\r\n        {\r\n            Laya.timer.clear(this,this.onDelayLoad);\r\n            this.loadStatus = 0;\r\n        }\r\n        else if (this.loadStatus == 2)//已加载\r\n            this.leaveDrawClear();\r\n    }\r\n\r\n    //初始化UI\r\n    protected init():void\r\n    {\r\n        \r\n    }\r\n\r\n    //更新呈现器(根据数据处理UI界面)\r\n    protected updateRenderer(rendererData:any):void\r\n    {\r\n\r\n    }\r\n\r\n    protected startLoad():void//开始加载\r\n    {\r\n        if (this.drawed && this.loadStatus == 0)\r\n        {\r\n            this.loadStatus = 1;\r\n            if (this.delayLoadTime > 0 && (!this.parentPanel || this.parentPanel.GetItemLoadStatus(this.rendererIndex) != 2))//延迟且未加载过\r\n                Laya.timer.once(this.delayLoadTime,this,this.onDelayLoad);\r\n            else\r\n                this.enterDrawLoad();\r\n        }\r\n    }\r\n\r\n    protected onDelayLoad():void\r\n    {\r\n        if (!this.drawed)\r\n        {\r\n            this.loadStatus = 0;\r\n            return;\r\n        }\r\n        this.enterDrawLoad();\r\n    } \r\n\r\n    protected enterDrawLoad():void//进入渲染加载\r\n    {\r\n        this.loadStatus = 2;\r\n        if (this.parentPanel)\r\n            this.parentPanel.UpdateItemLoadStatus(this.rendererIndex,this.loadStatus);\r\n    }\r\n\r\n    protected leaveDrawClear():void//离开渲染清理\r\n    {\r\n        this.loadStatus = 0;\r\n        if (this.parentPanel)\r\n            this.parentPanel.UpdateItemLoadStatus(this.rendererIndex,this.loadStatus);\r\n    }\r\n\r\n    protected stopLoad():void//暂停加载\r\n    {\r\n        if (this.loadStatus == 1)//加载中\r\n        {\r\n            Laya.timer.clear(this,this.onDelayLoad);\r\n            this.loadStatus = 0;\r\n        }\r\n    }\r\n\r\n    public ClearDraw(destroy:boolean = true):void\r\n    {\r\n        super.ClearDraw(destroy);\r\n        this.rendererData = null;\r\n        if (destroy)\r\n        {\r\n            Laya.timer.clear(this,this.onDelayLoad);\r\n            this.itemRendererFunction = null;\r\n            this.parentPanel = null;\r\n        }\r\n    }\r\n}","import SgsTexture from \"./SgsTexture\";\r\nimport SgsText from \"./SgsText\";\r\nimport SgsSprite from \"./SgsSprite\";\r\nimport RES from \"../../../res/RES\";\r\nimport Global from \"../../../Global\";\r\nimport ButtonPhaseEnum from \"../../../enum/base/ButtonPhaseEnum\";\r\n/*\r\n* 普通按钮：整个按钮只占一个sprite，皮肤和文字均绘制到自身sprite中\r\n*/\r\n\r\nexport default class SgsSpriteButton extends SgsSprite\r\n{\r\n    protected eventDispatcher:Laya.EventDispatcher;\r\n\r\n    protected phase:number = 0;//按钮状态标识\r\n    protected skins:Array<string>;//皮肤数组：up、over、down、disable、select\r\n    protected _labelColors:Array<string>;\r\n    protected _strokeColors:Array<string>;\r\n    protected _labelPadding:Array<string>;\r\n    // protected _visible:boolean = true;\r\n    protected _selected:boolean = false;\r\n    protected _enabled:boolean = true;\r\n    protected _text:string = \"\";\r\n    protected _loadSkins:Array<string>;\r\n\r\n    protected _stateChanged:boolean = false;\r\n    protected _layoutChanged:boolean = false;\r\n\r\n    protected background:SgsTexture;\r\n    protected textField:SgsText;\r\n\r\n    public selectedEnabled:boolean = true;//选中状态时，是否触发点击事件\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.labelColors = \"#ffffff,#ffffff,#ffffff,#ffffff,#ffffff\";\r\n        this.strokeColors = \"#000000,#000000,#000000,#000000,#000000\";\r\n        this.labelPadding = \"0,0,0,0\";\r\n        // this.ButtonMode = true;\r\n\r\n        this.createChildren();\r\n\r\n        super.on(Laya.Event.ADDED, this, this.onAddToStage);\r\n        super.on(Laya.Event.REMOVED, this, this.onRemoveToStage);\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n        Laya.superSetter(SgsSprite,this,\"width\",value);\r\n        this.background.width = value;\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        return this.background.width;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n        Laya.superSetter(SgsSprite,this,\"height\",value);\r\n        this.background.height = value;\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return this.background.height;\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        this.background = new SgsTexture();\r\n        this.addDrawChild(this.background);\r\n\r\n        this.textField = new SgsText();\r\n        this.textField.wordWrap = false;\r\n        this.textField.align = \"center\";\r\n        this.textField.valign = \"middle\";\r\n        this.addDrawChild(this.textField);\r\n    }\r\n\r\n    protected onAddToStage(event?:Laya.Event):void\r\n    {\r\n        this.phase = ButtonPhaseEnum.up;\r\n\r\n        super.on(Laya.Event.MOUSE_UP,this,this.onMouse);\r\n        super.on(Laya.Event.MOUSE_OVER,this,this.onMouse);\r\n        super.on(Laya.Event.MOUSE_DOWN,this,this.onMouse);\r\n        super.on(Laya.Event.MOUSE_OUT,this,this.onMouse);\r\n        super.on(Laya.Event.CLICK,this,this.onMouse);\r\n    }\r\n\r\n    protected onRemoveToStage(event?:Laya.Event):void\r\n    {\r\n        super.off(Laya.Event.MOUSE_UP,this,this.onMouse);\r\n        super.off(Laya.Event.MOUSE_OVER,this,this.onMouse);\r\n        super.off(Laya.Event.MOUSE_DOWN,this,this.onMouse);\r\n        super.off(Laya.Event.MOUSE_OUT,this,this.onMouse);\r\n        super.off(Laya.Event.CLICK,this,this.onMouse);\r\n\r\n        // if (this.eventDispatcher)\r\n        // {\r\n        //     this.eventDispatcher.offAll();\r\n        //     this.eventDispatcher = null;\r\n        // }\r\n    }\r\n\r\n    public InitSkin(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\",selectedDisableSkin:string = \"\"):void\r\n    {\r\n        this.skins = new Array<string>();\r\n        this.skins.push(upSkin);\r\n        this.skins.push(overSkin);\r\n        this.skins.push(downSkin);\r\n        this.skins.push(disableSkin);\r\n        this.skins.push(selectedSkin);\r\n        this.skins.push(selectedDisableSkin);\r\n\r\n        this.background.texture = RES.GetRes(upSkin);\r\n        this.setStateChanged();\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    public InitSkinUrl(upSkin:string,overSkin:string = \"\",downSkin:string = \"\",disableSkin:string = \"\",selectedSkin:string = \"\",selectedDisableSkin:string = \"\"):void\r\n    {\r\n        this.skins = new Array<string>();\r\n        this.skins.push(upSkin);\r\n        this.skins.push(overSkin);\r\n        this.skins.push(downSkin);\r\n        this.skins.push(disableSkin);\r\n        this.skins.push(selectedSkin);\r\n        this.skins.push(selectedDisableSkin);\r\n\r\n        if (!this._loadSkins)\r\n            this._loadSkins = [];\r\n        else\r\n        {\r\n            this.clearLoadSkins();\r\n            this._loadSkins.length = 0;\r\n        }\r\n        let url:string = \"\";\r\n        for (let i:number = 0; i < this.skins.length; i++)\r\n        {\r\n            url = this.skins[i];\r\n            if (url)\r\n            {\r\n                if (this._loadSkins.indexOf(url) == -1)\r\n                {\r\n                    this._loadSkins.push(url);\r\n                    RES.AddReference(url);\r\n                    RES.GetResByUrl(url,this,this.onSkinLoaded,\"\",url);\r\n                }\r\n            }\r\n        }\r\n    } \r\n\r\n    /**重新加载按钮皮肤 - 针对runtime皮肤资源*/\r\n    public ReloadSkin():void\r\n    {\r\n        if (!this.skins || this.skins.length <= 0) return;\r\n        if (this.skins[0].indexOf(\"/\") == -1) return;\r\n        let url:string = \"\";\r\n        for (let i:number = 0; i < this.skins.length; i++)\r\n        {\r\n            url = this.skins[i];\r\n            if (url)\r\n            {\r\n                RES.GetResByUrl(url,this,this.onSkinLoaded,\"\",url);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected onSkinLoaded(texture:Laya.Texture,url:string):void\r\n    {\r\n        if (this.skins && this.skins.indexOf(url) != -1)\r\n        {\r\n            // this.setStateChanged();\r\n            // this.setLayoutChanged();\r\n            //线上偶现按钮显示不出问题：原因不明，尝试修改成立即执行看看效果\r\n            this.changeState();\r\n            this.changeLayout();\r\n        }\r\n    }\r\n\r\n    /**九宫格,数据格式：\"上边距,右边距,下边距,左边距,是否重复填充(值为0：不重复填充，1：重复填充)\"，以逗号分隔。*/\r\n    public set sizeGrid(value:string)\r\n    {\r\n        this.background.sizeGrid = value;\r\n    }\r\n\r\n    public set label(value:string)\r\n    {\r\n        this._text = value;\r\n        this.textField.text = value;\r\n    }\r\n\r\n    public get label():string\r\n    {\r\n        return this._text;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的文本颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set labelColors(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._labelColors = value.split(\",\");\r\n            this.setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**表示按钮文本标签的字体大小。*/        \r\n    public set labelSize(value:number)\r\n    {\r\n        this.textField.fontSize = value;\r\n    }        \r\n\r\n    /**表示按钮文本标签的字体名称，以字符串形式表示。*/\r\n    public set labelFont(value:string)\r\n    {\r\n        this.textField.font = value;\r\n    }\r\n\r\n    public set labelWordWrap(value:boolean)\r\n    {\r\n        this.textField.wordWrap = value;\r\n    }\r\n\r\n    public set labelLeading(value:number)\r\n    {\r\n        this.textField.leading = value;\r\n    }\r\n\r\n    /**标签水平对齐模式，默认为居中对齐。 */\r\n    public set labelAlign(value:string)\r\n    {\r\n        this.textField.align = value;\r\n    }\r\n\r\n    /**标签垂直对齐模式，默认为居中对齐。 */\r\n    public set labelValign(value:string)\r\n    {\r\n        this.textField.valign = value;\r\n    }\r\n\r\n    /**\r\n     * 表示按钮各个状态下的描边颜色。\r\n     * <p><b>格式:</b> \"upColor,overColor,downColor,disableColor,selectedColor\"。</p>\r\n     */\r\n    public set strokeColors(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._strokeColors = value.split(\",\");\r\n            this.setStateChanged();\r\n        }\r\n    }\r\n\r\n    /**描边宽度（以像素为单位）。 默认值0，表示不描边*/\r\n    public set labelStroke(value:number)\r\n    {\r\n        this.textField.stroke = value;\r\n    }\r\n    \r\n    /**表示按钮文本标签是否为粗体字。*/\r\n    public set labelBold(value:boolean)\r\n    {\r\n        this.textField.bold = value;\r\n    }\r\n\r\n    /**表示按钮文本标签是否为斜体。*/\r\n    public set labelItalic(value:boolean)\r\n    {\r\n        this.textField.italic = value;\r\n    }\r\n\r\n    /**\r\n    *表示按钮文本标签的边距。\r\n    *<p><b>格式：</b>\"上边距,右边距,下边距,左边距\"。</p>\r\n    */\r\n    public set labelPadding(value:string)\r\n    {\r\n        if (value)\r\n        {\r\n            this._labelPadding = value.split(\",\");\r\n            this.setLayoutChanged();\r\n        }\r\n    }\r\n    \r\n    public set enabled(value:boolean)\r\n    {\r\n        this._enabled = value;\r\n        // this.ButtonMode = value;\r\n        this.setStateChanged();\r\n    }\r\n\r\n    public get enabled():boolean\r\n    {\r\n        return this._enabled;\r\n    }\r\n\r\n    public set selected(value:boolean)\r\n    {\r\n        this._selected = value;\r\n        this.setStateChanged();\r\n    }\r\n\t\t\r\n    public get selected():boolean\r\n    {\r\n        return this._selected;\r\n    }    \r\n\r\n    public on(type: string, caller: any, listener: Function, args?: Array<any>):Laya.EventDispatcher\r\n    {\r\n        if (!this.eventDispatcher) \r\n            this.eventDispatcher = new Laya.EventDispatcher();\r\n        return this.eventDispatcher.on(type,caller,listener,args);\r\n    }\r\n\r\n    public off(type: string, caller: any, listener: Function, onceOnly?: boolean):Laya.EventDispatcher\r\n    {\r\n        if (!this.eventDispatcher) return;\r\n        return this.eventDispatcher.off(type,caller,listener,onceOnly);\r\n    }\r\n\r\n    // 代理的事件执行\r\n    public dispatcherEvent(type: string, data?: any):boolean\r\n    {\r\n        if (!this.eventDispatcher) return;\r\n        this.eventDispatcher.event(type,data);\r\n    }\r\n\r\n    protected onMouse(event:Laya.Event):void\r\n    {\r\n        if (event.type == Laya.Event.MOUSE_UP)\r\n            this.phase = ButtonPhaseEnum.over;\r\n        else if (event.type == Laya.Event.MOUSE_OVER)\r\n            this.phase = ButtonPhaseEnum.over;\r\n        else if (event.type == Laya.Event.MOUSE_DOWN)\r\n        {\r\n            this.phase = ButtonPhaseEnum.down;\r\n            // SgsSoundManager.PlayEffectSound(\"res/assets/runtime/voice/effect/button_effect_sound.mp3\");\r\n        }\r\n        else if (event.type == Laya.Event.MOUSE_OUT)\r\n            this.phase = ButtonPhaseEnum.up;\r\n\r\n        if (this.enabled && !this.selected) {\r\n            this.setStateChanged();\r\n        }\r\n        //禁用或选中状态时只会禁用click事件，其他鼠标事件正常(考虑禁用或选中时可能需要显示tooltip)\r\n        if (event.type == Laya.Event.CLICK)\r\n        {   \r\n            if (!this.enabled) {//禁用状态阻止事件\r\n                // event.stopPropagation();\r\n                return;\r\n            }\r\n            if (this.selected && !this.selectedEnabled) {//选中状态阻止事件\r\n                // event.stopPropagation();\r\n                return;\r\n            }\r\n        }        \r\n        if (this.eventDispatcher) this.eventDispatcher.event(event.type,event);\r\n    }\r\n\r\n    protected setStateChanged():void\r\n    {\r\n        if (!this._stateChanged)\r\n        {\r\n            this._stateChanged = true;\r\n            Laya.timer.callLater(this,this.changeState);\r\n        }\r\n    }\r\n\r\n    protected changeState():void//状态变化\r\n    {\r\n        this._stateChanged = false;\r\n\r\n        if (!this.skins || this.skins.length < 6) return;\r\n\r\n        let curSkin:string = \"\";\r\n        let textColor:string = \"\";\r\n        let strokeColor:string = \"\";\r\n        if (!this._enabled)\r\n        {\r\n            curSkin = this._selected ? this.skins[5] : this.skins[3];\r\n            textColor = this._labelColors[3];\r\n            strokeColor = this._strokeColors[3];\r\n        }\r\n        else if (this._selected)\r\n        {\r\n            curSkin = this.skins[4];\r\n            textColor = this._labelColors[4];\r\n            strokeColor = this._strokeColors[4];\r\n        }\r\n        else\r\n        {\r\n            curSkin = this.skins[this.phase];\r\n            textColor = this._labelColors[this.phase];\r\n            strokeColor = this._strokeColors[this.phase];\r\n        }\r\n        if (curSkin == \"\" || !RES.GetRes(curSkin)) curSkin = this.skins[0];\r\n        if (!textColor) textColor = \"#ffffff\";\r\n        if (!strokeColor) strokeColor = \"#000000\";\r\n        this.background.texture = RES.GetRes(curSkin);\r\n        this.textField.color = textColor;\r\n        this.textField.strokeColor = strokeColor;\r\n    }\r\n\r\n    protected setLayoutChanged():void\r\n    {\r\n        if (!this._layoutChanged)\r\n        {\r\n            this._layoutChanged = true;\r\n            Laya.timer.callLater(this,this.changeLayout);\r\n        }\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        this._layoutChanged = false;\r\n\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        let right:number = parseInt(this._labelPadding[1]);\r\n        let top:number = parseInt(this._labelPadding[0]);\r\n        let bottom:number = parseInt(this._labelPadding[2]);\r\n\r\n        this.textField.x = left;\r\n        this.textField.y = top;\r\n        this.textField.width = this.width - left - right;\r\n        this.textField.height = this.height - top - bottom;\r\n    }\r\n\r\n    protected redPointFlag:SgsTexture;\r\n    protected redPointIsShow:boolean = false;\r\n    public ShowRedPoint(res:string = \"TopRedPoint\",x:number = 0,y:number = 0):void\r\n    {\r\n        if (!this.redPointFlag)\r\n        {\r\n            let tex:Laya.Texture = RES.GetRes(res);\r\n            if (!tex) return;\r\n            this.redPointFlag = new SgsTexture(tex);\r\n            let redPoint = this.RedPoint;\r\n            if (x) redPoint.x = x;\r\n            if (y) redPoint.y = y;\r\n            this.redPointFlag.x = redPoint.x;\r\n            this.redPointFlag.y = redPoint.y;\r\n            this.addDrawChild(this.redPointFlag);\r\n        }\r\n        else\r\n        {\r\n           this.redPointFlag.visible = true; \r\n        }\r\n\r\n        this.redPointIsShow = true;\r\n    }\r\n\r\n    public RemoveRedPoint():void\r\n    {\r\n        if (this.redPointFlag)\r\n            this.redPointFlag.visible = false;\r\n        this.redPointIsShow = false;\r\n    }\r\n\r\n    public RedPointIsShow():boolean\r\n    {\r\n        return this.redPointIsShow;\r\n    }\r\n\r\n    //红点默认坐标\r\n    protected get RedPoint():{x:number,y:number}\r\n    {\r\n        return {x:this.width - 14,y:-4};\r\n    }\r\n\r\n    protected clearLoadSkins():void\r\n    {\r\n        if (this._loadSkins && this._loadSkins.length)\r\n        {\r\n            this._loadSkins.forEach(url => {\r\n                RES.DelReference(url);\r\n                RES.CancelGetResByUrl(url,this,this.onSkinLoaded);\r\n                RES.ClearResByUrl(url);\r\n            });\r\n            this._loadSkins.length = 0;\r\n        }\r\n    }\r\n\r\n    public destroy():void\r\n    {\r\n        if (this.eventDispatcher)\r\n        {\r\n            this.eventDispatcher.offAll();\r\n            this.eventDispatcher = null;\r\n        }\r\n        super.destroy();\r\n        this.clearLoadSkins();\r\n        this._loadSkins = null;\r\n    }\r\n}","import AnimateManager from \"../../../mode/base/AnimateManager\";\r\nimport SceneManager from \"../../../mode/base/SceneManager\";\r\nimport SgsSoundManager from \"../../../mode/base/SgsSoundManager\";\r\nimport WindowManager from \"../../../mode/base/WindowManager\";\r\nimport SgsFlatContainer from \"./SgsFlatContainer\";\r\nimport SgsSkeleton from \"./SgsSkeleton\";\r\n\r\nexport default class SgsSkeletonEffect extends SgsSkeleton\r\n{\r\n    public static CLEAR_FOLLOW_SCENE:string = \"clearFollowScene\";//跟随场景回收\r\n\r\n    public static LOAD_COMPLETE:string = \"loadComplete\";//加载完成事件\r\n    public static PLAY_COMPLETE:string = \"playComplete\";//播放结束事件\r\n\r\n    protected _isStop:boolean = false;//是否已停止\r\n\r\n    protected animateUrl:string = \"\";\r\n    protected mode:number = 0;\r\n    protected soundUrl:string = \"\";\r\n    protected slotSkins:Array<{slotName:string,texture:Laya.Texture}>;\r\n    \r\n    //组件回收策略\r\n    protected _forceFllowTarget:Laya.Sprite;//组件强制跟随回收对象：跟随此对象销毁而销毁，主要用于特效添加到其他层时使用\r\n    public autoRecoverSelf:boolean = false;//自动回收自身：动画播放结束时回收自身，若循环播放则此属性无效\r\n    public loadErrorRecoverSelf:boolean = false;//加载失败回收自身\r\n\r\n    //动画模板回收策略\r\n    public autoClearTemplet:boolean = false;//自动回收动画模板：回收自身时回收动画模板\r\n    public clearTempletFollow:string = \"\";//scene：随场景回收 ***window：随窗口回收 \r\n\r\n    //对象池回收策略\r\n    public poolSign:string = \"\";//对象池标记:存在表示回收至对象池\r\n    public clearPoolFollow:string = \"\";//scene：随场景回收 ***window：随窗口回收 \r\n    public poolCount:number = 0;//对象池个数：限制对象池中对象个数 0表示不限制\r\n\r\n    //延迟回调\r\n    public delayTime:number = 0;//播放后延迟***毫秒回调\r\n    public delayHandler:Laya.Handler;//延迟回调\r\n\r\n    constructor(temp?:Laya.Templet,mode?:number)\r\n    {\r\n        super(temp,mode);\r\n    }\r\n\r\n    public set forceFllowTarget(target:Laya.Sprite)//组件强制跟随回收对象：跟随此对象销毁而销毁，主要用于特效添加到其他层时使用\r\n    {\r\n        if (this._forceFllowTarget)\r\n            this._forceFllowTarget.off(\"destroyEvent\",this,this.onFollowDestroy);\r\n        this._forceFllowTarget = target;\r\n        if (this._forceFllowTarget)\r\n            this._forceFllowTarget.on(\"destroyEvent\",this,this.onFollowDestroy);\r\n    }\r\n\r\n    public poolStrategy(poolSign:string,clearPoolFollow:string = \"\",poolCount:number = 0):void//对象池策略\r\n    {\r\n        this.poolSign = poolSign;\r\n        this.clearPoolFollow = clearPoolFollow;\r\n        this.poolCount = poolCount;\r\n    }\r\n\r\n    public RecoverPool():void//回收到对象池\r\n    {\r\n        if (this.destroyed || this[\"__InPool\"]) return;\r\n        let pools:Array<any> = Laya.Pool.getPoolBySign(this.poolSign);\r\n        if (this.poolCount <= 0 || !pools || pools.length < this.poolCount)//限制对象池个数\r\n        {\r\n            //随窗口或场景清理对象池 - 将对象池标记添加到窗口或场景上\r\n            if (this.clearPoolFollow == SgsSkeletonEffect.CLEAR_FOLLOW_SCENE)\r\n                SceneManager.GetInstance().AddRecoverEffectPool(this.poolSign);\r\n            else if (this.clearPoolFollow)\r\n                WindowManager.GetInstance().AddRecoverEffectPool(this.clearPoolFollow,this.poolSign);\r\n            Laya.Pool.recover(this.poolSign,this);\r\n        }   \r\n        else\r\n        {\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n    public stop():void//停止\r\n    {\r\n        this._isStop = true;\r\n        this.off(Laya.Event.STOPPED,this,this.onEffectStop);\r\n        super.stop();\r\n    }\r\n\r\n    public paused():void//暂停\r\n    {\r\n        this._isStop = true;\r\n        super.paused();\r\n    }\r\n\r\n    public resume():void//恢复\r\n    {\r\n        this._isStop = false;\r\n        super.resume();\r\n    }\r\n\r\n    public get AnimateUrl():string\r\n    {\r\n        return this.animateUrl;\r\n    }\r\n\r\n    public get PlayIndex():any\r\n    {\r\n        return this.nameOrIndex;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param url 特效文件url\r\n     * @param nameOrIndex 名称或者索引 -1表示加载完不自动播放\r\n     * @param loop 是否循环播放\r\n     * @param mode 播放模式\r\n     * @param playbackRate 速率\r\n     * @param soundUrl 声音文件，播放特效时同时播放声音\r\n     */\r\n    public playEffect(url:string,nameOrIndex:any = 0,loop:boolean = false,mode:number = 0,playbackRate:number = 1,soundUrl:string = \"\"):void\r\n    {\r\n        if (this.destroyed)\r\n        {\r\n            this.clearEffect();\r\n            return;\r\n        }\r\n        let animateManager:AnimateManager = AnimateManager.GetInstane();\r\n        if (this.animateUrl)\r\n        {\r\n            animateManager.DelReference(this.animateUrl);\r\n            if (url != this.animateUrl)//新传入的动画与之前的动画不一致\r\n            {\r\n                this.clearSkeletonContent();\r\n                if (this.autoClearTemplet)//自动回收动画模板\r\n                    AnimateManager.GetInstane().DestroyAnimate(this.animateUrl); \r\n            }  \r\n        }\r\n        this.animateUrl = url;\r\n        if (!this.animateUrl) return;\r\n        this.nameOrIndex = nameOrIndex;\r\n        this.playLoop = loop;\r\n        this.mode = mode;\r\n        this._playbackRate = playbackRate;\r\n        this.soundUrl = soundUrl;\r\n        animateManager.AddReference(this.animateUrl);\r\n\r\n        //随窗口或场景清理模板 - 将模板添加到窗口或场景上\r\n        if (this.clearTempletFollow == SgsSkeletonEffect.CLEAR_FOLLOW_SCENE)\r\n            SceneManager.GetInstance().AddRecoverTemplet(this.animateUrl);\r\n        else if (this.clearTempletFollow)    \r\n            WindowManager.GetInstance().AddRecoverTemplet(this.clearTempletFollow,this.animateUrl);\r\n\r\n        this[\"_pause\"] = true;\r\n        this._isStop = false;\r\n        let templet:Laya.Templet = this.templet;\r\n        if (templet && !templet[\"_isDestroyed\"] && templet[\"_skBufferUrl\"] == url && animateManager.HasTemplet(url))//可以直接开始播放\r\n        {\r\n            this.onStartPlay(this.templet,true);\r\n            this.event(SgsSkeletonEffect.LOAD_COMPLETE,templet);//派发加载结束事件\r\n        }\r\n        else\r\n        {   \r\n            this.on(AnimateManager.ANIMATE_LOAD_COMPLETE,this,this.onLoadComplete);\r\n            animateManager.LoadAnimate(url,this);\r\n        }\r\n    }\r\n\r\n    /**预设插槽皮肤*/\r\n    public presetSlotSkins(val:Array<{slotName:string,texture:Laya.Texture}>):void\r\n    {\r\n        this.slotSkins = val;\r\n    }\r\n\r\n    protected onLoadComplete(temp:Laya.Templet):void//加载完成\r\n    {\r\n        if (!temp) return;//原则上不会发生\r\n        if (typeof(temp) == \"string\")//加载失败\r\n        {\r\n            if (this.animateUrl == temp)//是本次需要的动画\r\n            {\r\n                this.onLoadError();\r\n                this.event(SgsSkeletonEffect.LOAD_COMPLETE,temp);//派发加载结束事件：不代表加载成功(可能因为没有资源或网络问题导致加载失败)\r\n            }\r\n            return;\r\n        }\r\n        if (this.animateUrl != temp.name) return;//不是本次需要的动画\r\n        this.off(AnimateManager.ANIMATE_LOAD_COMPLETE,this,this.onLoadComplete);\r\n        \r\n        if (this.destroyed)\r\n        {\r\n            this.clearEffect();\r\n            return;\r\n        }\r\n\r\n        this.clearSkeletonContent();\r\n        this.onStartPlay(temp);\r\n        this.event(SgsSkeletonEffect.LOAD_COMPLETE,temp);//派发加载结束事件\r\n    }\r\n\r\n    protected onLoadError():void//加载失败处理\r\n    {\r\n        if (this.loadErrorRecoverSelf || (this.autoRecoverSelf && !this.playLoop))//加载失败自动回收或播放结束自动回收\r\n            this.clearEffect();\r\n    }\r\n\r\n    protected onStartPlay(temp:Laya.Templet,isEqual:boolean = false):void//开始播放\r\n    {\r\n        if (!isEqual || this[\"_aniMode\"] != this.mode)//相同url、模式无需初始化\r\n            this.init(temp,this.mode);\r\n        this.playbackRate(this._playbackRate);\r\n        if (!this.playLoop)//循环播放无法收到结束事件，反而外部调用stop接口时会收到结束事件\r\n            this.on(Laya.Event.STOPPED,this,this.onEffectStop);\r\n        this.changeSlotSkin();\r\n        if (this.nameOrIndex != -1 && !this._isStop)//存在播放动作且未停止\r\n        {\r\n            this.play(this.nameOrIndex,this.playLoop);\r\n            if (this.soundUrl) \r\n                SgsSoundManager.PlaySound(this.soundUrl);\r\n            if (this.delayTime && this.delayHandler)\r\n                Laya.timer.once(this.delayTime,this,this.onDelayHandler);\r\n        }\r\n    }\r\n\r\n    protected changeSlotSkin():void//换肤\r\n    {\r\n        if (this.slotSkins && this.slotSkins.length > 0)//预设插槽皮肤处理\r\n        {\r\n            this.slotSkins.forEach(element => {\r\n                if (element.slotName && element.texture)\r\n                    this.setSlotSkin(element.slotName,element.texture);\r\n            });\r\n        }\r\n    }\r\n\r\n    protected onDelayHandler():void//延迟回调\r\n    {\r\n        if (this.delayHandler)\r\n        {\r\n            this.delayHandler.run();\r\n            this.delayHandler = null;\r\n        }\r\n    }\r\n\r\n    protected onEffectStop():void//播放结束\r\n    {\r\n        this.event(SgsSkeletonEffect.PLAY_COMPLETE,this);\r\n        if (this.autoRecoverSelf)//自动回收\r\n            this.clearEffect();\r\n    }\r\n\r\n    protected onFollowDestroy(target:Laya.Sprite):void//回收跟随的对象destroy了\r\n    {\r\n        this.destroy();\r\n    }\r\n\r\n    protected clearSkeletonContent():void//清理skeleton内容\r\n    {\r\n        if (!this.templet || !this.player) return;//从未播放过\r\n        this.off(Laya.Event.STOPPED,this,this.onEffectStop);\r\n        super.stop();\r\n        this.removeChildren();\r\n    }\r\n    \r\n    /** 清理特效\r\n      * @param force 强制回收：忽略回收至对象池(用于清理对象池中特效和场景或窗口退出时强制清理特效)\r\n    */\r\n    public clearEffect(force:boolean = false):void\r\n    {\r\n        if (this.destroyed) return;\r\n        Laya.timer.clearAll(this);\r\n        this.offAll();\r\n        this.off(AnimateManager.ANIMATE_LOAD_COMPLETE,this,this.onLoadComplete);\r\n        this.off(Laya.Event.STOPPED,this,this.onEffectStop);\r\n        let parentContainer:SgsFlatContainer = this[\"parentContainer\"];\r\n        let otherRenderIndex:number = this[\"otherRenderIndex\"];\r\n        if (!force && this.poolSign)//回收至对象池\r\n        {\r\n            super.stop();\r\n            if (parentContainer && otherRenderIndex >= 0)//添加到额外层的\r\n                parentContainer.removeOherChild(otherRenderIndex,this,false);\r\n            else\r\n                this.removeSelf();\r\n        }\r\n        else\r\n        {\r\n            if (parentContainer && otherRenderIndex >= 0)//添加到额外层的\r\n                parentContainer.removeOherChild(otherRenderIndex,this,true);\r\n            else\r\n                super.destroy(true);\r\n        }\r\n        this._isStop = false;\r\n        let animateManager:AnimateManager = AnimateManager.GetInstane();\r\n        if (this.animateUrl)\r\n        {\r\n            animateManager.DelReference(this.animateUrl);\r\n            if (this.autoClearTemplet)//自动回收动画模板\r\n                AnimateManager.GetInstane().DestroyAnimate(this.animateUrl);\r\n            this.animateUrl = \"\";\r\n        }\r\n        if (this._forceFllowTarget)\r\n        {\r\n            this._forceFllowTarget.off(\"destroyEvent\",this,this.onFollowDestroy);\r\n            this._forceFllowTarget = null;\r\n        }\r\n        this.slotSkins = null;\r\n        this.delayHandler = null;\r\n        if (!force && this.poolSign)//回收至对象池\r\n        {\r\n            this.RecoverPool();\r\n        }\r\n    }\r\n\r\n    public destroy(destroyChild:boolean = true):void\r\n    {\r\n        if (!this.destroyed)\r\n        {\r\n            this.clearEffect(true);\r\n            if (!this.destroyed)\r\n                super.destroy(true);\r\n        }\r\n    }\r\n}","import RES from \"../../../res/RES\";\r\nimport SgsImage from \"./SgsImage\";\r\nimport SgsSkeletonEffect from \"./SgsSkeletonEffect\";\r\n\r\n/*\r\n* spine按钮：默认组件destroy时自动回收spine模板\r\n* 可通过设置：autoClearTemplet、clearTempletFollow调整模板回收策略\r\n* 设置的size值为点击区域\r\n*/\r\nexport default class SgsSkeletonButton extends SgsSkeletonEffect\r\n{\r\n    protected skUrl:string = \"\";\r\n    protected actionName:any = 0;\r\n    protected redIcon:SgsImage;\r\n\r\n    constructor(skUrl:string,actionName:any = 0,autoClearTemplet:boolean = true,clearTempletFollow:string = \"\")\r\n    {\r\n        super();\r\n\r\n        this.autoClearTemplet = autoClearTemplet;\r\n        this.clearTempletFollow = clearTempletFollow;\r\n\r\n        this.skUrl = skUrl;\r\n        this.actionName = actionName;\r\n        this.playEffect(skUrl,actionName,true);\r\n        this.on(Laya.Event.MOUSE_DOWN,this,this.mouseDownHandler);\r\n    }\r\n\r\n    //自定义点击区域:一般用于spine动画原点在中心点的时候\r\n    public ClickArea(x:number,y:number,width:number,height:number):void\r\n    {\r\n        if (!this.hitArea)\r\n            this.hitArea = new Laya.Rectangle(x,y,width,height);\r\n        else\r\n            this.hitArea.setTo(x,y,width,height);\r\n        this.size(width,height);\r\n    }\r\n\r\n    //显示红点\r\n    public ShowRedPoint(res:string = \"TopRedPoint\",xx:number = 45,yy:number = 2):void\r\n    {\r\n        if(!this.redIcon)\r\n        {\r\n            this.redIcon = new SgsImage();\r\n            this.redIcon.source = RES.GetRes(res);\r\n            this.addChild(this.redIcon);\r\n            this.redIcon.pos(xx, yy);\r\n        }\r\n        this.redIcon.visible = true;\r\n    }\r\n\r\n    //移除红点\r\n    public RemoveRedPoint():void\r\n    {\r\n        if (this.redIcon)\r\n            this.redIcon.visible = false;\r\n    }\r\n\r\n    protected mouseDownHandler(event:Laya.Event):void\r\n    {\r\n        // SgsSoundManager.PlayEffectSound(\"res/assets/runtime/voice/effect/button_effect_sound.mp3\");\r\n    }\r\n\r\n    public destroy(destroyChild:boolean = true):void\r\n    {\r\n        this.off(Laya.Event.MOUSE_DOWN,this,this.mouseDownHandler);\r\n        this.hitArea = null;\r\n        super.destroy(destroyChild);\r\n    }\r\n}","import SgsFlatButton from \"./SgsFlatButton\";\r\nimport SgsSprite from \"./SgsSprite\";\r\n\r\n/*\r\n* 扁平CheckBox:状态改变后派发Laya.Event.CHANGE事件，手动设置selected属性不派发事件。\r\n*/\r\nexport default class SgsFlatCheckBox extends SgsFlatButton\r\n{   \r\n    protected _data:any;\r\n\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n\r\n        this.labelPadding = \"0,0,0,5\";\r\n    }\r\n\r\n    protected _width:number = 0;\r\n    public set width(value:number)\r\n    {\r\n        this._width = value;\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        if (this._width > 0)//外部设置了宽度\r\n            return this._width;\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        return this.background.width + left + this.textField.width;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return Math.max(this.background.height,this.textField.height);\r\n    }\r\n\r\n    public size(width:number, height:number):void\r\n    {\r\n        \r\n    }\r\n\r\n    public set data(value:any)\r\n    {\r\n        this._data = value;\r\n    }\r\n\r\n    public get data():any\r\n    {\r\n        return this._data;\r\n    }\r\n\r\n    protected initChilds():void\r\n    {\r\n        super.initChilds();\r\n\r\n        this.textField.mouseEnabled = true;\r\n        // this.textField.ButtonMode = true;\r\n        this.textField.align = \"left\";\r\n        this.textField.valign = \"top\";\r\n    }\r\n\r\n    /**绘制*/\r\n\tpublic Draw(render:SgsSprite,index:number = -1):void\r\n\t{\r\n        super.Draw(render,index);\r\n\r\n        this.textField.on(Laya.Event.MOUSE_UP,this,this.onUp);\r\n        this.textField.on(Laya.Event.MOUSE_OVER,this,this.onOver);\r\n        this.textField.on(Laya.Event.MOUSE_DOWN,this,this.onDown);\r\n        this.textField.on(Laya.Event.MOUSE_OUT,this,this.onOut);\r\n        this.textField.on(Laya.Event.CLICK,this,this.onClick);\r\n\t}\r\n\r\n\t/**清除 -- 擦除绘制及数据*/\r\n\tpublic ClearDraw(destroy:boolean = true):void\r\n\t{\r\n        super.ClearDraw(destroy);\r\n\r\n        this.textField.off(Laya.Event.MOUSE_UP,this,this.onUp);\r\n        this.textField.off(Laya.Event.MOUSE_OVER,this,this.onOver);\r\n        this.textField.off(Laya.Event.MOUSE_DOWN,this,this.onDown);\r\n        this.textField.off(Laya.Event.MOUSE_OUT,this,this.onOut);\r\n        this.textField.off(Laya.Event.CLICK,this,this.onClick);\r\n\t}\r\n\r\n    public set enabled(value:boolean)\r\n    {\r\n        Laya.superSetter(SgsFlatCheckBox,this,\"enabled\",value);\r\n        // this.textField.ButtonMode = value;\r\n    }\r\n\r\n    public get enabled():boolean\r\n    {\r\n        return Laya.superGetter(SgsFlatCheckBox,this,\"enabled\");\r\n    }\r\n\r\n    public set TipTriggerType(value:any)\r\n    {\r\n        Laya.superSetter(SgsFlatCheckBox,this,\"TipTriggerType\",value);\r\n        this.textField.TipTriggerType = value;\r\n    }\r\n\r\n    public set ToolTip(value:any)\r\n    {\r\n        Laya.superSetter(SgsFlatCheckBox,this,\"ToolTip\",value);\r\n        this.textField.ToolTip = value;\r\n    }\r\n\r\n    public get ToolTip():any\r\n    {\r\n        return Laya.superGetter(SgsFlatCheckBox,this,\"ToolTip\");\r\n    }\r\n\r\n    protected onClick(event:Laya.Event):void\r\n    {\r\n        super.onClick(event);\r\n\r\n        if (!this.enabled) return;//禁用状态阻止事件\r\n        this.dispEventChange(event);\r\n    }\r\n\r\n    protected dispEventChange(event:Laya.Event):void\r\n    {\r\n        this.selected = !this.selected;\r\n        this.event(Laya.Event.CHANGE,this);\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        this._layoutChanged = false;\r\n\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        let top:number = parseInt(this._labelPadding[0]);\r\n\r\n        this.textField.x = this.background.width + left;\r\n        if (this.background.height >= this.textField.height)//图比文字高\r\n        {\r\n            this.background.y = 0;\r\n            this.textField.y = top + (this.background.height - this.textField.height >> 1);\r\n        }\r\n        else\r\n        {\r\n            this.textField.y = 0;\r\n            this.background.y = top + (this.textField.height - this.background.height >> 1);\r\n        }\r\n    }\r\n}","import SgsSpriteButton from \"./SgsSpriteButton\";\r\nimport FontName from \"../../../enum/FontName\";\r\n\r\nexport default class ComboboxRenderItem extends SgsSpriteButton\r\n{\r\n     constructor()\r\n     {\r\n        super();\r\n       \r\n        this.height = 26;\r\n        this.labelSize = 14;\r\n        this.labelFont = FontName.ST;\r\n        this.labelColors = \"#FAEDD9,#FAEDD9,#FAEDD9,gray\";\r\n        this.labelAlign = \"left\";\r\n        this.labelPadding = \"0,3,0,3\";\r\n        this.InitSkin('EmptyImg',\"ComboBoxItemOver\",\"ComboBoxItemOver\");\r\n    }\r\n\r\n    public set dataSource(obj:any)\r\n    {\r\n        if (obj)\r\n        {\r\n            this.width = (this.parent.parent as Laya.List).width;\r\n            this.label = obj.label;\r\n        }\r\n        else\r\n        {\r\n            this.label = \"\";\r\n        }\r\n    }\r\n}","\r\nimport RES from \"../res/RES\";\r\nimport AESUtils from \"./AESUtils\";\r\n\r\nexport default class Crypt extends AESUtils\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public static GetInstance():any\r\n    {\r\n        // if (!this.IsWasmCrypt)\r\n            return new Crypt();\r\n        // else\r\n        //     return CtrUtil.Ctr;\r\n    }\r\n\r\n    /**是否采用wasm加解密*/\r\n    public static get IsWasmCrypt():boolean\r\n    {\r\n        // if (!Laya.Browser.window.WebAssembly || ChannelUtils.IsQQ || ChannelUtils.IsQQLobby)\r\n        //     return false;\r\n        // return true;\r\n        return false;\r\n    }\r\n\r\n    /**切换加解密资源*/\r\n    public static SwitchCryptRes(groupName:string):void\r\n    {\r\n        let item = RES.GetResourceItem(groupName);\r\n        if (!item) return;\r\n        let repl:string = this.IsWasmCrypt ? \".sgs\" : \"_a.sgs\";\r\n        if (item.type != \"arraybuffer\")//原始资源切换(ViewTipConfig_json)\r\n        {\r\n            item.type = \"arraybuffer\";\r\n            item.url = item.url.replace(\".json\", repl);\r\n        }\r\n        else//Config_sgs、Proto_sgs\r\n        {\r\n            item.url = item.url.replace(\".sgs\", repl);\r\n        }\r\n    }\r\n}","import ManagerBase from \"./ManagerBase\";\r\nimport ToolTips from \"../../ui/tooltip/ToolTips\";\r\nimport ToolTipBase from \"../../ui/tooltip/ToolTipBase\";\r\nimport TipsEvent from \"../../event/TipsEvent\";\r\nimport EventExpand from \"../../event/EventExpand\";\r\nimport GameEventDispatcher from \"../../event/GameEventDispatcher\";\r\nimport SceneManager from \"./SceneManager\";\r\nimport PromptLayer from \"../../ui/layer/PromptLayer\";\r\nimport SgsTexture from \"../../ui/controls/base/SgsTexture\";\r\nimport SgsText from \"../../ui/controls/base/SgsText\";\r\nimport SystemContext from \"../../SystemContext\";\r\n\r\n/*\r\n* name;\r\n*/\r\nexport default class TipsManager extends ManagerBase\r\n{\r\n    public static LONG_DOWN_TRIGGER:string = \"longDownTrigger\";//长按触发\r\n    public static CLICK_TRIGGER:string = \"clickTrigger\";//点击触发\r\n\r\n    private toolTips:ToolTips;\r\n    private currentTip:ToolTipBase;\r\n    private viewArr:Array<ToolTipBase>;\r\n    \r\n    private delayEvent:TipsEvent;\r\n    private curTipsEvent:TipsEvent;\r\n    private tipsHideTime:number;\r\n    // private targetPoint:Laya.Point;//手型对象相对舞台坐标\r\n    // private targetArea:Laya.Rectangle;//手型对象相对舞台区域\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        // this.targetPoint = new Laya.Point();\r\n        // this.targetArea = new Laya.Rectangle();\r\n        this.viewArr = [];\r\n    }\r\n\r\n    private static instance:TipsManager;\r\n    public static GetInstance():TipsManager\r\n    {\r\n        if (!this.instance)\r\n            this.instance = new TipsManager();\r\n        return this.instance;\r\n    }\r\n\r\n    public RegisterTips(val:any,triggerType:string,caller:any):void//注册tips对象\r\n    {\r\n        let eventType:string = \"\";\r\n        if (triggerType == \"\" || triggerType == TipsManager.CLICK_TRIGGER)\r\n            eventType = Laya.Event.CLICK;\r\n        else\r\n            eventType = EventExpand.LONG_DOWN;\r\n        \r\n        if (val) \r\n        {\r\n            caller.on(eventType,this,this.onOverHandler);\r\n        }\r\n        else\r\n        {\r\n            caller.off(eventType,this,this.onOverHandler);\r\n            TipsManager.GetInstance().HideTargetTips(caller);\r\n        }\r\n    }\r\n\r\n    private onOverHandler(event:any):void\r\n    {\r\n        let tipsEvent:TipsEvent = TipsEvent.create(event instanceof Laya.Event ? event.currentTarget : event);\r\n        TipsManager.GetInstance().onDelayShowTip(tipsEvent);\r\n    }\r\n\r\n    public get CurrentTip():ToolTipBase\r\n    {\r\n        return this.currentTip;\r\n    }\r\n\r\n    public get CurrentTarget():any\r\n    {\r\n        if (this.curTipsEvent)\r\n           return this.curTipsEvent.target;\r\n        return null;\r\n    }\r\n\r\n    public HideTargetTips(target:any):void\r\n    {\r\n        if (!target) return;\r\n        if (this.curTipsEvent && target == this.curTipsEvent.target)\r\n            this.TipsHide();\r\n        else if (this.delayEvent && target == this.delayEvent.target)\r\n            this.stopDelayTips();\r\n    }\r\n\r\n    public AddEventListener():void\r\n    {\r\n        super.AddEventListener();\r\n        GameEventDispatcher.GetInstance().on(TipsEvent.TIPS_OVER_EVENT,this,this.onDelayShowTip);\r\n\t\tGameEventDispatcher.GetInstance().on(TipsEvent.TIPS_OUT_EVENT,this,this.onHideTip);\r\n        GameEventDispatcher.GetInstance().on(TipsEvent.TIPS_SIZE_CHNAGED_EVENT,this,this.onTipsSizeChanged);\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onStageDown);\r\n    }\r\n\r\n    public RemoveEventListener():void\r\n    {\r\n        super.RemoveEventListener();\r\n    }\r\n\r\n    private onDelayShowTip(event:TipsEvent):void\r\n    {\r\n        this.stopDelayTips();//先停止之前延迟的\r\n        let now:number = new Date().getTime();\r\n        if (now - this.tipsHideTime < 500 && !(SceneManager.GetInstance().IsGameScene))\r\n            this.tipsShow(event);\r\n        else//牌局中0.5秒后显示\r\n        {\r\n            this.TipsHide();\r\n            this.delayEvent = event;\r\n            Laya.timer.once(500,this,this.tipsShow,[event]);\r\n        }\r\n    }\r\n\r\n    private onHideTip(target:any):void\r\n    {\r\n        if (target == this.CurrentTarget)\r\n            this.TipsHide();\r\n        else if (this.delayEvent && target == this.delayEvent.target)\r\n            this.stopDelayTips();\r\n    }\r\n\r\n    private tipsShow(event:TipsEvent):void\r\n    {\r\n        this.TipsHide();\r\n        this.delayEvent = null;\r\n        this.curTipsEvent = event;\r\n\t\tif(this.curTipsEvent.target && this.curTipsEvent.target.ToolTip)\r\n        {\r\n\t\t\tif (this.curTipsEvent.target.ToolTip instanceof Function)\r\n            {\r\n\t\t\t\tthis.currentTip = this.curTipsEvent.target.ToolTip.apply();\r\n\t\t\t\tif(this.currentTip instanceof Laya.Sprite)\r\n                {\r\n\t\t\t\t\tif(this.viewArr.indexOf(this.currentTip) < 0)\r\n\t\t\t\t\t\tthis.viewArr.push(this.currentTip);\r\n\t\t\t\t\tPromptLayer.GetInstance().addChild(this.currentTip);\r\n\t\t\t\t}\r\n                else\r\n                {\t\r\n\t\t\t\t\tconsole.log(\"tips没有正确返回\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n            else if (typeof this.curTipsEvent.target.ToolTip == \"string\") \r\n            {\r\n                if(!this.toolTips)\r\n                    this.toolTips = new ToolTips();\r\n\t\t\t\tPromptLayer.GetInstance().addChild(this.toolTips);\r\n\t\t\t\tthis.toolTips.showMsg(this.curTipsEvent.target.ToolTip);\r\n\t\t\t\tthis.currentTip = this.toolTips;\r\n\t\t\t}\r\n            else\r\n            {\r\n\t\t\t\tconsole.log(\"tips没有正确返回\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n            this.resetPos(this.currentTip);\r\n\t\t}\r\n\t}\r\n\r\n    private resetPosMove(tip:ToolTipBase):void\r\n    {\r\n        if(!tip || !this.curTipsEvent || !this.curTipsEvent.target)\r\n            return;\r\n        if (!tip.needAutoPos) return;\r\n        let xx:number = 0;\r\n        let yy:number = 0;\r\n        let p:Laya.Point;\r\n        if(this.curTipsEvent.target instanceof Laya.Sprite)\r\n            p = this.curTipsEvent.target.localToGlobal(new Laya.Point(0,0));\r\n        else if(this.curTipsEvent.target instanceof SgsTexture || this.curTipsEvent.target instanceof SgsText)\r\n            p = (this.curTipsEvent.target).globalPoint;\r\n        else\r\n            return;\r\n        p = PromptLayer.GetInstance().globalToLocal(p);\r\n        xx = p.x - tip.showWidth + (this.curTipsEvent.target.width >> 1);\r\n        yy = p.y - tip.showHeight - 10;\r\n        if (xx < 0)\r\n            xx = p.x + (this.curTipsEvent.target.width >> 1);\r\n        if (xx + tip.showWidth >= SystemContext.gameWidth - 10)\r\n            xx = SystemContext.gameWidth - tip.showWidth - 10;\r\n        if (yy < 0)\r\n            yy = p.y + this.curTipsEvent.target.height + 10;\r\n        if (yy + tip.showHeight >= SystemContext.gameHeight - 10)\r\n            yy = SystemContext.gameHeight - tip.showHeight - 10;\r\n        tip.x = xx;\r\n        tip.y = yy;\r\n    }\r\n\r\n    private resetPos(tip:ToolTipBase):void//重置tips位置\r\n    {\r\n        if (!tip || !this.curTipsEvent) return;\r\n        if (this.curTipsEvent.follow)//跟随鼠标\r\n        {\r\n            let p:Laya.Point = new Laya.Point(Laya.stage.mouseX,Laya.stage.mouseY);\r\n            p = PromptLayer.GetInstance().globalToLocal(p);\r\n            let xx:number = p.x;\r\n            let yy:number = p.y;\r\n            if (xx - tip.showWidth > 0)\r\n                xx -= tip.showWidth;\r\n            if (yy + tip.showHeight > SystemContext.gameHeight)\r\n                yy -= tip.showHeight;\r\n            tip.x = xx;\r\n            tip.y = yy;\r\n        }\r\n        else\r\n        {\r\n            this.resetPosMove(tip);\r\n        }\r\n    }\r\n\r\n    private stopDelayTips():void//停止延迟的tips\r\n    {\r\n        Laya.timer.clear(this,this.tipsShow);\r\n        if (this.delayEvent)\r\n        {\r\n            this.delayEvent.recover();\r\n            this.delayEvent = null;\r\n        }\r\n    }\r\n\r\n\tpublic TipsHide():void\r\n    {\r\n        Laya.timer.clearAll(this);\r\n        this.currentTip = null;\r\n\t\tif(this.toolTips && this.toolTips.parent){\r\n\t\t\tthis.toolTips.removeSelf();\r\n\t\t}\r\n\t\tthis.viewArr.forEach(tip => {\r\n\t\t\ttip.removeSelf();\r\n\t\t\ttip.destroy();\r\n\t\t})\r\n        this.viewArr.splice(0);\r\n        if (this.curTipsEvent)\r\n        {\r\n            this.curTipsEvent.recover();\r\n            this.curTipsEvent = null;\r\n        }\r\n        this.tipsHideTime = new Date().getTime();\r\n\t}\r\n\r\n    private onTipsSizeChanged(tips:ToolTipBase):void//tips尺寸变化：重置tips位置\r\n    {\r\n        if (tips) this.resetPos(tips);\r\n    }\r\n\r\n    private onStageDown(event:Laya.Event):void\r\n    {\r\n        this.stopDelayTips();//先停止之前延迟的\r\n        if (this.currentTip)//手机版:点击屏幕关闭tips\r\n            this.TipsHide();\r\n    }\r\n}","import Global from \"../Global\";\r\nimport ConfigerBase from \"./ConfigerBase\";\r\n/*\r\n* name;\r\n*/\r\nexport default class GlobalConfiger extends ConfigerBase\r\n{\r\n    constructor()\r\n    {\r\n        super(\"GlobalConfig_json\");\r\n    }\r\n\r\n    static instance:GlobalConfiger;\r\n    public static GetInstance():GlobalConfiger\r\n    {\r\n        if (GlobalConfiger.instance == null)\r\n            GlobalConfiger.instance = new GlobalConfiger();\r\n        if(GlobalConfiger.instance.data)\r\n            GlobalConfiger.instance.ParseConfig(GlobalConfiger.instance.data);\r\n        return GlobalConfiger.instance;\r\n    }\r\n\r\n    /** 解析配置 */\r\n    public ParseConfig(data:any):any\r\n    {\r\n        data = super.ParseConfig(data);\r\n        if (!data) return;\r\n\r\n        Global.Init(data.ClientGlobalConf[0]);\r\n    }\r\n}","import DressType from \"../enum/DressType\";\r\nimport Global from \"../Global\";\r\nimport RES from \"../res/RES\";\r\nimport Dictionary from \"../utils/Dictionary\";\r\nimport ObjUtil from \"../utils/ObjUtil\";\r\nimport DressPartVO from \"../vo/DressPartVO\";\r\nimport DressVO from \"../vo/DressVO\";\r\nimport ConfigerBase from \"./ConfigerBase\";\r\n\r\nexport default class DressConfiger extends ConfigerBase\r\n{\r\n    private dressDic:Dictionary;\r\n    private dressByTypeDic:Dictionary;\r\n    private dressPartDic:Dictionary;\r\n    private dressTypeTabs:Array<{label:string,value:number}>;\r\n    private defaultDressIDDic:Dictionary;//默认搭配:dressType->dressID\r\n\r\n    constructor()\r\n    {\r\n        super(\"DressConfig_json\");\r\n        this.dressDic = new Dictionary();\r\n        this.dressByTypeDic = new Dictionary();\r\n        this.dressPartDic = new Dictionary();\r\n        this.dressTypeTabs = [];\r\n    }\r\n\r\n    static instance:DressConfiger;\r\n    public static GetInstance():DressConfiger\r\n    {\r\n        if (DressConfiger.instance == null)\r\n            DressConfiger.instance = new DressConfiger();\r\n        if(DressConfiger.instance.data)\r\n            DressConfiger.instance.ParseConfig(DressConfiger.instance.data);\r\n        return DressConfiger.instance;\r\n    }\r\n\r\n    public get DressDic():Dictionary\r\n    {\r\n        return this.dressDic;\r\n    }\r\n\r\n    public get DressPartDic():Dictionary\r\n    {\r\n        return this.dressPartDic;\r\n    }\r\n\r\n    //获取装扮类型tab数组\r\n    public get DressTypeTabs():Array<{label:string,value:number}> \r\n    {\r\n        return this.dressTypeTabs;\r\n    }\r\n\r\n    //获取装扮数据\r\n    public GetDressByDressID(dressID:number):DressVO \r\n    {\r\n        if (this.dressDic && this.dressDic.has(dressID))\r\n            return this.dressDic.getNumberKey(dressID);\r\n        return null;\r\n    }\r\n\r\n    //根据装扮类型获取装扮列表\r\n    public GetDresssByDressType(dressType:number):Array<DressVO> \r\n    {\r\n        if (this.dressByTypeDic && this.dressByTypeDic.has(dressType))\r\n            return this.dressByTypeDic.getNumberKey(dressType);\r\n        return null;\r\n    }\r\n\r\n    //获取装扮部件数据\r\n    public GetDressPartByPartID(partID:number):DressPartVO \r\n    {\r\n        if (this.dressPartDic && this.dressPartDic.has(partID))\r\n            return this.dressPartDic.getNumberKey(partID);\r\n        return null;\r\n    }\r\n\r\n    //根据装扮ID获取装扮部件列表\r\n    public GetDresPartsByDressID(dressID:number):Array<DressPartVO>\r\n    {\r\n        let dressVo = this.GetDressByDressID(dressID);\r\n        if (!dressVo || !dressVo.DressParts || dressVo.DressParts.length <= 0)\r\n            return null;\r\n        let result = [];\r\n        let dressPartVo;\r\n        dressVo.DressParts.forEach(partID => {\r\n            dressPartVo = this.GetDressPartByPartID(partID);\r\n            if (dressPartVo)\r\n                result.push(dressPartVo);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    //获取搭配挂件临时资源组 - 需要提前加载单个搭配资源时使用\r\n    public GetDressPartTempGroup(dressIDs:Array<number>):boolean\r\n    {\r\n        RES.DelGroupKeys(\"dressPartTemp\");\r\n        //预加载搭配部件图，保证界面打开时所需资源都已加载好\r\n        if (dressIDs && dressIDs.length > 0)\r\n        {\r\n            let dressConfig = DressConfiger.GetInstance();\r\n            let dressVo:DressVO;\r\n            let dressParts:Array<DressPartVO>;\r\n            let resources:Array<any> = [];\r\n\t\t\tlet keys:Array<string> = [];\r\n            let resourceUrl:string = \"\";\r\n            dressIDs.forEach(dressID => {\r\n                dressVo = dressConfig.GetDressByDressID(dressID);\r\n                if (dressVo)\r\n                {\r\n                    dressParts = dressConfig.GetDresPartsByDressID(dressVo.DressID);\r\n                    if (dressParts && dressParts.length > 0)\r\n                    {\r\n                        dressParts.forEach(element => {\r\n                            resourceUrl = element.ResourceUrl;\r\n                            if (resourceUrl)\r\n                            {\r\n                                resources.push({\"url\":resourceUrl,\"type\":\"image\",\"name\":\"runtime_dressPart_image\" + element.Resource});\r\n                                keys.push(\"runtime_dressPart_image\" + element.Resource);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            if (resources.length > 0)\r\n\t\t\t{\r\n\t\t\t\tRES.AddResources(resources);\r\n\t\t\t\tRES.AddGroupKeys(\"dressPartTemp\",keys);\r\n                return true;\r\n\t\t\t}\r\n        }\r\n        return false;\r\n    }\r\n\r\n    //默认搭配\r\n    public get DefaultDressIDs():Array<number>\r\n    {\r\n        return Global.DefaultDressIDs;\r\n    }\r\n\r\n    //根据搭配类型获取默认搭配ID\r\n    public GetDefaultDressIDByType(dressType:number):number\r\n    {\r\n        let defaultDressIDs:Array<number> = this.DefaultDressIDs;\r\n        if (!defaultDressIDs || defaultDressIDs.length <= 0)\r\n            return 0;\r\n        if (!this.defaultDressIDDic)\r\n        {\r\n            this.defaultDressIDDic = new Dictionary();\r\n            let dressVo:DressVO;\r\n            defaultDressIDs.forEach(dressID => {\r\n                dressVo = this.GetDressByDressID(dressID);\r\n                if (dressVo)\r\n                    this.defaultDressIDDic.addNumberKey(dressVo.DressType,dressID);\r\n            });\r\n        }\r\n        if (this.defaultDressIDDic.has(dressType))\r\n            return this.defaultDressIDDic.getNumberKey(dressType);\r\n        return 0;\r\n    }\r\n\r\n    //根据搭配类型获取默认搭配\r\n    public GetDefaultDressVoByType(dressType:number):DressVO\r\n    {\r\n        let dressID:number = this.GetDefaultDressIDByType(dressType);\r\n        return this.GetDressByDressID(dressID);\r\n    }\r\n\r\n    //默认搭配的部件资源数组\r\n    public get DefaultDressPartResources():Array<string>\r\n    {\r\n        let defaultDressIDs:Array<number> = this.DefaultDressIDs;\r\n        if (defaultDressIDs && defaultDressIDs.length > 0)\r\n        {\r\n            let dressConfig = DressConfiger.GetInstance();\r\n            let dressVo:DressVO;\r\n            let dressParts:Array<DressPartVO>;\r\n            let resources:Array<string> = [];\r\n            let resourceUrl:string = \"\";\r\n            defaultDressIDs.forEach(dressID => {\r\n                dressVo = dressConfig.GetDressByDressID(dressID);\r\n                if (dressVo)\r\n                {\r\n                    dressParts = dressConfig.GetDresPartsByDressID(dressVo.DressID);\r\n                    if (dressParts && dressParts.length > 0)\r\n                    {\r\n                        dressParts.forEach(element => {\r\n                            resourceUrl = element.ResourceUrl;\r\n                            if (resourceUrl)\r\n                                resources.push(resourceUrl);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            return resources;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /** 解析配置 */\r\n    public ParseConfig(data:any):any\r\n    {\r\n        data = super.ParseConfig(data);\r\n        if (!data) return;\r\n\r\n        let dressConf = data.DressConf;\r\n        if (dressConf) {\r\n            let saveedTypes = [];\r\n            let vo:DressVO;\r\n            dressConf.forEach(element => {\r\n                vo = new DressVO();\r\n                ObjUtil.copyObj(element, vo);\r\n                this.dressDic.addNumberKey(vo.DressID, vo);\r\n                if (this.dressByTypeDic.has(vo.DressType))\r\n                    this.dressByTypeDic.getNumberKey(vo.DressType).push(vo);\r\n                else\r\n                    this.dressByTypeDic.addNumberKey(vo.DressType, [vo]);\r\n                if (saveedTypes.indexOf(vo.DressType) == -1) {\r\n                    saveedTypes.push(vo.DressType);\r\n                    this.dressTypeTabs.push({ label: DressType.GetDressTypeName(vo.DressType), value: vo.DressType });\r\n                }\r\n            });\r\n        }\r\n        let dressPartConf = data.DressPartConf;\r\n        if (dressPartConf) {\r\n            let vo:DressPartVO;\r\n            dressPartConf.forEach(element => {\r\n                vo = new DressPartVO();\r\n                ObjUtil.copyObj(element, vo);\r\n                this.dressPartDic.addNumberKey(vo.PartID, vo);\r\n            });\r\n        }\r\n        if (this.dressTypeTabs.length > 0) {\r\n            this.dressTypeTabs.sort(function (a, b) {\r\n                return DressType.GetDressTypeSort(a.value) - DressType.GetDressTypeSort(b.value);\r\n            });\r\n        }\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport Global from \"../../Global\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsHTMLDivElement from \"../controls/base/SgsHTMLDivElement\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport CommonBaseWindow from \"./CommonBaseWindow\";\r\n\r\n//分享提示窗口\r\nexport default class SharePromptWindow extends CommonBaseWindow\r\n{\r\n    private titleText:SgsText;\r\n    private descText:SgsHTMLDivElement;\r\n    private okBtn:SgsFlatButton;\r\n\r\n    private okHandler:Laya.Handler;\r\n    private cancelHandler:Laya.Handler;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.width = 670;\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.okBtn = UIUtils.CreateImageFlatButton(\"baseOkBtn\",\"baseTextOK\");\r\n        this.okBtn.pos(197,349);\r\n        this.okBtn.on(Laya.Event.CLICK,this,this.onOkHandler);\r\n        this.addDrawChild(this.okBtn);\r\n\r\n        this.titleText = new SgsText();\r\n        this.titleText.y = 79;\r\n        this.titleText.width = this.width;\r\n        this.titleText.font = FontName.HEITI;\r\n        this.titleText.fontSize = 40;\r\n        this.titleText.bold = true;\r\n        this.titleText.color = \"#80B6A7\";\r\n        this.titleText.align = \"center\";\r\n        this.titleText.text = \"分享有礼\";\r\n        this.addDrawChild(this.titleText);\r\n        \r\n        this.descText = new SgsHTMLDivElement();\r\n        this.descText.pos(70,195);\r\n        this.descText.width = this.width - this.descText.x * 2;\r\n        this.descText.fontFamily = FontName.HEITI;\r\n        this.descText.fontSize = 26;\r\n        this.descText.color = \"#80B6A7\";\r\n        this.descText.leading = 24;\r\n        this.descText.wordWrap = true;\r\n        this.descText.mouseEnabled = false;\r\n        this.descText.innerHTML = '主人，点击右上角&nbsp;<img style=\"height:28px;width:66px\" src=' + '\"' + 'res/assets/shareIcon.png\"/>&nbsp;按钮可分享该活动 给您的好友，每日您将额外<font color=\"#FE8555\">获得3个桃气值</font>哦~';\r\n        this.addChild(this.descText);\r\n    }\r\n\r\n    protected enterWindow(okHandler:Laya.Handler,cancelHandler:Laya.Handler):void\r\n    {\r\n        super.enterWindow();\r\n\r\n        this.okHandler = okHandler;\r\n        this.cancelHandler = cancelHandler;\r\n\r\n        let height:number = this.descText.y + this.descText.contextHeight + 258 - 24;\r\n        if (height < 528) height = 528;\r\n        this.size(this.width,height);\r\n        this.okBtn.y = this.height - this.okBtn.height - 76;\r\n\r\n        // if (isWinXin())\r\n        // {\r\n        //     wxShare(\"李婉皮肤共创计划\",\"《三国杀十周年》创玩节开启，携手百万玩家参与魏阵营武将李婉皮肤设计，超多搭配，丰富竞赛奖励，打造您心中最美武将\",Global.GameUrl,Global.GameUrl + \"res/assets/logo.jpg\",this,function(data:number){\r\n        //         console.log(\"分享接口回调：\" + data);//0取消 1成功\r\n        //         if (data > 0)//分享设置成功\r\n        //         {\r\n        //             GameManager.GetInstance().CollocationShare();\r\n        //         }\r\n        //     });\r\n        // }\r\n    }\r\n\r\n    protected onOkHandler():void\r\n    {\r\n        GameManager.GetInstance().CollocationShare();\r\n        if (this.okHandler)\r\n        {\r\n            this.okHandler.run();\r\n            this.okHandler = null;\r\n        }\r\n        this.Close();\r\n    }\r\n\r\n    protected onCloseHandler():void\r\n    {\r\n        if (this.cancelHandler)\r\n        {\r\n            this.cancelHandler.run();\r\n            this.cancelHandler = null;\r\n        }\r\n        this.Close();\r\n    }\r\n\r\n    public destroy(): void \r\n    {\r\n        super.destroy();\r\n        this.okHandler = null;\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport RES from \"../../res/RES\";\r\nimport SgsHTMLDivElement from \"../controls/base/SgsHTMLDivElement\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport CommonBaseWindow from \"./CommonBaseWindow\";\r\nimport RuleItemUI from \"./RuleItemUI\";\r\n\r\n//规则窗口\r\nexport default class RuleWindow extends CommonBaseWindow\r\n{\r\n    private titleText:SgsText;\r\n    private panel:Laya.Panel;\r\n\r\n    private descY:number = 0;\r\n\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.size(670,900);\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.titleText = new SgsText();\r\n        this.titleText.y = 79;\r\n        this.titleText.width = this.width;\r\n        this.titleText.font = FontName.HEITI;\r\n        this.titleText.fontSize = 40;\r\n        this.titleText.bold = true;\r\n        this.titleText.color = \"#80B6A7\";\r\n        this.titleText.align = \"center\";\r\n        this.titleText.text = \"【皮肤梦工厂】活动规则\";\r\n        this.addDrawChild(this.titleText);\r\n\r\n        this.panel = new Laya.Panel();\r\n        this.panel.pos(55,150);\r\n        this.panel.size(583,690);\r\n        this.panel.vScrollBarSkin = RES.GetAtlasUrl(\"blueVscroll\");\r\n        this.addChild(this.panel);\r\n        //样式调整\r\n        this.createTitleUI(this.descY,\"【活动规则】：\");\r\n        this.descY = this.descY + 23;\r\n        this.createItemUI(this.descY,\"①\",\"玩家在创玩节期间共创魏阵营武将李婉皮肤，打造属于您心目中的最美样貌，<font color='#ff0000'>每个用户只能选择一个作品参赛</font>，一经选定确认后无法修改哦。\");\r\n        this.createItemUI(this.descY,\"②\",\"用户可通过游戏进行服装搭配并参赛投票，获得最高票数的搭配，<font color='#ff0000'>将会被官方采用制作李婉皮肤。</font>\");\r\n        this.createItemUI(this.descY,\"③\",\"用户在排行榜可使用桃气值进行投票，可以进行自投，<font color='#ff0000'>投票次数无限制。</font>\");\r\n        this.createItemUI(this.descY,\"④\",\"投票时间和截止时间：详见网页活动时间。\");\r\n\r\n        this.descY = this.descY + 10;\r\n        this.createTitleUI(this.descY,\"【桃气值】：\");\r\n        this.descY = this.descY + 23;\r\n        this.createItemUI(this.descY,\"①\",\"用户每天登录游戏即可获得<font color='#ff0000'>5</font>个桃气值。\");\r\n        this.createItemUI(this.descY,\"②\",\"用户每天分享本活动可多获得<font color='#ff0000'>3</font>个桃气值。\");\r\n        this.createItemUI(this.descY,\"③\",\"桃气值不会每日清空，请在活动截止前使用您的桃气值。\");\r\n        this.createItemUI(this.descY,\"④\",\"每名玩家每天最多获得<font color='#ff0000'>6</font>个桃气值</font>\");\r\n\r\n        this.descY = this.descY + 10;\r\n        this.createTitleUI(this.descY,\"【活动奖励】：\");\r\n        this.descY = this.descY + 23;\r\n        this.createItemUI(this.descY,\"①\",\"排行榜前20的玩家可获得<font color='#ff0000'>李婉武将*1。</font>\");\r\n        this.createItemUI(this.descY,\"②\",\"排行榜前21-50的玩家可获得<font color='#ff0000'>豪华皮肤包*1。</font>\");\r\n        this.createItemUI(this.descY,\"③\",\"排行榜51-100的玩家可获得<font color='#ff0000'>精致皮肤包*1。</font>\");\r\n    }\r\n\r\n    private createTitleUI(y:number,desc:string):SgsHTMLDivElement\r\n    {\r\n        let descText = new SgsHTMLDivElement();\r\n        descText.y = y;\r\n        descText.width = 542;\r\n        descText.fontFamily = FontName.HEITI;\r\n        descText.fontSize = 28;\r\n        descText.color = \"#80B6A7\";\r\n        descText.wordWrap = true;\r\n        descText.mouseEnabled = false;\r\n        descText.innerHTML = desc;\r\n        this.panel.addChild(descText);\r\n        descText.height = descText.contextHeight;\r\n        this.descY = this.descY + descText.contextHeight;\r\n        return descText;\r\n    }\r\n\r\n    private createItemUI(y:number,code:string,desc:string):RuleItemUI\r\n    {\r\n        let ruleItemUI = new RuleItemUI();\r\n        ruleItemUI.pos(12,y);\r\n        ruleItemUI.SetDesc(542,code,desc);\r\n        this.panel.addChild(ruleItemUI);\r\n        this.descY = this.descY + ruleItemUI.height + 23;\r\n        return ruleItemUI;\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsHTMLDivElement from \"../controls/base/SgsHTMLDivElement\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport CommonBaseWindow from \"./CommonBaseWindow\";\r\n\r\n//提示窗口\r\nexport default class PromptWindow extends CommonBaseWindow\r\n{\r\n    public static BTN_TYPE1:string = \"BTN_TYPE1\";//取消、确定\r\n    public static BTN_TYPE2:string = \"BTN_TYPE2\";//确定\r\n    public static BTN_TYPE3:string = \"BTN_TYPE3\";//确定、分享\r\n\r\n    private titleText:SgsText;\r\n    private descText:SgsHTMLDivElement;\r\n    \r\n    private okHandler:Laya.Handler;\r\n    private cancelHandler:Laya.Handler;\r\n    private btnType:string = \"\";\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        \r\n        this.modal = true;\r\n        this.width = 670;\r\n        this.addDrawClick();\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n        \r\n        this.titleText = new SgsText();\r\n        this.titleText.y = 79;\r\n        this.titleText.width = this.width;\r\n        this.titleText.font = FontName.HEITI;\r\n        this.titleText.fontSize = 40;\r\n        this.titleText.bold = true;\r\n        this.titleText.color = \"#80B6A7\";\r\n        this.titleText.align = \"center\";\r\n        this.addDrawChild(this.titleText);\r\n\r\n        this.descText = new SgsHTMLDivElement();\r\n        this.descText.y = 195;\r\n        this.descText.width = this.width - this.descText.x * 2;\r\n        this.descText.fontFamily = FontName.HEITI;\r\n        this.descText.fontSize = 26;\r\n        this.descText.color = \"#80B6A7\";\r\n        this.descText.align = \"center\";\r\n        this.descText.leading = 24;\r\n        this.descText.wordWrap = true;\r\n        this.descText.mouseEnabled = false;\r\n        this.addChild(this.descText);\r\n    }\r\n\r\n    protected enterWindow(title:string,desc:string,descPaddingLeft:number,okHandler:Laya.Handler,cancelHandler:Laya.Handler,btnType:string):void\r\n    {\r\n        super.enterWindow();\r\n\r\n        this.okHandler = okHandler;\r\n        this.cancelHandler = cancelHandler;\r\n        this.btnType = btnType;\r\n\r\n        this.titleText.text = title || \"提示\";\r\n        this.descText.x = descPaddingLeft || 140;\r\n        this.descText.width = this.width - this.descText.x * 2;\r\n        this.descText.innerHTML = desc;\r\n\r\n        let height:number = this.descText.y + this.descText.contextHeight + 258 - 24;\r\n        if (height < 528) height = 528;\r\n        this.size(this.width,height);\r\n        \r\n        if (btnType == PromptWindow.BTN_TYPE1)//取消、确定\r\n        {\r\n            this.createButton(46,\"baseCancelBtn\",\"baseTextCancel\",cancelHandler);\r\n            this.createButton(349,\"baseOkBtn\",\"baseTextOK\",okHandler);\r\n        }\r\n        else if (btnType == PromptWindow.BTN_TYPE2)//确定\r\n        {\r\n            this.createButton(196,\"baseOkBtn\",\"baseTextOK\",okHandler);\r\n        }\r\n        else if (btnType == PromptWindow.BTN_TYPE3)//确定、分享\r\n        {\r\n            this.createButton(46,\"baseOkBtn\",\"baseTextOK\",cancelHandler);\r\n            this.createButton(349,\"baseCancelBtn\",\"baseTextShare\",okHandler);\r\n        }\r\n    }\r\n\r\n    protected createButton(x:number,bgRes:string,textRes:string,handler:Laya.Handler):SgsFlatButton\r\n    {\r\n        let btn = UIUtils.CreateImageFlatButton(bgRes,textRes);\r\n        btn.pos(x,this.height - btn.height - 76);\r\n        btn.on(Laya.Event.CLICK,this,this.onButtonHandler,[handler]);\r\n\r\n        let index = this.closeBtn.endIndex;\r\n        if (index >= 0)\r\n            this.addDrawChildAt(btn,index + 1);\r\n        else\r\n            this.addDrawChild(btn);\r\n        return btn;\r\n    }\r\n\r\n    protected onButtonHandler(handler:Laya.Handler):void\r\n    {\r\n        if (handler)\r\n        {\r\n            handler.run();\r\n            handler = null;\r\n        }\r\n        this.Close();\r\n    }\r\n\r\n    protected onCloseHandler():void\r\n    {\r\n        if (this.cancelHandler)\r\n        {\r\n            this.cancelHandler.run();\r\n            this.cancelHandler = null;\r\n        }\r\n        this.Close();\r\n    }\r\n\r\n    public destroy(): void \r\n    {  \r\n        super.destroy();\r\n        this.okHandler = null;\r\n        this.cancelHandler = null;\r\n    }\r\n}","import RES from \"../../res/RES\";\r\nimport SgsSpriteButton from \"../controls/base/SgsSpriteButton\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\n\r\nexport default class ImageSpriteButton extends SgsSpriteButton\r\n{\r\n    protected textFlag:SgsTexture;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n        if (!this.textFlag)\r\n        {\r\n            this.textFlag = new SgsTexture();\r\n            this.addDrawChild(this.textFlag);\r\n        }\r\n    }\r\n\r\n    public InitTextSkin(res:string):void\r\n    {\r\n        this.textFlag.texture = RES.GetRes(res);\r\n        this.setLayoutChanged();\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        super.changeLayout();\r\n        this.textFlag.pos(this.width - this.textFlag.width >> 1,this.height - this.textFlag.height >> 1);\r\n    }\r\n}","import ToolTipBase from \"./ToolTipBase\";\r\nimport RES from \"./../../res/RES\";\r\nimport FontName from \"./../../enum/FontName\";\r\nimport SgsHTMLDivElement from \"../controls/base/SgsHTMLDivElement\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\n/*\r\n* name;\r\n*/\r\nexport default class ToolTips extends ToolTipBase\r\n{\r\n    protected bg:SgsTexture;\r\n    protected msg:SgsHTMLDivElement;\r\n    \r\n    constructor()\r\n    {\r\n        super();\r\n        this.bg = new SgsTexture(RES.GetRes(\"toolTipBg\"));\r\n        this.bg.sizeGrid = \"11,11,11,11\";\r\n        this.bg.mouseEnabled = false\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.msg = new SgsHTMLDivElement();\r\n        this.msg.width = 236;\r\n        this.msg.fontFamily = FontName.ST;\r\n        this.msg.fontSize = 16;\r\n        this.msg.color = \"#ffffff\";\r\n        this.msg.leading = 8;\r\n        this.msg.wordWrap = true;\r\n        this.msg.mouseEnabled = false;\r\n        this.msg.x = 10;\r\n        this.msg.y = 10;\r\n        this.addChild(this.msg);\r\n    }\r\n\r\n    public showMsg(str:string):void\r\n    {\r\n        if(str)\r\n        {            \r\n            this.msg.innerHTML = str;\r\n            this.bg.size(this.msg.contextWidth + 20,this.msg.contextHeight - 8 + 20);\r\n            this.size(this.bg.width,this.bg.height);\r\n        }\r\n        else\r\n        {\r\n            this.msg.innerHTML = \"\";\r\n        }\r\n    } \r\n}","import FontName from \"../../enum/FontName\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport GameManager from \"../../mode/gameManager/GameManager\";\r\nimport RES from \"../../res/RES\";\r\nimport UIUtils from \"../../utils/UIUtils\";\r\nimport SgsFlatButton from \"../controls/base/SgsFlatButton\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsFlatPanelItemBase from \"../controls/SgsFlatPanelItemBase\";\r\nimport DressAvatar from \"../dressScene/DressAvatar\";\r\nimport PromptWindow from \"../window/PromptWindow\";\r\n\r\nexport default class MyDressItemUI extends SgsFlatPanelItemBase\r\n{\r\n    protected bottomBg:SgsTexture;\r\n    protected silhouette:SgsTexture;\r\n    protected avatarSp:Laya.Sprite;\r\n    protected avatar:DressAvatar;\r\n    protected topBg:SgsTexture;\r\n    protected codeBg:SgsTexture;\r\n    protected codeText:SgsText;\r\n    protected voteFlag:SgsTexture;\r\n    protected avatarBtn:SgsFlatButton;\r\n    protected btn:SgsFlatButton;\r\n\r\n    protected itemData:any;\r\n\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n        this.size(329,355);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        this.bottomBg = new SgsTexture();\r\n        this.bottomBg.y = 16;\r\n        this.addDrawChild(this.bottomBg);\r\n\r\n        this.silhouette = new SgsTexture(RES.GetRes(\"myDressItemSilhouette\"));\r\n        this.silhouette.pos(51,30);\r\n        this.addDrawChild(this.silhouette);\r\n\r\n        this.avatarSp = new Laya.Sprite();\r\n        this.oherChildPos(this.avatarSp,51,20);\r\n        this.avatarSp.size(235,268);\r\n        this.avatarSp.scrollRect = new Laya.Rectangle(0,0,235,268);\r\n        this.addOtherChild(0,this.avatarSp);\r\n\r\n        this.avatar = new DressAvatar();\r\n        this.avatar.pos(-15, 8);\r\n        this.avatar.scale(0.58, 0.58);\r\n        // this.avatar.onlyDestroyClear = true;//慎重\r\n        this.avatar.on(DressAvatar.LOAD_COMPLETE,this,this.onAvatarLoadComplete);\r\n        this.avatarSp.addChild(this.avatar);\r\n\r\n        this.topBg = new SgsTexture();\r\n        this.topBg.x = 9;\r\n        this.addOtherChild(1,this.topBg);\r\n\r\n        this.avatarBtn = new SgsFlatButton();\r\n        this.avatarBtn.pos(51,20);\r\n        this.avatarBtn.size(235,268);\r\n        this.avatarBtn.on(Laya.Event.CLICK,this,this.onAvatarHandler);\r\n        this.addOtherChild(1,this.avatarBtn);\r\n\r\n        this.btn = new SgsFlatButton();\r\n        this.btn.pos(75,298);\r\n        this.btn.on(Laya.Event.CLICK,this,this.onButtonHandler);\r\n        this.addOtherChild(1,this.btn);\r\n    }\r\n\r\n    protected updateRenderer(rendererData:any):void\r\n    {\r\n        this.itemData = rendererData;\r\n        this.silhouette.visible = true;\r\n        this.avatar.visible = false;\r\n        this.avatar.UpdateAll(this.itemData.skin,this.itemData.collocation);\r\n        if (this.itemData.is_join)//已参赛\r\n        {\r\n            this.bottomBg.texture = RES.GetRes(\"myDressItemBottomBg1\");\r\n            this.topBg.texture = RES.GetRes(\"myDressItemTopBg1\");\r\n            this.updateVoteFlag(true);\r\n            this.btn.InitSkin(\"myDressLookBtn1\");\r\n        }\r\n        else\r\n        {\r\n            this.bottomBg.texture = RES.GetRes(\"myDressItemBottomBg\");\r\n            this.topBg.texture = RES.GetRes(\"myDressItemTopBg\");\r\n            this.updateVoteFlag(false);\r\n            this.btn.InitSkin(\"myDressLookBtn\");\r\n        }\r\n        if (!GameManager.GetInstance().Code)//没有参赛作品\r\n        {\r\n            this.btn.InitSkin(\"myDressEntryBtn\");\r\n        }\r\n        this.updateCode(!this.itemData.is_join,this.itemData.number);\r\n    }\r\n    \r\n    protected updateCode(isShow:boolean,code:number = 0):void//更新编号\r\n    {\r\n        if (isShow)\r\n        {\r\n            if (!this.codeBg)\r\n            {\r\n                this.codeBg = new SgsTexture(RES.GetRes(\"myDressCodeBg\"));\r\n                this.codeBg.pos(60,34);\r\n                this.addOtherChild(1,this.codeBg);\r\n\r\n                this.codeText = new SgsText();\r\n                this.codeText.pos(this.codeBg.x,this.codeBg.y);\r\n                this.codeText.size(52,53);\r\n                this.codeText.font = FontName.HEITI;\r\n                this.codeText.color = \"#ffffff\";\r\n                this.codeText.fontSize = 24;\r\n                this.codeText.align = \"center\";\r\n                this.codeText.valign = \"middle\";\r\n                this.addOtherChild(2,this.codeText);\r\n            }\r\n            let str = code.toString();\r\n            if (str.length <= 1) str = \"0\" + str;\r\n            this.codeText.text = str;\r\n            this.codeBg.visible = this.codeText.visible = true;\r\n        }\r\n        else\r\n        {\r\n            if (this.codeBg)\r\n                this.codeBg.visible = this.codeText.visible = false;\r\n        }\r\n    }\r\n\r\n    protected updateVoteFlag(isShow:boolean):void//更新参赛中标记\r\n    {\r\n        if (isShow)\r\n        {\r\n            if (!this.voteFlag)\r\n            {\r\n                this.voteFlag = new SgsTexture(RES.GetRes(\"myDressVoteFlag\"));\r\n                this.voteFlag.pos(66,35);\r\n                this.addOtherChild(1,this.voteFlag);\r\n            }\r\n            this.voteFlag.visible = true;\r\n        }\r\n        else\r\n        {\r\n            if (this.voteFlag)\r\n                this.voteFlag.visible = false;\r\n        }\r\n    }\r\n\r\n    protected onAvatarLoadComplete():void//搭配资源加载完\r\n    {\r\n        this.silhouette.visible = false;\r\n        this.avatar.visible = true;\r\n    }\r\n\r\n    protected onAvatarHandler():void//形象点击事件\r\n    {\r\n        if (!this.itemData) return;\r\n        WindowManager.GetInstance().OpenWindow(\"LookDressWindow\",this.itemData.skin,this.itemData.collocation);\r\n    }\r\n\r\n    protected onButtonHandler():void//按钮点击事件\r\n    {\r\n        if (!this.itemData) return;\r\n        if (!GameManager.GetInstance().Code)//没有参赛作品：参赛\r\n        {\r\n            UIUtils.OpenPromptWin(\"\",\"*主人，我们只有一次参赛机会哦！<br/>您是否选择此作品参赛？\",100,Laya.Handler.create(this,this.onConfirmCompete));\r\n        }\r\n        else if (this.itemData.is_join)//已参赛:查看作品\r\n        {\r\n            WindowManager.GetInstance().OpenWindow(\"VoteWorkInfoWindow\",true);\r\n        }\r\n        else//查看搭配\r\n        {\r\n            WindowManager.GetInstance().OpenWindow(\"LookDressWindow\",this.itemData.skin,this.itemData.collocation);\r\n        }\r\n    }\r\n\r\n    protected onConfirmCompete():void\r\n    {\r\n        if (!this.itemData) return;\r\n        GameManager.GetInstance().CollocationJoin(this.itemData.id);\r\n    }\r\n\r\n    public ClearDraw(destroy:boolean = true):void\r\n    {\r\n        super.ClearDraw(destroy);\r\n        if (destroy)\r\n        {\r\n            this.itemData = null;\r\n        }\r\n    }\r\n}","import RES from \"../../res/RES\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsTabFlatButton from \"../controls/SgsTabFlatButton\";\r\n\r\nexport default class DressTabFlatButton extends SgsTabFlatButton\r\n{\r\n    private textFlag:SgsTexture;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.size(160,75);\r\n    }\r\n\r\n    public init():void\r\n    {\r\n        super.InitSkin(\"dressTabButtonNormal\",\"dressTabButtonNormal\",\"dressTabButtonNormal\",\"dressTabButtonNormal\",\"dressTabButtonSelect\");\r\n    }\r\n\r\n    public set value(val:number)\r\n    {\r\n        this._value = val;\r\n        this.changeState();\r\n    }\r\n\r\n    public get value():number\r\n    {\r\n        return this._value;\r\n    }\r\n\r\n    protected changeState():void//状态变化\r\n    {\r\n        super.changeState();\r\n        if (!this.textFlag)\r\n        {\r\n            this.textFlag = new SgsTexture();\r\n            this.addDrawChild(this.textFlag);\r\n        }\r\n        if (!this._enabled)\r\n        {\r\n        }\r\n        else if (this._selected)\r\n        {\r\n            this.textFlag.texture = RES.GetRes(\"dressTabText\" + this._value + \"_select\");\r\n        }\r\n        else\r\n        {\r\n            this.textFlag.texture = RES.GetRes(\"dressTabText\" + this._value);\r\n        }\r\n        this.textFlag.pos(this.width - this.textFlag.width >> 1,this.height - this.textFlag.height >> 1);\r\n    }\r\n}","import Global from \"../../Global\";\r\nimport RES from \"../../res/RES\";\r\nimport DressVO from \"../../vo/DressVO\";\r\nimport SgsFlatImage from \"../controls/base/SgsFlatImage\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsFlatPanelItemBase from \"../controls/SgsFlatPanelItemBase\";\r\n\r\nexport default class DressPanelFlatItem extends SgsFlatPanelItemBase\r\n{\r\n    private bg:SgsTexture;\r\n    private icon:SgsFlatImage;\r\n\r\n    private dressVo:DressVO;\r\n\r\n    constructor(otherRender:Array<SgsSprite>)\r\n    {\r\n        super(otherRender);\r\n        this.size(132, 132);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n\r\n        this.bg = new SgsTexture();\r\n        this.bg.mouseEnabled = true;\r\n        this.bg.on(Laya.Event.CLICK, this, this.onClick);\r\n        this.addDrawChild(this.bg);\r\n\r\n        this.icon = new SgsFlatImage();\r\n        this.icon.autoClear = Global.AutoClearRes;\r\n        this.icon.onlyDestroyClear = true;//仅销毁时清理资源\r\n        this.addOtherChild(0,this.icon);\r\n    }\r\n\r\n    protected updateRenderer(rendererData:any):void\r\n    {\r\n        super.updateRenderer(rendererData);\r\n        this.dressVo = rendererData;\r\n        if (this.dressVo.DressID == 0)//重置\r\n        {\r\n            this.bg.texture = RES.GetRes(\"dressRest\");\r\n            this.icon.skin = \"\";\r\n        }   \r\n        else\r\n        {\r\n            this.bg.texture = RES.GetRes(\"dressSelectBg\");\r\n            this.icon.skin = this.dressVo.ResourceUrl;\r\n        }\r\n    }\r\n\r\n    private onClick():void \r\n    {\r\n        this.event(Laya.Event.CLICK, this);\r\n    }\r\n\r\n    public ClearDraw(destroy:boolean = true):void \r\n    {\r\n        super.ClearDraw(destroy);\r\n        if (destroy)\r\n        {\r\n            this.dressVo = null;\r\n        }    \r\n    }\r\n}","import RES from \"../../res/RES\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport SgsTabFlatButton from \"../controls/SgsTabFlatButton\";\r\n\r\nexport default class DressColorTabFlatButton extends SgsTabFlatButton\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.size(116,84);\r\n    }\r\n\r\n    public set value(val:number)\r\n    {\r\n        this._value = val;\r\n        this.changeState();\r\n    }\r\n\r\n    public get value():number\r\n    {\r\n        return this._value;\r\n    }\r\n\r\n    protected changeState():void//状态变化\r\n    {\r\n        super.changeState();\r\n        if (!this._enabled)\r\n        {\r\n        }\r\n        else if (this._selected)\r\n        {\r\n            this.background.texture = RES.GetRes(\"dressSkinBtn\" + this._value + \"_select\");\r\n        }\r\n        else\r\n        {\r\n            this.background.texture = RES.GetRes(\"dressSkinBtn\" + this._value);\r\n        }\r\n    }\r\n}","import FontName from \"./../../enum/FontName\";\r\nimport SgsSpriteButton from \"./base/SgsSpriteButton\";\r\n/*\r\n* name;\r\n*/\r\nexport default class SgsTabButton extends SgsSpriteButton\r\n{    \r\n    protected _value:number = 0;\r\n    protected enableTip:string = \"\";\r\n\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n    public set value(val:number)\r\n    {\r\n        this._value = val;\r\n    }\r\n\r\n    public get value():number\r\n    {\r\n        return this._value;\r\n    }\r\n\r\n    public get EnableTip():string\r\n    {\r\n        return this.enableTip;\r\n    }\r\n\r\n    public set EnableTip(value:string)\r\n    {\r\n        this.enableTip = value;\r\n    }\r\n    \r\n    public init(...arg):void\r\n    {\r\n        if(arg && arg.length)\r\n            this.InitSkin(arg[0],arg.length >1&& arg[1]?arg[1]:\"\",arg.length >2&& arg[2]?arg[2]:\"\",arg.length >3&& arg[3]?arg[3]:\"\",arg.length >4&& arg[4]?arg[4]:\"\");\r\n        else\r\n            this.InitSkin(\"tabButtonGeneral_Normal\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Overt\",\"tabButtonGeneral_Select\");\r\n        this.labelFont = FontName.ST;\r\n        this.labelSize = 16;\r\n        this.labelColors = \"#291400,#291400,#291400\";\r\n    }\r\n\r\n    public destroy()\r\n    {\r\n        super.destroy();\r\n    }\r\n}","import SgsSpriteButton from \"./SgsSpriteButton\";\r\n\r\n/*\r\n* 普通CheckBox：状态改变后派发Laya.Event.CHANGE事件，手动设置selected属性不派发事件。\r\n*/\r\nexport default class SgsSpriteCheckBox extends SgsSpriteButton\r\n{\r\n    protected _data:any;\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n\r\n        this.labelPadding = \"0,0,0,5\";\r\n    }\r\n\r\n    public set width(value:number)\r\n    {\r\n    }\r\n\r\n    public get width():number\r\n    {\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        return this.background.width + left + this.textField.width;\r\n    }\r\n\r\n    public set height(value:number)\r\n    {\r\n    }\r\n\r\n    public get height():number\r\n    {\r\n        return Math.max(this.background.height,this.textField.height);\r\n    }\r\n\r\n    public set data(value:any)\r\n    {\r\n        this._data = value;\r\n    }\r\n\r\n    public get data():any\r\n    {\r\n        return this._data;\r\n    }\r\n\r\n    protected createChildren():void\r\n    {\r\n        super.createChildren();\r\n\r\n        this.textField.align = \"left\";\r\n        this.textField.valign = \"top\";\r\n    }\r\n\r\n    protected onMouse(event:Laya.Event):void\r\n    {\r\n        super.onMouse(event);\r\n\r\n        if (this.enabled && event.type == Laya.Event.CLICK)\r\n        {\r\n            this.dispEventChange(event);\r\n        }\r\n    }\r\n\r\n    protected dispEventChange(event:Laya.Event):void\r\n    {\r\n        this.selected = !this.selected;\r\n        event.type = Laya.Event.CHANGE;\r\n        if (this.eventDispatcher) this.eventDispatcher.event(Laya.Event.CHANGE,event);\r\n    }\r\n\r\n    protected changeLayout():void\r\n    {\r\n        this._layoutChanged = false;\r\n\r\n        let left:number = parseInt(this._labelPadding[3]);\r\n        let top:number = parseInt(this._labelPadding[0]);\r\n\r\n        this.textField.x = this.background.width + left;\r\n        if (this.background.height >= this.textField.height)//图比文字高\r\n        {\r\n            this.background.y = 0;\r\n            this.textField.y = top + (this.background.height - this.textField.height >> 1);\r\n        }\r\n        else\r\n        {\r\n            this.textField.y = 0;\r\n            this.background.y = top + (this.textField.height - this.background.height >> 1);\r\n        }\r\n    }\r\n}","\r\nimport SgsFlatCheckBox from \"./SgsFlatCheckBox\";\r\nimport SgsSprite from \"./SgsSprite\";\r\n/*\r\n* 扁平Radio:状态改变后派发Laya.Event.CHANGE事件，手动设置selected属性不派发事件。\r\n*/\r\nexport default class SgsFlatRadio extends SgsFlatCheckBox\r\n{\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n    }\r\n\r\n    protected dispEventChange(event:Laya.Event):void\r\n    {\r\n        if (!this.selected)\r\n        {\r\n            this.selected = !this.selected;\r\n            this.event(Laya.Event.CHANGE,this);\r\n        }\r\n    }\r\n}","import FontName from \"../../enum/FontName\";\r\nimport WindowManager from \"../../mode/base/WindowManager\";\r\nimport RES from \"../../res/RES\";\r\nimport SgsSprite from \"../controls/base/SgsSprite\";\r\nimport SgsText from \"../controls/base/SgsText\";\r\nimport SgsTexture from \"../controls/base/SgsTexture\";\r\nimport MyDressItemUI from \"../myDressScene/MyDressItemUI\";\r\n\r\nexport default class RankItemUI extends MyDressItemUI\r\n{\r\n    protected rankBg:SgsTexture;\r\n    protected rankText:SgsText;\r\n    protected selfVoteFlag:SgsTexture;\r\n\r\n    constructor(otherRenders:Array<SgsSprite> = null)\r\n    {\r\n        super(otherRenders);\r\n        this.size(329,355 + 14);\r\n    }\r\n\r\n    protected init():void\r\n    {\r\n        super.init();\r\n        this.bottomBg.y = 16 + 14;\r\n        this.silhouette.y = 30 + 14;\r\n        this.oherChildPos(this.avatarSp,51,20 + 14);\r\n        this.topBg.y = 0 + 14;\r\n        this.avatarBtn.y = 20 + 14;\r\n        this.btn.y = 298 + 14;\r\n    }\r\n\r\n    protected updateRenderer(rendererData:any):void\r\n    {\r\n        this.itemData = rendererData;\r\n        this.silhouette.visible = true;\r\n        this.avatar.visible = false;\r\n        this.avatar.UpdateAll(this.itemData.skin,this.itemData.collocation);\r\n        this.bottomBg.texture = RES.GetRes(\"myDressItemBottomBg1\");\r\n        this.topBg.texture = RES.GetRes(\"myDressItemTopBg1\");\r\n        this.btn.InitSkin(\"myDressGoVoteBtn\");\r\n        this.updateRank(true,this.itemData.rank);\r\n        this.updateSelfVoteFlag(this.itemData.is_self);\r\n    }\r\n\r\n    protected updateRank(isShow:boolean,rank:number = 0):void//更新排名\r\n    {\r\n        if (isShow)\r\n        {\r\n            if (!this.rankBg)\r\n            {\r\n                this.rankBg = new SgsTexture();\r\n                this.rankBg.pos(114, 0);\r\n                this.addOtherChild(1,this.rankBg);\r\n\r\n                this.rankText = new SgsText();\r\n                this.rankText.pos(this.rankBg.x,this.rankBg.y);\r\n                this.rankText.size(110,53);\r\n                this.rankText.font = FontName.HEITI;\r\n                this.rankText.color = \"#ffffff\";\r\n                this.rankText.fontSize = 24;\r\n                this.rankText.align = \"center\";\r\n                this.rankText.valign = \"middle\";\r\n                this.addOtherChild(2,this.rankText);\r\n            }\r\n            if (rank >= 1 && rank <= 3)\r\n                this.rankBg.texture = RES.GetRes(\"myDressRankBg\" + rank);\r\n            else\r\n                this.rankBg.texture = RES.GetRes(\"myDressRankBg4\");\r\n            let rankStr = rank.toString();\r\n            if (!rank || rank > 9999)\r\n                rankStr = \"9999+\";\r\n            else if (rankStr.length <= 1) \r\n                rankStr = \"0\" + rankStr;\r\n            this.rankText.text = rankStr;\r\n            this.rankBg.visible = this.rankText.visible = true;\r\n        }\r\n        else\r\n        {\r\n            if (this.rankBg)\r\n                this.rankBg.visible = this.rankText.visible = false;\r\n        }\r\n    }\r\n\r\n    protected updateSelfVoteFlag(isShow:boolean):void//更新我的作品标记\r\n    {\r\n        if (isShow)\r\n        {\r\n            if (!this.selfVoteFlag)\r\n            {\r\n                this.selfVoteFlag = new SgsTexture(RES.GetRes(\"myDressSelfWork1\"));\r\n                this.selfVoteFlag.pos(304, 234);\r\n                this.addOtherChild(1,this.selfVoteFlag);\r\n            }\r\n            this.selfVoteFlag.visible = true;\r\n        }\r\n        else\r\n        {\r\n            if (this.selfVoteFlag)\r\n                this.selfVoteFlag.visible = false;\r\n        }\r\n    }\r\n\r\n    protected onButtonHandler():void//按钮点击事件\r\n    {\r\n        if (!this.itemData) return;\r\n        WindowManager.GetInstance().OpenWindow(\"VoteWorkInfoWindow\",false,this.itemData);\r\n    }\r\n\r\n    public ClearDraw(destroy:boolean = true):void\r\n    {\r\n        super.ClearDraw(destroy);\r\n        if (destroy)\r\n        {\r\n        \r\n        }\r\n    }\r\n}","import SgsSpriteCheckBox from \"./SgsSpriteCheckBox\";\r\n/*\r\n* 普通Radio:状态改变后派发Laya.Event.CHANGE事件，手动设置selected属性不派发事件。\r\n*/\r\nexport default class SgsSpriteRadio extends SgsSpriteCheckBox\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n    }\r\n\r\n    protected dispEventChange(event:Laya.Event):void\r\n    {\r\n        if (!this.selected)\r\n        {\r\n            this.selected = true;\r\n            event.type = Laya.Event.CHANGE;\r\n            if (this.eventDispatcher) this.eventDispatcher.event(Laya.Event.CHANGE,event);\r\n        }\r\n    }\r\n}","import RES from \"./res/RES\";\r\nimport ResourceEvent from \"./res/ResourceEvent\";\r\nimport FontName from \"./enum/FontName\";\r\nimport Global from \"./Global\";\r\nimport SystemContext from \"./SystemContext\";\r\nimport RegClass from \"./RegClass\";\r\nimport GameEventDispatcher from \"./event/GameEventDispatcher\";\r\nimport ResourceItem from \"./res/ResourceItem\";\r\nimport MainLoadingView from \"./ui/loading/MainLoadingView\";\r\nimport TopUILayer from \"./ui/layer/TopUILayer\";\r\nimport ConfigerManager from \"./config/ConfigerManager\";\r\nimport SgsTexture from \"./ui/controls/base/SgsTexture\";\r\nimport TipsManager from \"./mode/base/TipsManager\";\r\nimport SgsSoundManager from \"./mode/base/SgsSoundManager\";\r\nimport SceneManager from \"./mode/base/SceneManager\";\r\nimport TimerManager from \"./mode/base/TimerManager\";\r\nimport GlobalConfiger from \"./config/GlobalConfiger\";\r\nimport DressConfiger from \"./config/DressConfiger\";\r\nimport DressVO from \"./vo/DressVO\";\r\nimport DressPartVO from \"./vo/DressPartVO\";\r\nimport GameManager from \"./mode/gameManager/GameManager\";\r\nimport SgsSprite from \"./ui/controls/base/SgsSprite\";\r\nimport TestContainerA from \"./TestContainerA\";\r\nimport TestContainerB from \"./TestContainerB\";\r\n\r\n// 程序入口\r\nexport default class GameMain\r\n{\r\n    private static loadingView:MainLoadingView;\r\n\tprivate configRatio:number = 0;\r\n\tprivate preloadRatio:number = 0;\r\n\tprivate static parseConfiged:boolean = false;//配置解析完\r\n\tprivate static preloaded:boolean = false;//perload资源加载完\r\n\tprivate static versionCorrect:string = \"\";//资源版本纠正(全服)\r\n\tprivate static userVersionCorrect:string = \"\";//资源版本纠正(玩家自己)\r\n\r\n\tprivate infoText:Laya.Text;\r\n\r\n    constructor()\r\n    {\r\n\t\tConfig.isAlpha = true;//场景透明\r\n\t\tConfig.isAntialias = false;//抗锯齿9\r\n\t\tConfig.useWebGL2 = false;\r\n\t\tLaya.init(750,1496);\r\n\t\tLaya.stage.bgColor = null;\r\n\t\tLaya.stage.scaleMode = Laya.Stage.SCALE_FIXED_WIDTH;//缩放模式\r\n\t\tLaya.stage.screenMode = Laya.Stage.SCREEN_VERTICAL;//屏幕方向\r\n        Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;//水平居中对齐\r\n        Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;//垂直居中对齐\r\n\t\tLaya.Text.defaultFont = FontName.WRYH;\r\n\r\n\t\t// Laya.SoundManager.autoStopMusic = false;\r\n\t\tLaya.SoundManager[\"_isActive\"] = true;\r\n\t\tvar workerVersion = Laya.Browser.window.workerVersion ? \"?v=\" + Laya.Browser.window.workerVersion : '';\r\n\t\tLaya.WorkerLoader.workerPath = \"libs/workerloader.js\" + workerVersion;\r\n\t\tLaya.WorkerLoader.enable = true;\r\n\r\n\t\tGlobal.ConsoleLog = console.log;\r\n\t\tRES.MaxLoader = 4;\r\n\r\n\t\t//注意全局只设置一次\r\n\t\tTimerManager.GetInstance().Start();\r\n\t\tTipsManager.GetInstance().AddEventListener();\r\n\r\n\t\tthis.initClientConfig();\r\n\t\t\r\n\t\tLaya.stage.on(Laya.Event.RESIZE,this,this.stageResize);\r\n\t\tLaya.stage.on(Laya.Event.FOCUS,this,this.stageFocus);\r\n\t\tLaya.stage.on(Laya.Event.BLUR,this,this.stageBlur);\r\n\t\tLaya.stage.on(Laya.Event.VISIBILITY_CHANGE,this,this.stageVisibility);\r\n\r\n\t\tif (\"focus\" in Laya.Browser.window)\r\n\t\t\tLaya.Browser.window.focus();\r\n\t\tlet document:any = Laya.Browser.document;\r\n\t\tif (document && \"hasFocus\" in document && !document.hasFocus())\r\n\t\t{\r\n\t\t\tLaya.SoundManager[\"_isActive\"] = false;\r\n\t\t}\r\n\t\tif (!SgsSoundManager.GetInstance().IsBgmStop)\r\n\t\t\tSgsSoundManager.GetInstance().PlayBgm();\r\n\t}\r\n\r\n\tprivate stageResize(event:Laya.Event):void//舞台尺寸变化\r\n\t{\r\n\t\t// updateBgSize(Laya.Browser.clientWidth,Laya.Browser.clientHeight);\r\n\t\tSystemContext.UpdateGameSize(Laya.Browser.clientWidth * Laya.Browser.pixelRatio,Laya.Browser.clientHeight * Laya.Browser.pixelRatio);\r\n\t\tthis.updateInfoText();\t\t\r\n\t}\r\n\r\n\tprivate stageFocus(event:Laya.Event):void//舞台获得焦点\r\n\t{\r\n\t\tif (!Laya.SoundManager[\"_isActive\"])\r\n\t\t\tLaya.SoundManager[\"_isActive\"] = true;\r\n\t\tif (SgsSoundManager.LayaBgMusic && !Laya.SoundManager[\"_musicChannel\"])\r\n\t\t\tSgsSoundManager.GetInstance().PlayBgm();\r\n\t\tGameEventDispatcher.GetInstance().event(GameEventDispatcher.STAGE_FOCUS);\r\n\t}\r\n\r\n\tprivate stageBlur(event:Laya.Event):void//舞台失去焦点\r\n\t{\r\n\t\tGameEventDispatcher.GetInstance().event(GameEventDispatcher.STAGE_BLUR);\r\n\t}\r\n\r\n\tprivate stageVisibility(event:Laya.Event):void//舞台可见性变化(是否进入后台)\r\n\t{\r\n\t\tGameEventDispatcher.GetInstance().event(GameEventDispatcher.STAGE_VISIBILITY);\r\n\t}\r\n\r\n\t// public static BgComplete():void\r\n\t// {\r\n\t// \t// updateBgSize(Laya.Browser.clientWidth,Laya.Browser.clientHeight);\r\n\t// }\r\n\r\n\tprivate initClientConfig():void//初始化客户端配置\r\n\t{\r\n\t\tlet url:string = \"res/config/GlobalConfig.json?v=\" + Math.random().toString();\r\n\t\tlet type:string = \"json\";\r\n\t\tLaya.loader.load(url,Laya.Handler.create(this,loadComplete),null,type);\r\n\t\tfunction loadComplete(data:any):void\r\n\t\t{\r\n\t\t\tif (!data)//失败 \r\n\t\t\t{\r\n\t\t\t\tconsole.log(\"GlobalConfig.json加载失败\");\r\n                return;\r\n            }\r\n\t\t\tGlobalConfiger.GetInstance().ParseConfig(data);\r\n\t\t\tRES.ClearResByUrl(url);\r\n\t\t\tif (Global.IsDebug)//debug版本\r\n\t\t\t\tLaya.Stat.show();//显示fps\r\n\t\t\tif (!Global.IsDebug)//不开启log\r\n\t\t\t\tconsole.log = function(){};\r\n\t\t\tthis.initResourceVersion();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate initResourceVersion():void//初始化资源版本文件\r\n\t{\r\n\t\tif (!Laya.Browser.window.isLocalDebug)//启动资源版本控制\r\n\t\t{\r\n\t\t\tthis.addVersionPrefix();\r\n\t\t\tlet resourceVersion:string = Laya.Browser.window.resourceVersion || \"\";\r\n\t\t\tLaya.ResourceVersion.enable(\"version.json?v=\" + resourceVersion,Laya.Handler.create(this,loadComplete),Laya.ResourceVersion.FILENAME_VERSION);\t\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.initResources();\r\n\t\t\r\n\t\tfunction loadComplete():void\r\n\t\t{\r\n\t\t\tthis.initResources();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate addVersionPrefix():void//重构版本控制机制(加上资源服务器前缀和对应版本号)\r\n\t{\r\n\t\tGameMain.versionCorrect = Laya.Browser.window.versionCorrect || \"\";\r\n\t\tGameMain.userVersionCorrect = Laya.Browser.window.userVersionCorrect || \"\";\r\n\t\tLaya.ResourceVersion.addVersionPrefix = this.customVersionPrefix;\r\n\t}\r\n\r\n\tprivate customVersionPrefix(originURL:string):string\r\n\t{\r\n\t\tlet manifest = Laya.ResourceVersion.manifest;\r\n\t\tif (manifest && manifest[originURL])//添加版本号\r\n\t\t\toriginURL = originURL + \"?v=\" + manifest[originURL] + GameMain.versionCorrect + GameMain.userVersionCorrect;\r\n\t\treturn originURL;\r\n\t}\r\n\r\n    private initResources():void//初始化资源\r\n    {\r\n\t\tRES.AddEventListener(ResourceEvent.CONFIG_COMPLETE,this,this.onConfigComplete);\r\n\t\tRES.AddEventListener(ResourceEvent.CONFIG_LOAD_ERROR,this,this.onConfigError);\r\n\t\tRES.LoadConfig(\"res/assets/default.res.json\",\"res/\");\r\n    } \r\n\r\n\tprivate onConfigError(event:ResourceEvent):void\r\n\t{\r\n\t\tconsole.log(\"配置文件加载失败\");\r\n\t\tRES.RemoveEventListener(ResourceEvent.CONFIG_COMPLETE,this,this.onConfigComplete);\r\n\t\tRES.RemoveEventListener(ResourceEvent.CONFIG_LOAD_ERROR,this,this.onConfigError);\r\n\t}\r\n\r\n\tprivate onConfigComplete(event:ResourceEvent):void\r\n\t{\r\n\t\tRES.RemoveEventListener(ResourceEvent.CONFIG_COMPLETE,this,this.onConfigComplete);\r\n\t\tRES.RemoveEventListener(ResourceEvent.CONFIG_LOAD_ERROR,this,this.onConfigError);\r\n\r\n\t\tRES.ClearResByUrl(\"res/assets/default.res.json\");\r\n\r\n\t\tRES.AddEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceComplete);\r\n        RES.AddEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n        RES.AddEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n        RES.AddEventListener(ResourceEvent.ITEM_LOAD_ERROR, this, this.onItemLoadError);\r\n\t\t\r\n\t\tRES.LoadGroup(\"mainLoading\");//优先加载主loading资源\r\n\t} \r\n\r\n\tprivate onResourceError(event:ResourceEvent):void\r\n\t{\r\n\t\tthis.showLoadError(\"资源组加载失败：\" + event.groupName);\r\n\t}\r\n\r\n\tprivate onResourceProgress(event:ResourceEvent):void\r\n\t{\r\n\t\tlet progress:number = event.progress;\r\n\t\tthis.showLoadProgress(event.groupName,progress * 100,100);\r\n\t}\r\n\r\n\tprivate onItemLoadError(event:ResourceEvent):void\r\n\t{\r\n\t\tthis.showLoadError(\"资源加载失败：\" + event.errorUrl);\r\n\t}\r\n\r\n\tprivate onResourceComplete(event:ResourceEvent):void\r\n\t{\r\n\t\tif (event.groupName == \"mainLoading\")//主加载界面资源加载完成\r\n\t\t{\r\n\t\t\tif (!GameMain.loadingView)\r\n\t\t\t{\r\n\t\t\t\tGameMain.loadingView = new MainLoadingView();\r\n        \t\tTopUILayer.GetInstance().addChild(GameMain.loadingView);\r\n\t\t\t\thideHtmlLoading();\r\n\t\t\t}\r\n\t\t\t// BottomLayer.GetInstance().Init();\r\n\r\n\t\t\t// if (ClientConfiger.GetInstance().ConfigZip)//替换配置文件资源组为Config_sgs\r\n\t\t\t// {\r\n\t\t\t// \tRES.DelGroupKeys(\"config\");\r\n\t\t\t// \tCrypt.SwitchCryptRes(\"Config_sgs\");\r\n\t\t\t// \tRES.AddGroupKeys(\"config\",[\"Config_sgs\"]);\r\n\t\t\t// }\r\n\t\t\t//预加载资源\r\n\t\t\tRES.AddGroupKeys(\"preload\",[\"homeScene\",\"dressScene\",\"myDressScene\",\"rankScene\",\"saveDressWin\"]);\r\n\t\t\tthis.computeLoadResRatio();\r\n\t\t\tRES.LoadGroup(\"config\");\r\n\t\t\tRegClass.RegAllClass();\r\n\t\t}\r\n\t\telse if (event.groupName == \"config\")\r\n\t\t{\r\n\t\t\tGameEventDispatcher.GetInstance().on(\"PARSE_CONFIGED\",this,this.parseConfiged);\r\n            ConfigerManager.GetInstance().ParsePreloadConfig();\r\n\r\n\t\t\t//预加载runtime目录资源：进度条计算异常(资源总量增加了)\r\n\t\t\tlet dressConfiger = DressConfiger.GetInstance();\r\n\t\t\tlet dressDic = dressConfiger.DressDic;\r\n\t\t\tlet dressPartDic = dressConfiger.DressPartDic;\r\n\t\t\tlet resources:Array<any> = [];\r\n\t\t\tlet keys:Array<string> = [];\r\n\t\t\tlet defaultResources:Array<any> = [];\r\n\t\t\tlet defaultKeys:Array<string> = [];\r\n\t\t\tlet resourceUrl:string = \"\";\r\n\t\t\tdressDic.forEach((key:number,element:DressVO) => {\r\n\t\t\t\tresourceUrl = element.ResourceUrl;\r\n\t\t\t\tif (resourceUrl)\r\n\t\t\t\t{\r\n\t\t\t\t\tresources.push({\"url\":resourceUrl,\"type\":\"image\",\"name\":\"runtime_dress_image\" + element.Resource});\r\n\t\t\t\t\tkeys.push(\"runtime_dress_image\" + element.Resource);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tlet defaultDressResources = dressConfiger.DefaultDressPartResources;\r\n\t\t\tdressPartDic.forEach((key:number,element:DressPartVO) => {\r\n\t\t\t\tresourceUrl = element.ResourceUrl;\r\n\t\t\t\tif (resourceUrl)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (defaultDressResources && defaultDressResources.indexOf(resourceUrl) >= 0)//默认搭配的部件资源\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdefaultResources.push({\"url\":resourceUrl,\"type\":\"image\",\"name\":\"runtime_dressPart_image\" + element.Resource});\r\n\t\t\t\t\t\tdefaultKeys.push(\"runtime_dressPart_image\" + element.Resource);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresources.push({\"url\":resourceUrl,\"type\":\"image\",\"name\":\"runtime_dressPart_image\" + element.Resource});\r\n\t\t\t\t\t\tkeys.push(\"runtime_dressPart_image\" + element.Resource);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (defaultDressResources && defaultDressResources.length > 0)//给默认搭配部件的资源加一个引用计数，使其image组件无法回收其资源\r\n\t\t\t{\r\n\t\t\t\tdefaultDressResources.forEach(url => {\r\n\t\t\t\t\tRES.AddReference(url);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (defaultResources.length > 0)//将默认搭配部件的资源添加到preload，且不回收\r\n\t\t\t{\r\n\t\t\t\tRES.AddResources(defaultResources);\r\n\t\t\t\tRES.AddGroupKeys(\"preload\",defaultKeys);\r\n\t\t\t\t// this.computeLoadResRatio();\r\n\t\t\t}\r\n\t\t\tif (resources.length > 0)\r\n\t\t\t{\r\n\t\t\t\tRES.AddResources(resources);\r\n\t\t\t\tRES.AddGroupKeys(\"runtime\",keys);\r\n\t\t\t\tRES.AddGroupKeys(\"preload\",[\"runtime\"]);\r\n\t\t\t\t// this.computeLoadResRatio();\r\n\t\t\t}\r\n\t\t\tRES.AddReference(\"res/assets/shareIcon.png\");\r\n\t\t\tRES.LoadGroup(\"preload\");\r\n\t\t}\r\n\t\telse if (event.groupName == \"preload\")\r\n\t\t{\r\n\t\t\t//设置SgsTexture空纹理\r\n\t\t\tSgsTexture.EmptyTexture = RES.GetRes(\"EmptyImg\");\r\n\t\t\t//从preload资源组中删除下列资源组，以便后续清理\r\n\t\t\tRES.DelGroupKeys(\"preload\",[\"homeScene\",\"dressScene\",\"myDressScene\",\"rankScene\",\"saveDressWin\",\"runtime\"]);\r\n\t\t\tif (Global.AutoClearRes)\r\n\t\t\t{\r\n\t\t\t\t//删除预加载的资源(不删除主页资源组,因为进游戏的第一个页面就是主页)\r\n\t\t\t\tRES.ClearResByGroup(\"dressScene\");\r\n\t\t\t\tRES.ClearResByGroup(\"myDressScene\");\r\n\t\t\t\tRES.ClearResByGroup(\"rankScene\");\r\n\t\t\t\tRES.ClearResByGroup(\"saveDressWin\");\r\n\t\t\t\tRES.ClearResByGroup(\"runtime\");\r\n\t\t\t}\r\n\r\n            GameMain.preloaded = true;\r\n           \r\n\t\t\tthis.removeResLoadEvent();\r\n\t\t\tGameMain.EnterLoginScene();\r\n        }\r\n    }\r\n    \r\n    private removeResLoadEvent()\r\n    {\r\n        RES.RemoveEventListener(ResourceEvent.GROUP_COMPLETE, this, this.onResourceComplete);\r\n        RES.RemoveEventListener(ResourceEvent.GROUP_LOAD_ERROR, this, this.onResourceError);\r\n        RES.RemoveEventListener(ResourceEvent.GROUP_PROGRESS, this, this.onResourceProgress);\r\n        RES.RemoveEventListener(ResourceEvent.ITEM_LOAD_ERROR, this, this.onItemLoadError);\r\n    }\r\n\r\n\tprivate parseConfiged():void//配置解析完成\r\n\t{\r\n\t\tGameEventDispatcher.GetInstance().off(\"PARSE_CONFIGED\",this,this.parseConfiged);\r\n        GameMain.parseConfiged = true;\r\n\t\tGameMain.EnterLoginScene();\r\n\t}\r\n\r\n\tpublic static CheckLoaded():boolean//检测资源是否已加载完\r\n\t{\r\n\t\treturn GameMain.parseConfiged && GameMain.preloaded;\r\n\t}\r\n\r\n\tpublic static EnterLoginScene(platformLoginSucc:boolean = false):void//进入登录界面\r\n\t{\r\n\t\tif (GameMain.preloaded)//资源已加载完\r\n\t\t{\t\r\n\t\t\tif (!GameMain.parseConfiged)\r\n\t\t\t\tGameMain.loadingView.ShowParseConfig();//配置未解析完\r\n\t\t\telse\r\n\t\t\t\tGameMain.loadingView.ResetProgress();//配置已解析完\r\n\t\t}\r\n\t\tif (GameMain.parseConfiged && GameMain.preloaded)\r\n\t\t{\r\n\t\t\tGameManager.GetInstance().on(GameManager.ENTER_GAME,this,this.onEnterGame);\r\n\t\t\tif (GameMain.loadingView)\r\n\t\t\t\tGameMain.loadingView.ShowText(\"加载数据中...\");\r\n\t\t\tGameManager.GetInstance().InitUserData();\r\n\t\t\t// if (GameMain.loadingView)\r\n\t\t\t// {\r\n\t\t\t// \tGameMain.loadingView.parent.removeChild(this.loadingView);\r\n\t\t\t// \tGameMain.loadingView.destroy();\r\n\t\t\t// \tGameMain.loadingView = null;\r\n\t\t\t// }\r\n\t\t\t// SceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static onEnterGame():void//进入游戏\r\n\t{\r\n\t\tGameManager.GetInstance().off(GameManager.ENTER_GAME,this,this.onEnterGame);\r\n\t\tif (GameMain.loadingView)\r\n\t\t{\r\n\t\t\tGameMain.loadingView.parent.removeChild(this.loadingView);\r\n\t\t\tGameMain.loadingView.destroy();\r\n\t\t\tGameMain.loadingView = null;\r\n\t\t}\r\n\t\tSceneManager.GetInstance().EnterScene(\"HomeScene\");\r\n\t}\r\n\r\n\tprivate computeLoadResRatio():void\r\n\t{\r\n\t\tlet configs:Array<ResourceItem> = RES.GetGroupByName(\"config\");\r\n\t\tlet preloads:Array<ResourceItem> = RES.GetGroupByName(\"preload\");\r\n\t\tlet configCnt:number = configs ? configs.length : 0;\r\n\t\tlet preloadCnt:number = preloads ? preloads.length : 0;\r\n\t\tthis.configRatio = configCnt / (configCnt + preloadCnt);\r\n\t\tthis.preloadRatio = preloadCnt / (configCnt + preloadCnt);\r\n\t}\r\n\r\n\tprivate showLoadProgress(groupName:string,curValue:number,maxValue:number):void\r\n\t{\r\n\t\tif (GameMain.loadingView)\r\n\t\t{\r\n\t\t\tif (groupName == \"config\")\r\n\t\t\t\tcurValue = curValue * this.configRatio;\r\n\t\t\telse if (groupName == \"preload\")\r\n\t\t\t\tcurValue = this.configRatio * 100 + curValue * this.preloadRatio;\r\n\t\t\tGameMain.loadingView.ShowProgress(curValue,maxValue);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate showLoadError(errorMsg:string):void\r\n\t{\r\n\t\tif (GameMain.loadingView)\r\n\t\t{\r\n\t\t\tGameMain.loadingView.ShowError(errorMsg);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tprivate sp1:SgsSprite;\r\n\tprivate sp2:SgsSprite;\r\n\r\n\tprivate updateInfoText():void\r\n\t{\r\n\t\tthis.sp1 = new SgsSprite();\r\n\t\tLaya.stage.addChild(this.sp1);\r\n\t\tthis.sp2 = new SgsSprite();\r\n\t\tLaya.stage.addChild(this.sp2);\r\n\r\n\t\tvar a = new TestContainerA([this.sp2]);\r\n\t\tthis.sp1.addDrawChild(a);\r\n\r\n\t\tvar b = new TestContainerB([this.sp2]);\r\n\t\tthis.sp1.addDrawChild(b);\r\n\r\n\t\ta.CreateC();\r\n\r\n\t\tthis.sp1.graphics.cmds\r\n\t\tthis.sp2.graphics.cmds\r\n\r\n\t\t// if (!this.infoText)\r\n\t\t// {\r\n\t\t// \tthis.infoText = new Laya.Text();\r\n\t\t// \tthis.infoText.pos(10,10);\r\n\t\t// \tthis.infoText.width = 750 - 20;\r\n\t\t// \tthis.infoText.zOrder = 100;\r\n\t\t// \tthis.infoText.font = \"黑体\";\r\n\t\t// \tthis.infoText.fontSize = 30;\r\n\t\t// \tthis.infoText.align = \"right\";\r\n\t\t// \tLaya.stage.addChild(this.infoText);\r\n\t\t// }\r\n\t\t// this.infoText.text = SystemContext.gameWidth + \"x\" + SystemContext.gameHeight;\r\n\r\n\t\t// this.infoText.text = \"尺寸:\" + SystemContext.gameWidth + \"x\" + SystemContext.gameHeight + \" \" +\r\n\t\t// \t\t\t\t\"多线程:\" + Laya.WorkerLoader.enable + \" \" +\r\n\t\t// \t\t\t\t\"webp:\" + Laya.Browser.window.useWebp;\r\n\t}\r\n\r\n\t// //调用账号信息静态接口\r\n\t// public static CallAccountInfoStatic(funName:string,value:any):void\r\n\t// {\r\n\t// \tif (AccountInfo) AccountInfo[funName](value);\r\n\t// }\r\n\t// //设置账号信息字段\r\n\t// public static SetAccountInfoField(field:string,value:any):void\r\n\t// {\r\n\t// \tif (AccountInfo.Self) AccountInfo.Self[field] = value;\r\n\t// }\r\n\t// //调用log信息接口\r\n\t// public static CallLogManager(funName:string,message:string):void\r\n\t// {\r\n\t// \tLogManager.GetInstance()[funName](message);\r\n\t// }\r\n\t// //调用渠道管理接口\r\n\t// public static CallChannelUtils(funName:string,...args):void\r\n\t// {\r\n\t// \tChannelUtils[funName](...args);\r\n\t// }\r\n\t// //显示weGame登录状态异常(退出游戏)\r\n\t// public static ShowWeGameQuit(errText:string = null):void\r\n\t// {\r\n\t// \tGameContext.ShowWeGameQuit(errText);\r\n\t// }\r\n\t// //播放本地录像\r\n\t// public static PlayLocalRecord(value:any):void\r\n\t// {\r\n\t// \tGameReplayManager.PlayLocalRecord(value);\r\n    // }\r\n    // //调用语音\r\n\t// public static CallGameAudioManager(funName:string,...args):void\r\n\t// {\r\n\t// \tGameAudioManager[funName](...args);\r\n\t// }\r\n}\r\nnew GameMain();"],"names":[],"mappings":"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"}