!function(i,n,s){var a=(s.un,s.uns,s.static,s.class),o=(s.getset,s.__newvec,function(){function t(){}return a(t,"PathFinding.core.DiagonalMovement"),t.Always=1,t.Never=2,t.IfAtMostOneObstacle=3,t.OnlyWhenNoObstacles=4,t}()),r=function(){function t(t,e,i){this.width=0,this.height=0,this.nodes=null;var n=0;"number"==typeof t?n=t:(e=t.length,n=t[0].length,i=t),this.width=n,this.height=e,this.nodes=this._buildNodes(n,e,i)}a(t,"PathFinding.core.Grid");var e=t.prototype;return e._buildNodes=function(t,e,i){var n=0,s=0,a=[];for(n=0;n<e;++n)for(a[n]=[],s=0;s<t;++s)a[n][s]=new l(s,n);if(null==i)return a;if(i.length!=e||i[0].length!=t)throw new Error("Matrix size does not fit");for(n=0;n<e;++n)for(s=0;s<t;++s)i[n][s]&&(a[n][s].walkable=!1);return a},e.getNodeAt=function(t,e){return this.nodes[e][t]},e.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},e.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},e.setWalkableAt=function(t,e,i){this.nodes[e][t].walkable=i},e.getNeighbors=function(t,e){var i=t.x,n=t.y,s=[],a=!1,r=!1,h=!1,l=!1,u=!1,d=!1,f=!1,c=!1,p=this.nodes;if(this.isWalkableAt(i,n-1)&&(s.push(p[n-1][i]),a=!0),this.isWalkableAt(i+1,n)&&(s.push(p[n][i+1]),h=!0),this.isWalkableAt(i,n+1)&&(s.push(p[n+1][i]),u=!0),this.isWalkableAt(i-1,n)&&(s.push(p[n][i-1]),f=!0),e==o.Never)return s;if(e==o.OnlyWhenNoObstacles)r=f&&a,l=a&&h,d=h&&u,c=u&&f;else if(e==o.IfAtMostOneObstacle)r=f||a,l=a||h,d=h||u,c=u||f;else{if(e!=o.Always)throw new Error("Incorrect value of diagonalMovement");r=!0,l=!0,d=!0,c=!0}return r&&this.isWalkableAt(i-1,n-1)&&s.push(p[n-1][i-1]),l&&this.isWalkableAt(i+1,n-1)&&s.push(p[n-1][i+1]),d&&this.isWalkableAt(i+1,n+1)&&s.push(p[n+1][i+1]),c&&this.isWalkableAt(i-1,n+1)&&s.push(p[n+1][i-1]),s},e.clone=function(){var e=0,i=0,n=this.width,s=this.height,a=this.nodes,o=new t(n,s),r=[];for(e=0;e<s;++e)for(r[e]=[],i=0;i<n;++i)r[e][i]=new l(i,e,a[e][i].walkable);return o.nodes=r,o},e.reset=function(){for(var t,e=0;e<this.height;++e)for(var i=0;i<this.width;++i)(t=this.nodes[e][i]).g=0,t.f=0,t.h=0,t.by=0,t.parent=null,t.opened=null,t.closed=null,t.tested=null},t}(),h=function(){function t(){}return a(t,"PathFinding.core.Heuristic"),t.manhattan=function(t,e){return t+e},t.euclidean=function(t,e){return Math.sqrt(t*t+e*e)},t.octile=function(t,e){var i=Math.SQRT2-1;return t<e?i*t+e:i*e+t},t.chebyshev=function(t,e){return Math.max(t,e)},t}(),l=function(){function t(t,e,i){this.x=0,this.y=0,this.g=0,this.f=0,this.h=0,this.by=0,this.parent=null,this.opened=null,this.closed=null,this.tested=null,this.walkable=!1,void 0===i&&(i=!0),this.x=t,this.y=e,this.walkable=i}return a(t,"PathFinding.core.Node",null,"Node1"),t}(),u=function(){function t(){}return a(t,"PathFinding.core.Util"),t.backtrace=function(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()},t.biBacktrace=function(e,i){var n=t.backtrace(e),s=t.backtrace(i);return n.concat(s.reverse())},t.pathLength=function(t){var e=0,i=0,n=0,s=0,a=0,o=0;for(e=1;e<t.length;++e)n=t[e-1],s=t[e],a=n[0]-s[0],o=n[1]-s[1],i+=Math.sqrt(a*a+o*o);return i},t.interpolate=function(t,e,i,n){var s,a,o,r,h=Math.abs,l=[],u=0,d=0;for(s=t<i?1:-1,a=e<n?1:-1,u=(o=h(i-t))-(r=h(n-e));l.push([t,e]),t!=i||e!=n;)(d=2*u)>-r&&(u-=r,t+=s),d<o&&(u+=o,e+=a);return l},t.expandPath=function(e){var i,n,s,a=[],o=e.length,r=0,h=0,l=0;if(o<2)return a;for(h=0;h<o-1;++h)for(i=e[h],n=e[h+1],r=(s=t.interpolate(i[0],i[1],n[0],n[1])).length,l=0;l<r-1;++l)a.push(s[l]);return a.push(e[o-1]),a},t.smoothenPath=function(e,i){var n,s,a,o,r,h=i.length,l=i[0][0],u=i[0][1],d=i[h-1][0],f=i[h-1][1],c=0,p=0,g=0,b=0,m=0,v=0,A=!1;for(n=[[c=l,p=u]],m=2;m<h;++m){for(g=(s=i[m])[0],b=s[1],a=t.interpolate(c,p,g,b),A=!1,v=1;v<a.length;++v)if(o=a[v],!e.isWalkableAt(o[0],o[1])){A=!0;break}A&&(r=i[m-1],n.push(r),c=r[0],p=r[1])}return n.push([d,f]),n},t.compressPath=function(t){if(t.length<3)return t;var e=[],i=t[0][0],n=t[0][1],s=t[1][0],a=t[1][1],o=s-i,r=a-n,h=0,l=0,u=0,d=0,f=NaN,c=0;for(o/=f=Math.sqrt(o*o+r*r),r/=f,e.push([i,n]),c=2;c<t.length;c++)h=s,l=a,u=o,d=r,o=(s=t[c][0])-h,r=(a=t[c][1])-l,r/=f=Math.sqrt(o*o+r*r),(o/=f)===u&&r===d||e.push([h,l]);return e.push([s,a]),e},t}(),d=function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.heuristic=null,this.weight=0,this.diagonalMovement=0,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||h.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||h.manhattan:this.heuristic=t.heuristic||h.octile}return a(t,"PathFinding.finders.AStarFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o,r,h=new p(function(t,e){return t.f-e.f}),l=s.getNodeAt(t,e),d=s.getNodeAt(i,n),f=this.heuristic,c=this.diagonalMovement,g=this.weight,b=Math.abs,m=Math.SQRT2,v=0,A=0,k=0,W=0,M=0;for(l.g=0,l.f=0,h.push(l),l.opened=!0;!h.empty();){if((a=h.pop()).closed=!0,a===d)return u.backtrace(d);for(v=0,A=(o=s.getNeighbors(a,c)).length;v<A;++v)(r=o[v]).closed||(k=r.x,W=r.y,M=a.g+(k-a.x==0||W-a.y==0?1:m),(!r.opened||M<r.g)&&(r.g=M,r.h=r.h||g*f(b(k-i),b(W-n)),r.f=r.g+r.h,r.parent=a,r.opened?h.updateItem(r):(h.push(r),r.opened=!0)))}return[]},t}(),f=function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.diagonalMovement=0,this.heuristic=null,this.weight=0,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||h.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement==o.Never?this.heuristic=t.heuristic||h.manhattan:this.heuristic=t.heuristic||h.octile}return a(t,"PathFinding.finders.BiAStarFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o,r,h=function(t,e){return t.f-e.f},l=new p(h),d=new p(h),f=s.getNodeAt(t,e),c=s.getNodeAt(i,n),g=this.heuristic,b=this.diagonalMovement,m=this.weight,v=Math.abs,A=Math.SQRT2,k=0,W=0,M=0,y=0,w=0;for(f.g=0,f.f=0,l.push(f),f.opened=1,c.g=0,c.f=0,d.push(c),c.opened=2;!l.empty()&&!d.empty();){for((a=l.pop()).closed=!0,k=0,W=(o=s.getNeighbors(a,b)).length;k<W;++k)if(!(r=o[k]).closed){if(2===r.opened)return u.biBacktrace(a,r);M=r.x,y=r.y,w=a.g+(M-a.x==0||y-a.y==0?1:A),(!r.opened||w<r.g)&&(r.g=w,r.h=r.h||m*g(v(M-i),v(y-n)),r.f=r.g+r.h,r.parent=a,r.opened?l.updateItem(r):(l.push(r),r.opened=1))}for((a=d.pop()).closed=!0,k=0,W=(o=s.getNeighbors(a,b)).length;k<W;++k)if(!(r=o[k]).closed){if(1===r.opened)return u.biBacktrace(r,a);M=r.x,y=r.y,w=a.g+(M-a.x==0||y-a.y==0?1:A),(!r.opened||w<r.g)&&(r.g=w,r.h=r.h||m*g(v(M-t),v(y-e)),r.f=r.g+r.h,r.parent=a,r.opened?d.updateItem(r):(d.push(r),r.opened=2))}}return[]},t}(),c=(function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.heuristic=null,this.weight=0,this.diagonalMovement=0,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}a(t,"PathFinding.finders.BiBreadthFirstFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o,r,h=s.getNodeAt(t,e),l=s.getNodeAt(i,n),d=[],f=[],c=this.diagonalMovement,p=0,g=0;for(d.push(h),h.opened=!0,h.by=0,f.push(l),l.opened=!0,l.by=1;d.length&&f.length;){for((r=d.shift()).closed=!0,p=0,g=(a=s.getNeighbors(r,c)).length;p<g;++p)if(!(o=a[p]).closed)if(o.opened){if(1===o.by)return u.biBacktrace(r,o)}else d.push(o),o.parent=r,o.opened=!0,o.by=0;for((r=f.shift()).closed=!0,p=0,g=(a=s.getNeighbors(r,c)).length;p<g;++p)if(!(o=a[p]).closed)if(o.opened){if(0===o.by)return u.biBacktrace(o,r)}else f.push(o),o.parent=r,o.opened=!0,o.by=1}return[]}}(),function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.heuristic=null,this.weight=0,this.diagonalMovement=0,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never)}a(t,"PathFinding.finders.BreadthFirstFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o,r,h=[],l=this.diagonalMovement,d=s.getNodeAt(t,e),f=s.getNodeAt(i,n),c=0,p=0;for(h.push(d),d.opened=!0;h.length;){if((r=h.shift()).closed=!0,r===f)return u.backtrace(f);for(c=0,p=(a=s.getNeighbors(r,l)).length;c<p;++c)(o=a[c]).closed||o.opened||(h.push(o),o.opened=!0,o.parent=r)}return[]}}(),function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.heuristic=null,this.weight=0,this.diagonalMovement=0,this.trackRecursion=!1,this.timeLimit=NaN,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||h.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement===o.Never?this.heuristic=t.heuristic||h.manhattan:this.heuristic=t.heuristic||h.octile}a(t,"PathFinding.finders.IDAStarFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o=this,r=(new Date).getTime(),h=function(t,e){return o.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),l=function(t,e){return t.x===e.x||t.y===e.y?1:Math.SQRT2},u=function(t,e,i,n,a){if(o.timeLimit>0&&(new Date).getTime()-r>1e3*o.timeLimit)return 1/0;var d=e+h(t,f)*o.weight;if(d>i)return d;if(t==f)return n[a]=[t.x,t.y],t;var c,p=0,g=0,b=0,m=s.getNeighbors(t,o.diagonalMovement);for(b=0,p=1/0;c=m[b];++b){if(o.trackRecursion&&(c.retainCount=c.retainCount+1||1,1!=c.tested&&(c.tested=!0)),(g=u(c,e+l(t,c),i,n,a+1))instanceof PathFinding.core.Node)return n[a]=[t.x,t.y],g;o.trackRecursion&&0==--c.retainCount&&(c.tested=!1),g<p&&(p=g)}return p}.bind(this),d=s.getNodeAt(t,e),f=s.getNodeAt(i,n),c=h(d,f),p=0,g=0;for(p=0;;++p){if((g=u(d,0,c,a=[],0))==1/0)return[];if(g instanceof PathFinding.core.Node)return a;c=g}}}(),function(){function t(t){this.grid=null,this.openList=null,this.startNode=null,this.endNode=null,this.heuristic=null,this.trackJumpRecursion=!1,t=t||{},this.heuristic=t.heuristic||h.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}a(t,"PathFinding.finders.JumpPointFinderBase");var e=t.prototype;return e.findPath=function(t,e,i,n,s){var a,o=this.openList=new p(function(t,e){return t.f-e.f}),r=this.startNode=s.getNodeAt(t,e),h=this.endNode=s.getNodeAt(i,n);for(this.grid=s,r.g=0,r.f=0,o.push(r),r.opened=!0;!o.empty();){if((a=o.pop()).closed=!0,a==h)return u.expandPath(u.backtrace(h));this._identifySuccessors(a)}return[]},e._identifySuccessors=function(t){var e,i,n,s,a,o=this.grid,r=this.heuristic,l=this.openList,u=this.endNode.x,d=this.endNode.y,f=0,c=t.x,p=t.y,g=0,b=0,m=0,v=0,A=Math.abs;for(Math.max,f=0,a=(e=this._findNeighbors(t)).length;f<a;++f)if(i=e[f],n=this._jump(i[0],i[1],c,p)){if(g=n[0],b=n[1],(s=o.getNodeAt(g,b)).closed)continue;m=h.octile(A(g-c),A(b-p)),v=t.g+m,(!s.opened||v<s.g)&&(s.g=v,s.h=s.h||r(A(g-u),A(b-d)),s.f=s.g+s.h,s.parent=t,s.opened?l.updateItem(s):(l.push(s),s.opened=!0))}},e._jump=function(t,e,i,n){},e._findNeighbors=function(t){},t}()),p=(function(){a(function(t){return(t=t||{}).diagonalMovement===o.Never?new A(t):t.diagonalMovement===o.Always?new b(t):t.diagonalMovement===o.OnlyWhenNoObstacles?new v(t):new m(t)},"PathFinding.finders.JumpPointFinder")}(),function(){function t(t){this.allowDiagonal=!1,this.dontCrossCorners=!1,this.diagonalMovement=0,this.heuristic=null,t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||h.manhattan,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=o.OnlyWhenNoObstacles:this.diagonalMovement=o.IfAtMostOneObstacle:this.diagonalMovement=o.Never),this.diagonalMovement==o.Never?this.heuristic=t.heuristic||h.manhattan:this.heuristic=t.heuristic||h.octile}a(t,"PathFinding.finders.TraceFinder"),t.prototype.findPath=function(t,e,i,n,s){var a,o,r,h=new p(function(t,e){return t.f-e.f}),l=s.getNodeAt(t,e),d=s.getNodeAt(i,n),f=this.heuristic,c=(this.allowDiagonal,this.dontCrossCorners,Math.abs),g=Math.SQRT2,b=0,m=0,v=0,A=0,k=0;for(l.g=0,l.f=0,h.push(l),l.opened=!0;!h.empty();){if((a=h.pop()).closed=!0,a===d)return u.backtrace(d);for(b=0,m=(o=s.getNeighbors(a,this.diagonalMovement)).length;b<m;++b)(r=o[b]).closed||(v=r.x,A=r.y,k=a.g+(v-a.x==0||A-a.y==0?1:g),(!r.opened||k<r.g)&&(r.g=k*m/9,r.h=r.h||f(c(v-i),c(A-n)),r.f=r.g+r.h,r.parent=a,r.opened?h.updateItem(r):(h.push(r),r.opened=!0)))}return[]}}(),function(){function t(t){this.cmp=null,this.nodes=null,this.heapFunction=new g,this.cmp=null!=t?t:this.heapFunction.defaultCmp,this.nodes=[]}a(t,"PathFinding.libs.Heap");var e=t.prototype;return e.push=function(t){return this.heapFunction.heappush(this.nodes,t,this.cmp)},e.pop=function(){return this.heapFunction.heappop(this.nodes,this.cmp)},e.peek=function(){return this.nodes[0]},e.contains=function(t){return-1!==this.nodes.indexOf(t)},e.replace=function(t){return this.heapFunction.heapreplace(this.nodes,t,this.cmp)},e.pushpop=function(t){return this.heapFunction.heappushpop(this.nodes,t,this.cmp)},e.heapify=function(){return this.heapFunction.heapify(this.nodes,this.cmp)},e.updateItem=function(t){return this.heapFunction.updateItem(this.nodes,t,this.cmp)},e.clear=function(){return this.nodes=[]},e.empty=function(){return 0===this.nodes.length},e.size=function(){return this.nodes.length},e.clone=function(){var e=new t;return e.nodes=this.nodes.slice(0),e},e.toArray=function(){return this.nodes.slice(0)},t}()),g=function(){function t(){this.defaultCmp=function(t,e){return t<e?-1:t>e?1:0}}a(t,"PathFinding.libs.HeapFunction");var e=t.prototype;return e.insort=function(t,e,i,n,s){var a=NaN;if(null==i&&(i=0),null==s&&(s=this.defaultCmp),i<0)throw new Error("lo must be non-negative");for(null==n&&(n=t.length);i<n;)s(e,t[a=Math.floor((i+n)/2)])<0?n=a:i=a+1;return[].splice.apply(t,[i,i-i].concat(e)),e},e.heappush=function(t,e,i){return null==i&&(i=this.defaultCmp),t.push(e),this._siftdown(t,0,t.length-1,i)},e.heappop=function(t,e){var i,n;return null==e&&(e=this.defaultCmp),i=t.pop(),t.length?(n=t[0],t[0]=i,this._siftup(t,0,e)):n=i,n},e.heapreplace=function(t,e,i){var n;return null==i&&(i=this.defaultCmp),n=t[0],t[0]=e,this._siftup(t,0,i),n},e.heappushpop=function(t,e,i){var n;return null==i&&(i=this.defaultCmp),t.length&&i(t[0],e)<0&&(e=(n=[t[0],e])[0],t[0]=n[1],this._siftup(t,0,i)),e},e.heapify=function(t,e){var i,n,s,a,o,r=0,h=0,l=0;for(null==e&&(e=this.defaultCmp),s=[],h=0,o=(n=function(){for(a=[],l=0,i=Math.floor(t.length/2);0<=i?l<i:l>i;0<=i?l++:l--)a.push(l);return a}.apply(this).reverse()).length;h<o;h++)r=n[h],s.push(this._siftup(t,r,e));return s},e.updateItem=function(t,e,i){var n;return null==i&&(i=this.defaultCmp),-1===(n=t.indexOf(e))?null:(this._siftdown(t,0,n,i),this._siftup(t,n,i))},e.nlargest=function(t,e,i){var n,s,a,o,r=0;if(null==i&&(i=this.defaultCmp),!(s=t.slice(0,e)).length)return s;for(this.heapify(s,i),r=0,o=(a=t.slice(e)).length;r<o;r++)n=a[r],this.heappushpop(s,n,i);return s.sort(i).reverse()},e.nsmallest=function(t,e,i){var n,s,a,o,r,h,l,u=0,d=0;if(null==i&&(i=this.defaultCmp),10*e<=t.length){if(!(a=t.slice(0,e).sort(i)).length)return a;for(s=a[a.length-1],u=0,o=(r=t.slice(e)).length;u<o;u++)i(n=r[u],s)<0&&(this.insort(a,n,0,null,i),a.pop(),s=a[a.length-1]);return a}for(this.heapify(t,i),l=[],d=0,h=Math.min(e,t.length);0<=h?d<h:d>h;0<=h?++d:--d)l.push(this.heappop(t,i));return l},e._siftdown=function(t,e,i,n){var s,a,o=0;for(null==n&&(n=this.defaultCmp),s=t[i];i>e&&n(s,a=t[o=i-1>>1])<0;)t[i]=a,i=o;return t[i]=s},e._siftup=function(t,e,i){var n,s,a,o=0,r=0;for(null==i&&(i=this.defaultCmp),s=t.length,a=e,n=t[e],o=2*e+1;o<s;)(r=o+1)<s&&!(i(t[o],t[r])<0)&&(o=r),t[e]=t[o],o=2*(e=o)+1;return t[e]=n,this._siftdown(t,a,e,i)},t}(),b=(function(){a(function(){var t={allowDiagonal:!0,dontCrossCorners:!1,heuristic:h.manhattan,weight:1},e=new d(t),i=new r(64,36),n=e.findPath(23,16,33,16,i);console.log(n.toString())},"TestPathFinding")}(),function(t){a(function e(t){e.__super.call(this,t);var i=this.heuristic;this.heuristic=function(t,e){return 1e6*i(t,e)}},"PathFinding.finders.BestFirstFinder",d)}(),function(t){a(function e(t){e.__super.call(this,t);var i=this.heuristic;this.heuristic=function(t,e){return 1e6*i(t,e)}},"PathFinding.finders.BiBestFirstFinder",f)}(),function(t){a(function e(t){e.__super.call(this,t),this.heuristic=function(t,e){return 0}},"PathFinding.finders.BiDijkstraFinder",f)}(),function(t){a(function e(t){e.__super.call(this,t),this.heuristic=function(t,e){return 0}},"PathFinding.finders.DijkstraFinder",d)}(),function(t){function e(t){e.__super.call(this,t)}a(e,"PathFinding.finders.JPFAlwaysMoveDiagonally",c);var i=e.prototype;return i._jump=function(t,e,i,n){var s=this.grid,a=t-i,o=e-n;if(!s.isWalkableAt(t,e))return null;if(1==this.trackJumpRecursion&&(s.getNodeAt(t,e).tested=!0),s.getNodeAt(t,e)==this.endNode)return[t,e];if(0!==a&&0!==o){if(s.isWalkableAt(t-a,e+o)&&!s.isWalkableAt(t-a,e)||s.isWalkableAt(t+a,e-o)&&!s.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+a,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==a){if(s.isWalkableAt(t+a,e+1)&&!s.isWalkableAt(t,e+1)||s.isWalkableAt(t+a,e-1)&&!s.isWalkableAt(t,e-1))return[t,e]}else if(s.isWalkableAt(t+1,e+o)&&!s.isWalkableAt(t+1,e)||s.isWalkableAt(t-1,e+o)&&!s.isWalkableAt(t-1,e))return[t,e];return this._jump(t+a,e+o,t,e)},i._findNeighbors=function(t){var e,i,n=t.parent,s=t.x,a=t.y,r=this.grid,h=0,l=0,u=0,d=0,f=[],c=0,p=0;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),d=(a-l)/Math.max(Math.abs(a-l),1),0!==u&&0!==d?(r.isWalkableAt(s,a+d)&&f.push([s,a+d]),r.isWalkableAt(s+u,a)&&f.push([s+u,a]),r.isWalkableAt(s+u,a+d)&&f.push([s+u,a+d]),r.isWalkableAt(s-u,a)||f.push([s-u,a+d]),r.isWalkableAt(s,a-d)||f.push([s+u,a-d])):0===u?(r.isWalkableAt(s,a+d)&&f.push([s,a+d]),r.isWalkableAt(s+1,a)||f.push([s+1,a+d]),r.isWalkableAt(s-1,a)||f.push([s-1,a+d])):(r.isWalkableAt(s+u,a)&&f.push([s+u,a]),r.isWalkableAt(s,a+1)||f.push([s+u,a+1]),r.isWalkableAt(s,a-1)||f.push([s+u,a-1]));else for(c=0,p=(e=r.getNeighbors(t,o.Always)).length;c<p;++c)i=e[c],f.push([i.x,i.y]);return f},e}()),m=function(t){function e(t){e.__super.call(this,t)}a(e,"PathFinding.finders.JPFMoveDiagonallyIfAtMostOneObstacle",c);var i=e.prototype;return i._jump=function(t,e,i,n){var s=this.grid,a=t-i,o=e-n;if(!s.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(s.getNodeAt(t,e).tested=!0),s.getNodeAt(t,e)==this.endNode)return[t,e];if(0!==a&&0!==o){if(s.isWalkableAt(t-a,e+o)&&!s.isWalkableAt(t-a,e)||s.isWalkableAt(t+a,e-o)&&!s.isWalkableAt(t,e-o))return[t,e];if(this._jump(t+a,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==a){if(s.isWalkableAt(t+a,e+1)&&!s.isWalkableAt(t,e+1)||s.isWalkableAt(t+a,e-1)&&!s.isWalkableAt(t,e-1))return[t,e]}else if(s.isWalkableAt(t+1,e+o)&&!s.isWalkableAt(t+1,e)||s.isWalkableAt(t-1,e+o)&&!s.isWalkableAt(t-1,e))return[t,e];return s.isWalkableAt(t+a,e)||s.isWalkableAt(t,e+o)?this._jump(t+a,e+o,t,e):null},i._findNeighbors=function(t){var e,i,n=t.parent,s=t.x,a=t.y,r=this.grid,h=0,l=0,u=0,d=0,f=[],c=0,p=0;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),d=(a-l)/Math.max(Math.abs(a-l),1),0!==u&&0!==d?(r.isWalkableAt(s,a+d)&&f.push([s,a+d]),r.isWalkableAt(s+u,a)&&f.push([s+u,a]),(r.isWalkableAt(s,a+d)||r.isWalkableAt(s+u,a))&&f.push([s+u,a+d]),!r.isWalkableAt(s-u,a)&&r.isWalkableAt(s,a+d)&&f.push([s-u,a+d]),!r.isWalkableAt(s,a-d)&&r.isWalkableAt(s+u,a)&&f.push([s+u,a-d])):0===u?r.isWalkableAt(s,a+d)&&(f.push([s,a+d]),r.isWalkableAt(s+1,a)||f.push([s+1,a+d]),r.isWalkableAt(s-1,a)||f.push([s-1,a+d])):r.isWalkableAt(s+u,a)&&(f.push([s+u,a]),r.isWalkableAt(s,a+1)||f.push([s+u,a+1]),r.isWalkableAt(s,a-1)||f.push([s+u,a-1]));else for(c=0,p=(e=r.getNeighbors(t,o.IfAtMostOneObstacle)).length;c<p;++c)i=e[c],f.push([i.x,i.y]);return f},e}(),v=function(t){function e(t){e.__super.call(this,t)}a(e,"PathFinding.finders.JPFMoveDiagonallyIfNoObstacles",c);var i=e.prototype;return i._jump=function(t,e,i,n){var s=this.grid,a=t-i,o=e-n;if(!s.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(s.getNodeAt(t,e).tested=!0),s.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==a&&0!==o){if(this._jump(t+a,e,t,e)||this._jump(t,e+o,t,e))return[t,e]}else if(0!==a){if(s.isWalkableAt(t,e-1)&&!s.isWalkableAt(t-a,e-1)||s.isWalkableAt(t,e+1)&&!s.isWalkableAt(t-a,e+1))return[t,e]}else if(0!==o&&(s.isWalkableAt(t-1,e)&&!s.isWalkableAt(t-1,e-o)||s.isWalkableAt(t+1,e)&&!s.isWalkableAt(t+1,e-o)))return[t,e];return s.isWalkableAt(t+a,e)&&s.isWalkableAt(t,e+o)?this._jump(t+a,e+o,t,e):null},i._findNeighbors=function(t){var e,i,n=t.parent,s=t.x,a=t.y,r=this.grid,h=0,l=0,u=0,d=0,f=[],c=0,p=0;if(n)if(h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),d=(a-l)/Math.max(Math.abs(a-l),1),0!==u&&0!==d)r.isWalkableAt(s,a+d)&&f.push([s,a+d]),r.isWalkableAt(s+u,a)&&f.push([s+u,a]),r.isWalkableAt(s,a+d)&&r.isWalkableAt(s+u,a)&&f.push([s+u,a+d]);else{var g;if(0!==u){g=r.isWalkableAt(s+u,a);var b=r.isWalkableAt(s,a+1),m=r.isWalkableAt(s,a-1);g&&(f.push([s+u,a]),b&&f.push([s+u,a+1]),m&&f.push([s+u,a-1])),b&&f.push([s,a+1]),m&&f.push([s,a-1])}else if(0!==d){g=r.isWalkableAt(s,a+d);var v=r.isWalkableAt(s+1,a),A=r.isWalkableAt(s-1,a);g&&(f.push([s,a+d]),v&&f.push([s+1,a+d]),A&&f.push([s-1,a+d])),v&&f.push([s+1,a]),A&&f.push([s-1,a])}}else for(c=0,p=(e=r.getNeighbors(t,o.OnlyWhenNoObstacles)).length;c<p;++c)i=e[c],f.push([i.x,i.y]);return f},e}(),A=function(t){function e(t){e.__super.call(this,t)}a(e,"PathFinding.finders.JPFNeverMoveDiagonally",c);var i=e.prototype;return i._jump=function(t,e,i,n){var s=this.grid,a=t-i,o=e-n;if(!s.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(s.getNodeAt(t,e).tested=!0),s.getNodeAt(t,e)==this.endNode)return[t,e];if(0!==a){if(s.isWalkableAt(t,e-1)&&!s.isWalkableAt(t-a,e-1)||s.isWalkableAt(t,e+1)&&!s.isWalkableAt(t-a,e+1))return[t,e]}else{if(0===o)throw new Error("Only horizontal and vertical movements are allowed");if(s.isWalkableAt(t-1,e)&&!s.isWalkableAt(t-1,e-o)||s.isWalkableAt(t+1,e)&&!s.isWalkableAt(t+1,e-o))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+a,e+o,t,e)},i._findNeighbors=function(t){var e,i,n=t.parent,s=t.x,a=t.y,r=this.grid,h=0,l=0,u=0,d=0,f=[],c=0,p=0;if(n)h=n.x,l=n.y,u=(s-h)/Math.max(Math.abs(s-h),1),d=(a-l)/Math.max(Math.abs(a-l),1),0!==u?(r.isWalkableAt(s,a-1)&&f.push([s,a-1]),r.isWalkableAt(s,a+1)&&f.push([s,a+1]),r.isWalkableAt(s+u,a)&&f.push([s+u,a])):0!==d&&(r.isWalkableAt(s-1,a)&&f.push([s-1,a]),r.isWalkableAt(s+1,a)&&f.push([s+1,a]),r.isWalkableAt(s,a+d)&&f.push([s,a+d]));else for(c=0,p=(e=r.getNeighbors(t,o.Never)).length;c<p;++c)i=e[c],f.push([i.x,i.y]);return f},e}()}(window,document,Laya);