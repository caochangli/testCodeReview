"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){o=!0,n=e},f:function(){try{s||null==a.return||a.return()}finally{if(o)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var a,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,r)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}var spine;!function(e){var t,a,i=function(){function Animation(e,t,a){if(_classCallCheck(this,Animation),!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(t),this.duration=a}return _createClass(Animation,[{key:"setTimelines",value:function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds=new e.StringSet;for(var a=0;a<t.length;a++)this.timelineIds.addAll(t[a].getPropertyIds())}},{key:"hasTimeline",value:function(e){for(var t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}},{key:"apply",value:function(e,t,a,i,r,n,s,o){if(!e)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(a%=this.duration,t>0&&(t%=this.duration));for(var l=this.timelines,h=0,c=l.length;h<c;h++)l[h].apply(e,t,a,r,n,s,o)}}]),Animation}();e.Animation=i,function(e){e[e.setup=0]="setup",e[e.first=1]="first",e[e.replace=2]="replace",e[e.add=3]="add"}(t=e.MixBlend||(e.MixBlend={})),function(e){e[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut"}(a=e.MixDirection||(e.MixDirection={}));var r={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18},n=function(){function Timeline(t,a){_classCallCheck(this,Timeline),this.propertyIds=a,this.frames=e.Utils.newFloatArray(t*this.getFrameEntries())}return _createClass(Timeline,[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}],[{key:"search1",value:function(e,t){for(var a=e.length,i=1;i<a;i++)if(e[i]>t)return i-1;return a-1}},{key:"search",value:function(e,t,a){for(var i=e.length,r=a;r<i;r+=a)if(e[r]>t)return r-a;return i-a}}]),Timeline}();e.Timeline=n;var s=function(t){_inherits(CurveTimeline,n);var a=_createSuper(CurveTimeline);function CurveTimeline(t,i,r){var n;return _classCallCheck(this,CurveTimeline),(n=a.call(this,t,r)).curves=e.Utils.newFloatArray(t+18*i),n.curves[t-1]=1,n}return _createClass(CurveTimeline,[{key:"setLinear",value:function(e){this.curves[e]=0}},{key:"setStepped",value:function(e){this.curves[e]=1}},{key:"shrink",value:function(t){var a=this.getFrameCount()+18*t;if(this.curves.length>a){var i=e.Utils.newFloatArray(a);e.Utils.arrayCopy(this.curves,0,i,0,a),this.curves=i}}},{key:"setBezier",value:function(e,t,a,i,r,n,s,o,l,h,c){var u=this.curves,d=this.getFrameCount()+18*e;0==a&&(u[t]=2+d);for(var f=.03*(i-2*n+o),m=.03*(r-2*s+l),v=.006*(3*(n-o)-i+h),g=.006*(3*(s-l)-r+c),p=2*f+v,y=2*m+g,k=.3*(n-i)+f+.16666667*v,x=.3*(s-r)+m+.16666667*g,C=i+k,b=r+x,w=d+18;d<w;d+=2)u[d]=C,u[d+1]=b,k+=p,x+=y,p+=v,y+=g,C+=k,b+=x}},{key:"getBezierValue",value:function(e,t,a,i){var r=this.curves;if(r[i]>e){var n=this.frames[t],s=this.frames[t+a];return s+(e-n)/(r[i]-n)*(r[i+1]-s)}var o=i+18;for(i+=2;i<o;i+=2)if(r[i]>=e){var l=r[i-2],h=r[i-1];return h+(e-l)/(r[i]-l)*(r[i+1]-h)}t+=this.getFrameEntries();var c=r[o-2],u=r[o-1];return u+(e-c)/(this.frames[t]-c)*(this.frames[t+a]-u)}}]),CurveTimeline}();e.CurveTimeline=s;var o=function(e){_inherits(CurveTimeline1,s);var t=_createSuper(CurveTimeline1);function CurveTimeline1(e,a,i){return _classCallCheck(this,CurveTimeline1),t.call(this,e,a,[i])}return _createClass(CurveTimeline1,[{key:"getFrameEntries",value:function(){return 2}},{key:"setFrame",value:function(e,t,a){e<<=1,this.frames[e]=t,this.frames[e+1]=a}},{key:"getCurveValue",value:function(e){for(var t=this.frames,a=t.length-2,i=2;i<=a;i+=2)if(t[i]>e){a=i-2;break}var r=this.curves[a>>1];switch(r){case 0:var n=t[a],s=t[a+1];return s+(e-n)/(t[a+2]-n)*(t[a+2+1]-s);case 1:return t[a+1]}return this.getBezierValue(e,a,1,r-2)}}]),CurveTimeline1}();e.CurveTimeline1=o;var l=function(e){_inherits(CurveTimeline2,s);var t=_createSuper(CurveTimeline2);function CurveTimeline2(e,a,i,r){return _classCallCheck(this,CurveTimeline2),t.call(this,e,a,[i,r])}return _createClass(CurveTimeline2,[{key:"getFrameEntries",value:function(){return 3}},{key:"setFrame",value:function(e,t,a,i){e*=3,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i}}]),CurveTimeline2}();e.CurveTimeline2=l;var h=function(e){_inherits(RotateTimeline,o);var a=_createSuper(RotateTimeline);function RotateTimeline(e,t,i){var n;return _classCallCheck(this,RotateTimeline),(n=a.call(this,e,t,r.rotate+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(RotateTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.bones[this.boneIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.rotation=l.data.rotation);case t.first:l.rotation+=(l.data.rotation-l.rotation)*n}else{var h=this.getCurveValue(i);switch(s){case t.setup:l.rotation=l.data.rotation+h*n;break;case t.first:case t.replace:h+=l.data.rotation-l.rotation;case t.add:l.rotation+=h*n}}}}]),RotateTimeline}();e.RotateTimeline=h;var c=function(e){_inherits(TranslateTimeline,l);var a=_createSuper(TranslateTimeline);function TranslateTimeline(e,t,i){var n;return _classCallCheck(this,TranslateTimeline),(n=a.call(this,e,t,r.x+"|"+i,r.y+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(TranslateTimeline,[{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.bones[this.boneIndex];if(h.active){var c=this.frames;if(i<c[0])switch(o){case t.setup:return h.x=h.data.x,void(h.y=h.data.y);case t.first:h.x+=(h.data.x-h.x)*s,h.y+=(h.data.y-h.y)*s}else{var u=0,d=0,f=n.search(c,i,3),m=this.curves[f/3];switch(m){case 0:var v=c[f];u=c[f+1],d=c[f+2];var g=(i-v)/(c[f+3]-v);u+=(c[f+3+1]-u)*g,d+=(c[f+3+2]-d)*g;break;case 1:u=c[f+1],d=c[f+2];break;default:u=this.getBezierValue(i,f,1,m-2),d=this.getBezierValue(i,f,2,m+18-2)}switch(o){case t.setup:h.x=h.data.x+u*s,h.y=h.data.y+d*s;break;case t.first:case t.replace:h.x+=(h.data.x+u-h.x)*s,h.y+=(h.data.y+d-h.y)*s;break;case t.add:h.x+=u*s,h.y+=d*s}}}}}]),TranslateTimeline}();e.TranslateTimeline=c;var u=function(e){_inherits(TranslateXTimeline,o);var a=_createSuper(TranslateXTimeline);function TranslateXTimeline(e,t,i){var n;return _classCallCheck(this,TranslateXTimeline),(n=a.call(this,e,t,r.x+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(TranslateXTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.bones[this.boneIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.x=l.data.x);case t.first:l.x+=(l.data.x-l.x)*n}else{var h=this.getCurveValue(i);switch(s){case t.setup:l.x=l.data.x+h*n;break;case t.first:case t.replace:l.x+=(l.data.x+h-l.x)*n;break;case t.add:l.x+=h*n}}}}]),TranslateXTimeline}();e.TranslateXTimeline=u;var d=function(e){_inherits(TranslateYTimeline,o);var a=_createSuper(TranslateYTimeline);function TranslateYTimeline(e,t,i){var n;return _classCallCheck(this,TranslateYTimeline),(n=a.call(this,e,t,r.y+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(TranslateYTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.bones[this.boneIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.y=l.data.y);case t.first:l.y+=(l.data.y-l.y)*n}else{var h=this.getCurveValue(i);switch(s){case t.setup:l.y=l.data.y+h*n;break;case t.first:case t.replace:l.y+=(l.data.y+h-l.y)*n;break;case t.add:l.y+=h*n}}}}]),TranslateYTimeline}();e.TranslateYTimeline=d;var f=function(i){_inherits(ScaleTimeline,l);var s=_createSuper(ScaleTimeline);function ScaleTimeline(e,t,a){var i;return _classCallCheck(this,ScaleTimeline),(i=s.call(this,e,t,r.scaleX+"|"+a,r.scaleY+"|"+a)).boneIndex=0,i.boneIndex=a,i}return _createClass(ScaleTimeline,[{key:"apply",value:function(i,r,s,o,l,h,c){var u=i.bones[this.boneIndex];if(u.active){var d=this.frames;if(s<d[0])switch(h){case t.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case t.first:u.scaleX+=(u.data.scaleX-u.scaleX)*l,u.scaleY+=(u.data.scaleY-u.scaleY)*l}else{var f,m,v=n.search(d,s,3),g=this.curves[v/3];switch(g){case 0:var p=d[v];f=d[v+1],m=d[v+2];var y=(s-p)/(d[v+3]-p);f+=(d[v+3+1]-f)*y,m+=(d[v+3+2]-m)*y;break;case 1:f=d[v+1],m=d[v+2];break;default:f=this.getBezierValue(s,v,1,g-2),m=this.getBezierValue(s,v,2,g+18-2)}if(f*=u.data.scaleX,m*=u.data.scaleY,1==l)h==t.add?(u.scaleX+=f-u.data.scaleX,u.scaleY+=m-u.data.scaleY):(u.scaleX=f,u.scaleY=m);else{var k=0,x=0;if(c==a.mixOut)switch(h){case t.setup:k=u.data.scaleX,x=u.data.scaleY,u.scaleX=k+(Math.abs(f)*e.MathUtils.signum(k)-k)*l,u.scaleY=x+(Math.abs(m)*e.MathUtils.signum(x)-x)*l;break;case t.first:case t.replace:k=u.scaleX,x=u.scaleY,u.scaleX=k+(Math.abs(f)*e.MathUtils.signum(k)-k)*l,u.scaleY=x+(Math.abs(m)*e.MathUtils.signum(x)-x)*l;break;case t.add:k=u.scaleX,x=u.scaleY,u.scaleX=k+(Math.abs(f)*e.MathUtils.signum(k)-u.data.scaleX)*l,u.scaleY=x+(Math.abs(m)*e.MathUtils.signum(x)-u.data.scaleY)*l}else switch(h){case t.setup:k=Math.abs(u.data.scaleX)*e.MathUtils.signum(f),x=Math.abs(u.data.scaleY)*e.MathUtils.signum(m),u.scaleX=k+(f-k)*l,u.scaleY=x+(m-x)*l;break;case t.first:case t.replace:k=Math.abs(u.scaleX)*e.MathUtils.signum(f),x=Math.abs(u.scaleY)*e.MathUtils.signum(m),u.scaleX=k+(f-k)*l,u.scaleY=x+(m-x)*l;break;case t.add:k=e.MathUtils.signum(f),x=e.MathUtils.signum(m),u.scaleX=Math.abs(u.scaleX)*k+(f-Math.abs(u.data.scaleX)*k)*l,u.scaleY=Math.abs(u.scaleY)*x+(m-Math.abs(u.data.scaleY)*x)*l}}}}}}]),ScaleTimeline}();e.ScaleTimeline=f;var m=function(i){_inherits(ScaleXTimeline,o);var n=_createSuper(ScaleXTimeline);function ScaleXTimeline(e,t,a){var i;return _classCallCheck(this,ScaleXTimeline),(i=n.call(this,e,t,r.scaleX+"|"+a)).boneIndex=0,i.boneIndex=a,i}return _createClass(ScaleXTimeline,[{key:"apply",value:function(i,r,n,s,o,l,h){var c=i.bones[this.boneIndex];if(c.active)if(n<this.frames[0])switch(l){case t.setup:return void(c.scaleX=c.data.scaleX);case t.first:c.scaleX+=(c.data.scaleX-c.scaleX)*o}else{var u=this.getCurveValue(n)*c.data.scaleX;if(1==o)l==t.add?c.scaleX+=u-c.data.scaleX:c.scaleX=u;else{var d=0;if(h==a.mixOut)switch(l){case t.setup:d=c.data.scaleX,c.scaleX=d+(Math.abs(u)*e.MathUtils.signum(d)-d)*o;break;case t.first:case t.replace:d=c.scaleX,c.scaleX=d+(Math.abs(u)*e.MathUtils.signum(d)-d)*o;break;case t.add:d=c.scaleX,c.scaleX=d+(Math.abs(u)*e.MathUtils.signum(d)-c.data.scaleX)*o}else switch(l){case t.setup:d=Math.abs(c.data.scaleX)*e.MathUtils.signum(u),c.scaleX=d+(u-d)*o;break;case t.first:case t.replace:d=Math.abs(c.scaleX)*e.MathUtils.signum(u),c.scaleX=d+(u-d)*o;break;case t.add:d=e.MathUtils.signum(u),c.scaleX=Math.abs(c.scaleX)*d+(u-Math.abs(c.data.scaleX)*d)*o}}}}}]),ScaleXTimeline}();e.ScaleXTimeline=m;var v=function(i){_inherits(ScaleYTimeline,o);var n=_createSuper(ScaleYTimeline);function ScaleYTimeline(e,t,a){var i;return _classCallCheck(this,ScaleYTimeline),(i=n.call(this,e,t,r.scaleY+"|"+a)).boneIndex=0,i.boneIndex=a,i}return _createClass(ScaleYTimeline,[{key:"apply",value:function(i,r,n,s,o,l,h){var c=i.bones[this.boneIndex];if(c.active)if(n<this.frames[0])switch(l){case t.setup:return void(c.scaleY=c.data.scaleY);case t.first:c.scaleY+=(c.data.scaleY-c.scaleY)*o}else{var u=this.getCurveValue(n)*c.data.scaleY;if(1==o)l==t.add?c.scaleY+=u-c.data.scaleY:c.scaleY=u;else{var d=0;if(h==a.mixOut)switch(l){case t.setup:d=c.data.scaleY,c.scaleY=d+(Math.abs(u)*e.MathUtils.signum(d)-d)*o;break;case t.first:case t.replace:d=c.scaleY,c.scaleY=d+(Math.abs(u)*e.MathUtils.signum(d)-d)*o;break;case t.add:d=c.scaleY,c.scaleY=d+(Math.abs(u)*e.MathUtils.signum(d)-c.data.scaleY)*o}else switch(l){case t.setup:d=Math.abs(c.data.scaleY)*e.MathUtils.signum(u),c.scaleY=d+(u-d)*o;break;case t.first:case t.replace:d=Math.abs(c.scaleY)*e.MathUtils.signum(u),c.scaleY=d+(u-d)*o;break;case t.add:d=e.MathUtils.signum(u),c.scaleY=Math.abs(c.scaleY)*d+(u-Math.abs(c.data.scaleY)*d)*o}}}}}]),ScaleYTimeline}();e.ScaleYTimeline=v;var g=function(e){_inherits(ShearTimeline,l);var a=_createSuper(ShearTimeline);function ShearTimeline(e,t,i){var n;return _classCallCheck(this,ShearTimeline),(n=a.call(this,e,t,r.shearX+"|"+i,r.shearY+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(ShearTimeline,[{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.bones[this.boneIndex];if(h.active){var c=this.frames;if(i<c[0])switch(o){case t.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case t.first:h.shearX+=(h.data.shearX-h.shearX)*s,h.shearY+=(h.data.shearY-h.shearY)*s}else{var u=0,d=0,f=n.search(c,i,3),m=this.curves[f/3];switch(m){case 0:var v=c[f];u=c[f+1],d=c[f+2];var g=(i-v)/(c[f+3]-v);u+=(c[f+3+1]-u)*g,d+=(c[f+3+2]-d)*g;break;case 1:u=c[f+1],d=c[f+2];break;default:u=this.getBezierValue(i,f,1,m-2),d=this.getBezierValue(i,f,2,m+18-2)}switch(o){case t.setup:h.shearX=h.data.shearX+u*s,h.shearY=h.data.shearY+d*s;break;case t.first:case t.replace:h.shearX+=(h.data.shearX+u-h.shearX)*s,h.shearY+=(h.data.shearY+d-h.shearY)*s;break;case t.add:h.shearX+=u*s,h.shearY+=d*s}}}}}]),ShearTimeline}();e.ShearTimeline=g;var p=function(e){_inherits(ShearXTimeline,o);var a=_createSuper(ShearXTimeline);function ShearXTimeline(e,t,i){var n;return _classCallCheck(this,ShearXTimeline),(n=a.call(this,e,t,r.shearX+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(ShearXTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.bones[this.boneIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.shearX=l.data.shearX);case t.first:l.shearX+=(l.data.shearX-l.shearX)*n}else{var h=this.getCurveValue(i);switch(s){case t.setup:l.shearX=l.data.shearX+h*n;break;case t.first:case t.replace:l.shearX+=(l.data.shearX+h-l.shearX)*n;break;case t.add:l.shearX+=h*n}}}}]),ShearXTimeline}();e.ShearXTimeline=p;var y=function(e){_inherits(ShearYTimeline,o);var a=_createSuper(ShearYTimeline);function ShearYTimeline(e,t,i){var n;return _classCallCheck(this,ShearYTimeline),(n=a.call(this,e,t,r.shearY+"|"+i)).boneIndex=0,n.boneIndex=i,n}return _createClass(ShearYTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.bones[this.boneIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.shearY=l.data.shearY);case t.first:l.shearY+=(l.data.shearY-l.shearY)*n}else{var h=this.getCurveValue(i);switch(s){case t.setup:l.shearY=l.data.shearY+h*n;break;case t.first:case t.replace:l.shearY+=(l.data.shearY+h-l.shearY)*n;break;case t.add:l.shearY+=h*n}}}}]),ShearYTimeline}();e.ShearYTimeline=y;var k=function(e){_inherits(RGBATimeline,s);var a=_createSuper(RGBATimeline);function RGBATimeline(e,t,i){var n;return _classCallCheck(this,RGBATimeline),(n=a.call(this,e,t,[r.rgb+"|"+i,r.alpha+"|"+i])).slotIndex=0,n.slotIndex=i,n}return _createClass(RGBATimeline,[{key:"getFrameEntries",value:function(){return 5}},{key:"setFrame",value:function(e,t,a,i,r,n){e*=5,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=n}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.slots[this.slotIndex];if(h.bone.active){var c=this.frames,u=h.color;if(i<c[0]){var d=h.data.color;switch(o){case t.setup:return void u.setFromColor(d);case t.first:u.add((d.r-u.r)*s,(d.g-u.g)*s,(d.b-u.b)*s,(d.a-u.a)*s)}}else{var f=0,m=0,v=0,g=0,p=n.search(c,i,5),y=this.curves[p/5];switch(y){case 0:var k=c[p];f=c[p+1],m=c[p+2],v=c[p+3],g=c[p+4];var x=(i-k)/(c[p+5]-k);f+=(c[p+5+1]-f)*x,m+=(c[p+5+2]-m)*x,v+=(c[p+5+3]-v)*x,g+=(c[p+5+4]-g)*x;break;case 1:f=c[p+1],m=c[p+2],v=c[p+3],g=c[p+4];break;default:f=this.getBezierValue(i,p,1,y-2),m=this.getBezierValue(i,p,2,y+18-2),v=this.getBezierValue(i,p,3,y+36-2),g=this.getBezierValue(i,p,4,y+54-2)}1==s?u.set(f,m,v,g):(o==t.setup&&u.setFromColor(h.data.color),u.add((f-u.r)*s,(m-u.g)*s,(v-u.b)*s,(g-u.a)*s))}}}}]),RGBATimeline}();e.RGBATimeline=k;var x=function(e){_inherits(RGBTimeline,s);var a=_createSuper(RGBTimeline);function RGBTimeline(e,t,i){var n;return _classCallCheck(this,RGBTimeline),(n=a.call(this,e,t,[r.rgb+"|"+i])).slotIndex=0,n.slotIndex=i,n}return _createClass(RGBTimeline,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,a,i,r){e<<=2,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i,this.frames[e+3]=r}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.slots[this.slotIndex];if(h.bone.active){var c=this.frames,u=h.color;if(i<c[0]){var d=h.data.color;switch(o){case t.setup:return u.r=d.r,u.g=d.g,void(u.b=d.b);case t.first:u.r+=(d.r-u.r)*s,u.g+=(d.g-u.g)*s,u.b+=(d.b-u.b)*s}}else{var f=0,m=0,v=0,g=n.search(c,i,4),p=this.curves[g>>2];switch(p){case 0:var y=c[g];f=c[g+1],m=c[g+2],v=c[g+3];var k=(i-y)/(c[g+4]-y);f+=(c[g+4+1]-f)*k,m+=(c[g+4+2]-m)*k,v+=(c[g+4+3]-v)*k;break;case 1:f=c[g+1],m=c[g+2],v=c[g+3];break;default:f=this.getBezierValue(i,g,1,p-2),m=this.getBezierValue(i,g,2,p+18-2),v=this.getBezierValue(i,g,3,p+36-2)}if(1==s)u.r=f,u.g=m,u.b=v;else{if(o==t.setup){var x=h.data.color;u.r=x.r,u.g=x.g,u.b=x.b}u.r+=(f-u.r)*s,u.g+=(m-u.g)*s,u.b+=(v-u.b)*s}}}}}]),RGBTimeline}();e.RGBTimeline=x;var C=function(e){_inherits(AlphaTimeline,o);var a=_createSuper(AlphaTimeline);function AlphaTimeline(e,t,i){var n;return _classCallCheck(this,AlphaTimeline),(n=a.call(this,e,t,r.alpha+"|"+i)).slotIndex=0,n.slotIndex=i,n}return _createClass(AlphaTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.slots[this.slotIndex];if(l.bone.active){var h=l.color;if(i<this.frames[0]){var c=l.data.color;switch(s){case t.setup:return void(h.a=c.a);case t.first:h.a+=(c.a-h.a)*n}}else{var u=this.getCurveValue(i);1==n?h.a=u:(s==t.setup&&(h.a=l.data.color.a),h.a+=(u-h.a)*n)}}}}]),AlphaTimeline}();e.AlphaTimeline=C;var b=function(e){_inherits(RGBA2Timeline,s);var a=_createSuper(RGBA2Timeline);function RGBA2Timeline(e,t,i){var n;return _classCallCheck(this,RGBA2Timeline),(n=a.call(this,e,t,[r.rgb+"|"+i,r.alpha+"|"+i,r.rgb2+"|"+i])).slotIndex=0,n.slotIndex=i,n}return _createClass(RGBA2Timeline,[{key:"getFrameEntries",value:function(){return 8}},{key:"setFrame",value:function(e,t,a,i,r,n,s,o,l){e<<=3,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=n,this.frames[e+5]=s,this.frames[e+6]=o,this.frames[e+7]=l}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.slots[this.slotIndex];if(h.bone.active){var c=this.frames,u=h.color,d=h.darkColor;if(i<c[0]){var f=h.data.color,m=h.data.darkColor;switch(o){case t.setup:return u.setFromColor(f),d.r=m.r,d.g=m.g,void(d.b=m.b);case t.first:u.add((f.r-u.r)*s,(f.g-u.g)*s,(f.b-u.b)*s,(f.a-u.a)*s),d.r+=(m.r-d.r)*s,d.g+=(m.g-d.g)*s,d.b+=(m.b-d.b)*s}}else{var v=0,g=0,p=0,y=0,k=0,x=0,C=0,b=n.search(c,i,8),w=this.curves[b>>3];switch(w){case 0:var T=c[b];v=c[b+1],g=c[b+2],p=c[b+3],y=c[b+4],k=c[b+5],x=c[b+6],C=c[b+7];var S=(i-T)/(c[b+8]-T);v+=(c[b+8+1]-v)*S,g+=(c[b+8+2]-g)*S,p+=(c[b+8+3]-p)*S,y+=(c[b+8+4]-y)*S,k+=(c[b+8+5]-k)*S,x+=(c[b+8+6]-x)*S,C+=(c[b+8+7]-C)*S;break;case 1:v=c[b+1],g=c[b+2],p=c[b+3],y=c[b+4],k=c[b+5],x=c[b+6],C=c[b+7];break;default:v=this.getBezierValue(i,b,1,w-2),g=this.getBezierValue(i,b,2,w+18-2),p=this.getBezierValue(i,b,3,w+36-2),y=this.getBezierValue(i,b,4,w+54-2),k=this.getBezierValue(i,b,5,w+72-2),x=this.getBezierValue(i,b,6,w+90-2),C=this.getBezierValue(i,b,7,w+108-2)}if(1==s)u.set(v,g,p,y),d.r=k,d.g=x,d.b=C;else{if(o==t.setup){u.setFromColor(h.data.color);var A=h.data.darkColor;d.r=A.r,d.g=A.g,d.b=A.b}u.add((v-u.r)*s,(g-u.g)*s,(p-u.b)*s,(y-u.a)*s),d.r+=(k-d.r)*s,d.g+=(x-d.g)*s,d.b+=(C-d.b)*s}}}}}]),RGBA2Timeline}();e.RGBA2Timeline=b;var w=function(e){_inherits(RGB2Timeline,s);var a=_createSuper(RGB2Timeline);function RGB2Timeline(e,t,i){var n;return _classCallCheck(this,RGB2Timeline),(n=a.call(this,e,t,[r.rgb+"|"+i,r.rgb2+"|"+i])).slotIndex=0,n.slotIndex=i,n}return _createClass(RGB2Timeline,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,a,i,r,n,s,o){e*=7,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=n,this.frames[e+5]=s,this.frames[e+6]=o}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.slots[this.slotIndex];if(h.bone.active){var c=this.frames,u=h.color,d=h.darkColor;if(i<c[0]){var f=h.data.color,m=h.data.darkColor;switch(o){case t.setup:return u.r=f.r,u.g=f.g,u.b=f.b,d.r=m.r,d.g=m.g,void(d.b=m.b);case t.first:u.r+=(f.r-u.r)*s,u.g+=(f.g-u.g)*s,u.b+=(f.b-u.b)*s,d.r+=(m.r-d.r)*s,d.g+=(m.g-d.g)*s,d.b+=(m.b-d.b)*s}}else{var v=0,g=0,p=0,y=0,k=0,x=0,C=n.search(c,i,7),b=this.curves[C/7];switch(b){case 0:var w=c[C];v=c[C+1],g=c[C+2],p=c[C+3],y=c[C+4],k=c[C+5],x=c[C+6];var T=(i-w)/(c[C+7]-w);v+=(c[C+7+1]-v)*T,g+=(c[C+7+2]-g)*T,p+=(c[C+7+3]-p)*T,y+=(c[C+7+4]-y)*T,k+=(c[C+7+5]-k)*T,x+=(c[C+7+6]-x)*T;break;case 1:v=c[C+1],g=c[C+2],p=c[C+3],y=c[C+4],k=c[C+5],x=c[C+6];break;default:v=this.getBezierValue(i,C,1,b-2),g=this.getBezierValue(i,C,2,b+18-2),p=this.getBezierValue(i,C,3,b+36-2),y=this.getBezierValue(i,C,4,b+54-2),k=this.getBezierValue(i,C,5,b+72-2),x=this.getBezierValue(i,C,6,b+90-2)}if(1==s)u.r=v,u.g=g,u.b=p,d.r=y,d.g=k,d.b=x;else{if(o==t.setup){var S=h.data.color,A=h.data.darkColor;u.r=S.r,u.g=S.g,u.b=S.b,d.r=A.r,d.g=A.g,d.b=A.b}u.r+=(v-u.r)*s,u.g+=(g-u.g)*s,u.b+=(p-u.b)*s,d.r+=(y-d.r)*s,d.g+=(k-d.g)*s,d.b+=(x-d.b)*s}}}}}]),RGB2Timeline}();e.RGB2Timeline=w;var T=function(e){_inherits(AttachmentTimeline,n);var i=_createSuper(AttachmentTimeline);function AttachmentTimeline(e,t){var a;return _classCallCheck(this,AttachmentTimeline),(a=i.call(this,e,[r.attachment+"|"+t])).slotIndex=0,a.slotIndex=t,a.attachmentNames=new Array(e),a}return _createClass(AttachmentTimeline,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,a){this.frames[e]=t,this.attachmentNames[e]=a}},{key:"apply",value:function(e,i,r,s,o,l,h){var c=e.slots[this.slotIndex];c.bone.active&&(h!=a.mixOut?r<this.frames[0]?l!=t.setup&&l!=t.first||this.setAttachment(e,c,c.data.attachmentName):this.setAttachment(e,c,this.attachmentNames[n.search1(this.frames,r)]):l==t.setup&&this.setAttachment(e,c,c.data.attachmentName))}},{key:"setAttachment",value:function(e,t,a){t.setAttachment(a?e.getAttachment(this.slotIndex,a):null)}}]),AttachmentTimeline}();e.AttachmentTimeline=T;var S=function(a){_inherits(DeformTimeline,s);var i=_createSuper(DeformTimeline);function DeformTimeline(e,t,a,n){var s;return _classCallCheck(this,DeformTimeline),(s=i.call(this,e,t,[r.deform+"|"+a+"|"+n.id])).slotIndex=0,s.slotIndex=a,s.attachment=n,s.vertices=new Array(e),s}return _createClass(DeformTimeline,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,a){this.frames[e]=t,this.vertices[e]=a}},{key:"setBezier",value:function(e,t,a,i,r,n,s,o,l,h,c){var u=this.curves,d=this.getFrameCount()+18*e;0==a&&(u[t]=2+d);for(var f=.03*(i-2*n+o),m=.03*l-.06*s,v=.006*(3*(n-o)-i+h),g=.018*(s-l+.33333333),p=2*f+v,y=2*m+g,k=.3*(n-i)+f+.16666667*v,x=.3*s+m+.16666667*g,C=i+k,b=x,w=d+18;d<w;d+=2)u[d]=C,u[d+1]=b,k+=p,x+=y,p+=v,y+=g,C+=k,b+=x}},{key:"getCurvePercent",value:function(e,t){var a=this.curves,i=a[t];switch(i){case 0:var r=this.frames[t];return(e-r)/(this.frames[t+this.getFrameEntries()]-r);case 1:return 0}if(a[i-=2]>e){var n=this.frames[t];return a[i+1]*(e-n)/(a[i]-n)}var s=i+18;for(i+=2;i<s;i+=2)if(a[i]>=e){var o=a[i-2],l=a[i-1];return l+(e-o)/(a[i]-o)*(a[i+1]-l)}var h=a[s-2],c=a[s-1];return c+(1-c)*(e-h)/(this.frames[t+this.getFrameEntries()]-h)}},{key:"apply",value:function(a,i,r,s,o,l,h){var c=a.slots[this.slotIndex];if(c.bone.active){var u=c.getAttachment();if(u instanceof e.VertexAttachment&&u.deformAttachment==this.attachment){var d=c.deform;0==d.length&&(l=t.setup);var f=this.vertices,m=f[0].length,v=this.frames;if(r<v[0]){var g=u;switch(l){case t.setup:return void(d.length=0);case t.first:if(1==o)return void(d.length=0);if(d.length=m,g.bones){o=1-o;for(y=0;y<m;y++)d[y]*=o}else for(var p=g.vertices,y=0;y<m;y++)d[y]+=(p[y]-d[y])*o}}else if(d.length=m,r>=v[v.length-1]){var k=f[v.length-1];if(1==o)if(l==t.add){var x=u;if(x.bones)for(var C=0;C<m;C++)d[C]+=k[C];else for(var b=x.vertices,w=0;w<m;w++)d[w]+=k[w]-b[w]}else e.Utils.arrayCopy(k,0,d,0,m);else switch(l){case t.setup:var T=u;if(T.bones)for(var S=0;S<m;S++)d[S]=k[S]*o;else for(var A=T.vertices,M=0;M<m;M++){var I=A[M];d[M]=I+(k[M]-I)*o}break;case t.first:case t.replace:for(var Y=0;Y<m;Y++)d[Y]+=(k[Y]-d[Y])*o;break;case t.add:var B=u;if(B.bones)for(var _=0;_<m;_++)d[_]+=k[_]*o;else for(var X=B.vertices,V=0;V<m;V++)d[V]+=(k[V]-X[V])*o}}else{var F=n.search1(v,r),P=this.getCurvePercent(r,F),U=f[F],R=f[F+1];if(1==o)if(l==t.add){var D=u;if(D.bones)for(var E=0;E<m;E++){var L=U[E];d[E]+=L+(R[E]-L)*P}else for(var N=D.vertices,O=0;O<m;O++){var z=U[O];d[O]+=z+(R[O]-z)*P-N[O]}}else for(var W=0;W<m;W++){var q=U[W];d[W]=q+(R[W]-q)*P}else switch(l){case t.setup:var G=u;if(G.bones)for(var j=0;j<m;j++){var H=U[j];d[j]=(H+(R[j]-H)*P)*o}else for(var J=G.vertices,K=0;K<m;K++){var Q=U[K],$=J[K];d[K]=$+(Q+(R[K]-Q)*P-$)*o}break;case t.first:case t.replace:for(var Z=0;Z<m;Z++){var ee=U[Z];d[Z]+=(ee+(R[Z]-ee)*P-d[Z])*o}break;case t.add:var te=u;if(te.bones)for(var ae=0;ae<m;ae++){var ie=U[ae];d[ae]+=(ie+(R[ae]-ie)*P)*o}else for(var re=te.vertices,ne=0;ne<m;ne++){var se=U[ne];d[ne]+=(se+(R[ne]-se)*P-re[ne])*o}}}}}}}]),DeformTimeline}();e.DeformTimeline=S;var A=function(e){_inherits(EventTimeline,n);var t=_createSuper(EventTimeline);function EventTimeline(e){var a;return _classCallCheck(this,EventTimeline),(a=t.call(this,e,EventTimeline.propertyIds)).events=new Array(e),a}return _createClass(EventTimeline,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t){this.frames[e]=t.time,this.events[e]=t}},{key:"apply",value:function(e,t,a,i,r,s,o){if(i){var l=this.frames,h=this.frames.length;if(t>a)this.apply(e,t,Number.MAX_VALUE,i,r,s,o),t=-1;else if(t>=l[h-1])return;if(!(a<l[0])){var c=0;if(t<l[0])c=0;else for(var u=l[c=n.search1(l,t)+1];c>0&&l[c-1]==u;)c--;for(;c<h&&a>=l[c];c++)i.push(this.events[c])}}}}]),EventTimeline}();A.propertyIds=[""+r.event],e.EventTimeline=A;var M=function(i){_inherits(DrawOrderTimeline,n);var r=_createSuper(DrawOrderTimeline);function DrawOrderTimeline(e){var t;return _classCallCheck(this,DrawOrderTimeline),(t=r.call(this,e,DrawOrderTimeline.propertyIds)).drawOrders=new Array(e),t}return _createClass(DrawOrderTimeline,[{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(e,t,a){this.frames[e]=t,this.drawOrders[e]=a}},{key:"apply",value:function(i,r,s,o,l,h,c){if(c!=a.mixOut)if(s<this.frames[0])h!=t.setup&&h!=t.first||e.Utils.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length);else{var u=this.drawOrders[n.search1(this.frames,s)];if(u)for(var d=i.drawOrder,f=i.slots,m=0,v=u.length;m<v;m++)d[m]=f[u[m]];else e.Utils.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length)}else h==t.setup&&e.Utils.arrayCopy(i.slots,0,i.drawOrder,0,i.slots.length)}}]),DrawOrderTimeline}();M.propertyIds=[""+r.drawOrder],e.DrawOrderTimeline=M;var I=function(e){_inherits(IkConstraintTimeline,s);var i=_createSuper(IkConstraintTimeline);function IkConstraintTimeline(e,t,a){var n;return _classCallCheck(this,IkConstraintTimeline),(n=i.call(this,e,t,[r.ikConstraint+"|"+a])).ikConstraintIndex=a,n}return _createClass(IkConstraintTimeline,[{key:"getFrameEntries",value:function(){return 6}},{key:"setFrame",value:function(e,t,a,i,r,n,s){e*=6,this.frames[e]=t,this.frames[e+1]=a,this.frames[e+2]=i,this.frames[e+3]=r,this.frames[e+4]=n?1:0,this.frames[e+5]=s?1:0}},{key:"apply",value:function(e,i,r,s,o,l,h){var c=e.ikConstraints[this.ikConstraintIndex];if(c.active){var u=this.frames;if(r<u[0])switch(l){case t.setup:return c.mix=c.data.mix,c.softness=c.data.softness,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,void(c.stretch=c.data.stretch);case t.first:c.mix+=(c.data.mix-c.mix)*o,c.softness+=(c.data.softness-c.softness)*o,c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch}else{var d=0,f=0,m=n.search(u,r,6),v=this.curves[m/6];switch(v){case 0:var g=u[m];d=u[m+1],f=u[m+2];var p=(r-g)/(u[m+6]-g);d+=(u[m+6+1]-d)*p,f+=(u[m+6+2]-f)*p;break;case 1:d=u[m+1],f=u[m+2];break;default:d=this.getBezierValue(r,m,1,v-2),f=this.getBezierValue(r,m,2,v+18-2)}l==t.setup?(c.mix=c.data.mix+(d-c.data.mix)*o,c.softness=c.data.softness+(f-c.data.softness)*o,h==a.mixOut?(c.bendDirection=c.data.bendDirection,c.compress=c.data.compress,c.stretch=c.data.stretch):(c.bendDirection=u[m+3],c.compress=0!=u[m+4],c.stretch=0!=u[m+5])):(c.mix+=(d-c.mix)*o,c.softness+=(f-c.softness)*o,h==a.mixIn&&(c.bendDirection=u[m+3],c.compress=0!=u[m+4],c.stretch=0!=u[m+5]))}}}}]),IkConstraintTimeline}();e.IkConstraintTimeline=I;var Y=function(e){_inherits(TransformConstraintTimeline,s);var a=_createSuper(TransformConstraintTimeline);function TransformConstraintTimeline(e,t,i){var n;return _classCallCheck(this,TransformConstraintTimeline),(n=a.call(this,e,t,[r.transformConstraint+"|"+i])).transformConstraintIndex=i,n}return _createClass(TransformConstraintTimeline,[{key:"getFrameEntries",value:function(){return 7}},{key:"setFrame",value:function(e,t,a,i,r,n,s,o){var l=this.frames;l[e*=7]=t,l[e+1]=a,l[e+2]=i,l[e+3]=r,l[e+4]=n,l[e+5]=s,l[e+6]=o}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.transformConstraints[this.transformConstraintIndex];if(h.active){var c=this.frames;if(i<c[0]){var u=h.data;switch(o){case t.setup:return h.mixRotate=u.mixRotate,h.mixX=u.mixX,h.mixY=u.mixY,h.mixScaleX=u.mixScaleX,h.mixScaleY=u.mixScaleY,void(h.mixShearY=u.mixShearY);case t.first:h.mixRotate+=(u.mixRotate-h.mixRotate)*s,h.mixX+=(u.mixX-h.mixX)*s,h.mixY+=(u.mixY-h.mixY)*s,h.mixScaleX+=(u.mixScaleX-h.mixScaleX)*s,h.mixScaleY+=(u.mixScaleY-h.mixScaleY)*s,h.mixShearY+=(u.mixShearY-h.mixShearY)*s}}else{var d,f,m,v,g,p,y=n.search(c,i,7),k=this.curves[y/7];switch(k){case 0:var x=c[y];d=c[y+1],f=c[y+2],m=c[y+3],v=c[y+4],g=c[y+5],p=c[y+6];var C=(i-x)/(c[y+7]-x);d+=(c[y+7+1]-d)*C,f+=(c[y+7+2]-f)*C,m+=(c[y+7+3]-m)*C,v+=(c[y+7+4]-v)*C,g+=(c[y+7+5]-g)*C,p+=(c[y+7+6]-p)*C;break;case 1:d=c[y+1],f=c[y+2],m=c[y+3],v=c[y+4],g=c[y+5],p=c[y+6];break;default:d=this.getBezierValue(i,y,1,k-2),f=this.getBezierValue(i,y,2,k+18-2),m=this.getBezierValue(i,y,3,k+36-2),v=this.getBezierValue(i,y,4,k+54-2),g=this.getBezierValue(i,y,5,k+72-2),p=this.getBezierValue(i,y,6,k+90-2)}if(o==t.setup){var b=h.data;h.mixRotate=b.mixRotate+(d-b.mixRotate)*s,h.mixX=b.mixX+(f-b.mixX)*s,h.mixY=b.mixY+(m-b.mixY)*s,h.mixScaleX=b.mixScaleX+(v-b.mixScaleX)*s,h.mixScaleY=b.mixScaleY+(g-b.mixScaleY)*s,h.mixShearY=b.mixShearY+(p-b.mixShearY)*s}else h.mixRotate+=(d-h.mixRotate)*s,h.mixX+=(f-h.mixX)*s,h.mixY+=(m-h.mixY)*s,h.mixScaleX+=(v-h.mixScaleX)*s,h.mixScaleY+=(g-h.mixScaleY)*s,h.mixShearY+=(p-h.mixShearY)*s}}}}]),TransformConstraintTimeline}();e.TransformConstraintTimeline=Y;var B=function(e){_inherits(PathConstraintPositionTimeline,o);var a=_createSuper(PathConstraintPositionTimeline);function PathConstraintPositionTimeline(e,t,i){var n;return _classCallCheck(this,PathConstraintPositionTimeline),(n=a.call(this,e,t,r.pathConstraintPosition+"|"+i)).pathConstraintIndex=i,n}return _createClass(PathConstraintPositionTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.position=l.data.position);case t.first:l.position+=(l.data.position-l.position)*n}else{var h=this.getCurveValue(i);s==t.setup?l.position=l.data.position+(h-l.data.position)*n:l.position+=(h-l.position)*n}}}]),PathConstraintPositionTimeline}();e.PathConstraintPositionTimeline=B;var _=function(e){_inherits(PathConstraintSpacingTimeline,o);var a=_createSuper(PathConstraintSpacingTimeline);function PathConstraintSpacingTimeline(e,t,i){var n;return _classCallCheck(this,PathConstraintSpacingTimeline),(n=a.call(this,e,t,r.pathConstraintSpacing+"|"+i)).pathConstraintIndex=0,n.pathConstraintIndex=i,n}return _createClass(PathConstraintSpacingTimeline,[{key:"apply",value:function(e,a,i,r,n,s,o){var l=e.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<this.frames[0])switch(s){case t.setup:return void(l.spacing=l.data.spacing);case t.first:l.spacing+=(l.data.spacing-l.spacing)*n}else{var h=this.getCurveValue(i);s==t.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*n:l.spacing+=(h-l.spacing)*n}}}]),PathConstraintSpacingTimeline}();e.PathConstraintSpacingTimeline=_;var X=function(e){_inherits(PathConstraintMixTimeline,s);var a=_createSuper(PathConstraintMixTimeline);function PathConstraintMixTimeline(e,t,i){var n;return _classCallCheck(this,PathConstraintMixTimeline),(n=a.call(this,e,t,[r.pathConstraintMix+"|"+i])).pathConstraintIndex=0,n.pathConstraintIndex=i,n}return _createClass(PathConstraintMixTimeline,[{key:"getFrameEntries",value:function(){return 4}},{key:"setFrame",value:function(e,t,a,i,r){var n=this.frames;n[e<<=2]=t,n[e+1]=a,n[e+2]=i,n[e+3]=r}},{key:"apply",value:function(e,a,i,r,s,o,l){var h=e.pathConstraints[this.pathConstraintIndex];if(h.active){var c=this.frames;if(i<c[0])switch(o){case t.setup:return h.mixRotate=h.data.mixRotate,h.mixX=h.data.mixX,void(h.mixY=h.data.mixY);case t.first:h.mixRotate+=(h.data.mixRotate-h.mixRotate)*s,h.mixX+=(h.data.mixX-h.mixX)*s,h.mixY+=(h.data.mixY-h.mixY)*s}else{var u,d,f,m=n.search(c,i,4),v=this.curves[m>>2];switch(v){case 0:var g=c[m];u=c[m+1],d=c[m+2],f=c[m+3];var p=(i-g)/(c[m+4]-g);u+=(c[m+4+1]-u)*p,d+=(c[m+4+2]-d)*p,f+=(c[m+4+3]-f)*p;break;case 1:u=c[m+1],d=c[m+2],f=c[m+3];break;default:u=this.getBezierValue(i,m,1,v-2),d=this.getBezierValue(i,m,2,v+18-2),f=this.getBezierValue(i,m,3,v+36-2)}if(o==t.setup){var y=h.data;h.mixRotate=y.mixRotate+(u-y.mixRotate)*s,h.mixX=y.mixX+(d-y.mixX)*s,h.mixY=y.mixY+(f-y.mixY)*s}else h.mixRotate+=(u-h.mixRotate)*s,h.mixX+=(d-h.mixX)*s,h.mixY+=(f-h.mixY)*s}}}}]),PathConstraintMixTimeline}();e.PathConstraintMixTimeline=X}(spine||(spine={})),function(e){var t=function(){function AnimationState(t){_classCallCheck(this,AnimationState),this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new e.StringSet,this.animationsChanged=!1,this.trackEntryPool=new e.Pool(function(){return new a}),this.data=t}return _createClass(AnimationState,[{key:"update",value:function(e){e*=this.timeScale;for(var t=this.tracks,a=0,i=t.length;a<i;a++){var r=t[a];if(r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var n=e*r.timeScale;if(r.delay>0){if(r.delay-=n,r.delay>0)continue;n=-r.delay,r.delay=0}var s=r.next;if(s){var o=r.trackLast-s.delay;if(o>=0){for(s.delay=0,s.trackTime+=0==r.timeScale?0:(o/r.timeScale+e)*s.timeScale,r.trackTime+=n,this.setCurrent(a,s,!0);s.mixingFrom;)s.mixTime+=e,s=s.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&!r.mixingFrom){t[a]=null,this.queue.end(r),this.clearNext(r);continue}if(r.mixingFrom&&this.updateMixingFrom(r,e)){var l=r.mixingFrom;for(r.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}r.trackTime+=n}}this.queue.drain()}},{key:"updateMixingFrom",value:function(e,t){var a=e.mixingFrom;if(!a)return!0;var i=this.updateMixingFrom(a,t);return a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?(0!=a.totalAlpha&&0!=e.mixDuration||(e.mixingFrom=a.mixingFrom,a.mixingFrom&&(a.mixingFrom.mixingTo=e),e.interruptAlpha=a.interruptAlpha,this.queue.end(a)),i):(a.trackTime+=t*a.timeScale,e.mixTime+=t,!1)}},{key:"apply",value:function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var a=this.events,i=this.tracks,r=!1,n=0,o=i.length;n<o;n++){var l=i[n];if(l&&!(l.delay>0)){r=!0;var h=0==n?e.MixBlend.first:l.mixBlend,c=l.alpha;l.mixingFrom?c*=this.applyMixingFrom(l,t,h):l.trackTime>=l.trackEnd&&!l.next&&(c=0);var d=l.animationLast,f=l.getAnimationTime(),m=f,v=a;l.reverse&&(m=l.animation.duration-m,v=null);var g=l.animation.timelines,p=g.length;if(0==n&&1==c||h==e.MixBlend.add)for(var y=0;y<p;y++){e.Utils.webkit602BugfixHelper(c,h);var k=g[y];k instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(k,t,m,h,!0):k.apply(t,d,m,v,c,h,e.MixDirection.mixIn)}else{var x=l.timelineMode,C=l.timelinesRotation.length!=p<<1;C&&(l.timelinesRotation.length=p<<1);for(var b=0;b<p;b++){var w=g[b],T=x[b]==s?h:e.MixBlend.setup;w instanceof e.RotateTimeline?this.applyRotateTimeline(w,t,m,c,T,l.timelinesRotation,b<<1,C):w instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(w,t,m,h,!0):(e.Utils.webkit602BugfixHelper(c,h),w.apply(t,d,m,v,c,T,e.MixDirection.mixIn))}}this.queueEvents(l,f),a.length=0,l.nextAnimationLast=f,l.nextTrackLast=l.trackTime}}for(var S=this.unkeyedState+u,A=t.slots,M=0,I=t.slots.length;M<I;M++){var Y=A[M];if(Y.attachmentState==S){var B=Y.data.attachmentName;Y.setAttachment(B?t.getAttachment(Y.data.index,B):null)}}return this.unkeyedState+=2,this.queue.drain(),r}},{key:"applyMixingFrom",value:function(t,a,i){var r=t.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,a,i);var n=0;0==t.mixDuration?(n=1,i==e.MixBlend.first&&(i=e.MixBlend.setup)):((n=t.mixTime/t.mixDuration)>1&&(n=1),i!=e.MixBlend.first&&(i=r.mixBlend));var c=n<r.attachmentThreshold,u=n<r.drawOrderThreshold,d=r.animation.timelines,f=d.length,m=r.alpha*t.interruptAlpha,v=m*(1-n),g=r.animationLast,p=r.getAnimationTime(),y=p,k=null;if(r.reverse?y=r.animation.duration-y:n<r.eventThreshold&&(k=this.events),i==e.MixBlend.add)for(var x=0;x<f;x++)d[x].apply(a,g,y,k,v,i,e.MixDirection.mixOut);else{var C=r.timelineMode,b=r.timelineHoldMix,w=r.timelinesRotation.length!=f<<1;w&&(r.timelinesRotation.length=f<<1),r.totalAlpha=0;for(var T=0;T<f;T++){var S=d[T],A=e.MixDirection.mixOut,M=void 0,I=0;switch(C[T]){case s:if(!u&&S instanceof e.DrawOrderTimeline)continue;M=i,I=v;break;case o:M=e.MixBlend.setup,I=v;break;case l:M=i,I=m;break;case h:M=e.MixBlend.setup,I=m;break;default:M=e.MixBlend.setup;var Y=b[T];I=m*Math.max(0,1-Y.mixTime/Y.mixDuration)}r.totalAlpha+=I,S instanceof e.RotateTimeline?this.applyRotateTimeline(S,a,y,I,M,r.timelinesRotation,T<<1,w):S instanceof e.AttachmentTimeline?this.applyAttachmentTimeline(S,a,y,M,c):(e.Utils.webkit602BugfixHelper(I,i),u&&S instanceof e.DrawOrderTimeline&&M==e.MixBlend.setup&&(A=e.MixDirection.mixIn),S.apply(a,g,y,k,I,M,A))}}return t.mixDuration>0&&this.queueEvents(r,p),this.events.length=0,r.nextAnimationLast=p,r.nextTrackLast=r.trackTime,n}},{key:"applyAttachmentTimeline",value:function(t,a,i,r,n){var s=a.slots[t.slotIndex];s.bone.active&&(i<t.frames[0]?r!=e.MixBlend.setup&&r!=e.MixBlend.first||this.setAttachment(a,s,s.data.attachmentName,n):this.setAttachment(a,s,t.attachmentNames[e.Timeline.search1(t.frames,i)],n),s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+u))}},{key:"setAttachment",value:function(e,t,a,i){t.setAttachment(a?e.getAttachment(t.data.index,a):null),i&&(t.attachmentState=this.unkeyedState+d)}},{key:"applyRotateTimeline",value:function(t,a,i,r,n,s,o,l){if(l&&(s[o]=0),1!=r){var h=a.bones[t.boneIndex];if(h.active){var c=0,u=0;if(i<t.frames[0])switch(n){case e.MixBlend.setup:h.rotation=h.data.rotation;default:return;case e.MixBlend.first:c=h.rotation,u=h.data.rotation}else c=n==e.MixBlend.setup?h.data.rotation:h.rotation,u=h.data.rotation+t.getCurveValue(i);var d=0,f=u-c;if(0==(f-=360*(16384-(16384.499999999996-f/360|0))))d=s[o];else{var m=0,v=0;l?(m=0,v=f):(m=s[o],v=s[o+1]);var g=f>0,p=m>=0;e.MathUtils.signum(v)!=e.MathUtils.signum(f)&&Math.abs(v)<=90&&(Math.abs(m)>180&&(m+=360*e.MathUtils.signum(m)),p=g),d=f+m-m%360,p!=g&&(d+=360*e.MathUtils.signum(m)),s[o]=d}s[o+1]=f,h.rotation=c+d*r}}else t.apply(a,0,i,null,1,n,e.MixDirection.mixIn)}},{key:"queueEvents",value:function(e,t){for(var a=e.animationStart,i=e.animationEnd,r=i-a,n=e.trackLast%r,s=this.events,o=0,l=s.length;o<l;o++){var h=s[o];if(h.time<n)break;h.time>i||this.queue.event(e,h)}for((e.loop?0==r||n>e.trackTime%r:t>=i&&e.animationLast<i)&&this.queue.complete(e);o<l;o++){var c=s[o];c.time<a||this.queue.event(e,c)}}},{key:"clearTracks",value:function(){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var t=0,a=this.tracks.length;t<a;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}},{key:"clearTrack",value:function(e){if(!(e>=this.tracks.length)){var t=this.tracks[e];if(t){this.queue.end(t),this.clearNext(t);for(var a=t;;){var i=a.mixingFrom;if(!i)break;this.queue.end(i),a.mixingFrom=null,a.mixingTo=null,a=i}this.tracks[t.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(e,t,a){var i=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,i&&(a&&this.queue.interrupt(i),t.mixingFrom=i,i.mixingTo=t,t.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(t.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(t)}},{key:"setAnimation",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,i,a)}},{key:"setAnimationWith",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(e);r&&(-1==r.nextTrackLast?(this.tracks[e]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.clearNext(r),r=r.mixingFrom,i=!1):this.clearNext(r));var n=this.trackEntry(e,t,a,r);return this.setCurrent(e,n,i),this.queue.drain(),n}},{key:"addAnimation",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=this.data.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,r,a,i)}},{key:"addAnimationWith",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t)throw new Error("animation cannot be null.");var r=this.expandToIndex(e);if(r)for(;r.next;)r=r.next;var n=this.trackEntry(e,t,a,r);return r?(r.next=n,n.previous=r,i<=0&&(i+=r.getTrackComplete()-n.mixDuration)):(this.setCurrent(e,n,!0),this.queue.drain()),n.delay=i,n}},{key:"setEmptyAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this.setAnimationWith(e,AnimationState.emptyAnimation(),!1);return a.mixDuration=t,a.trackEnd=t,a}},{key:"addEmptyAnimation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.addAnimationWith(e,AnimationState.emptyAnimation(),!1,a<=0?1:a);return i.mixDuration=t,i.trackEnd=t,a<=0&&i.previous&&(i.delay=i.previous.getTrackComplete()-i.mixDuration+a),i}},{key:"setEmptyAnimations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var a=0,i=this.tracks.length;a<i;a++){var r=this.tracks[a];r&&this.setEmptyAnimation(r.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(e.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,a,i,r){var n=this.trackEntryPool.obtain();return n.trackIndex=t,n.animation=a,n.loop=i,n.holdPrevious=!1,n.eventThreshold=0,n.attachmentThreshold=0,n.drawOrderThreshold=0,n.animationStart=0,n.animationEnd=a.duration,n.animationLast=-1,n.nextAnimationLast=-1,n.delay=0,n.trackTime=0,n.trackLast=-1,n.nextTrackLast=-1,n.trackEnd=Number.MAX_VALUE,n.timeScale=1,n.alpha=1,n.interruptAlpha=1,n.mixTime=0,n.mixDuration=r?this.data.getMix(r.animation,a):0,n.mixBlend=e.MixBlend.replace,n}},{key:"clearNext",value:function(e){for(var t=e.next;t;)this.queue.dispose(t),t=t.next;e.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,a=0,i=t.length;a<i;a++){var r=t[a];if(r){for(;r.mixingFrom;)r=r.mixingFrom;do{r.mixingTo&&r.mixBlend==e.MixBlend.add||this.computeHold(r),r=r.mixingTo}while(r)}}}},{key:"computeHold",value:function(t){var a=t.mixingTo,i=t.animation.timelines,r=t.animation.timelines.length,n=t.timelineMode;n.length=r;var u=t.timelineHoldMix;u.length=0;var d=this.propertyIDs;if(a&&a.holdPrevious)for(var f=0;f<r;f++)n[f]=d.addAll(i[f].getPropertyIds())?h:l;else e:for(var m=0;m<r;m++){var v=i[m],g=v.getPropertyIds();if(d.addAll(g))if(!a||v instanceof e.AttachmentTimeline||v instanceof e.DrawOrderTimeline||v instanceof e.EventTimeline||!a.animation.hasTimeline(g))n[m]=o;else{for(var p=a.mixingTo;p;p=p.mixingTo)if(!p.animation.hasTimeline(g)){if(t.mixDuration>0){n[m]=c,u[m]=p;continue e}break}n[m]=h}else n[m]=s}}},{key:"getCurrent",value:function(e){return e>=this.tracks.length?null:this.tracks[e]}},{key:"addListener",value:function(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}}],[{key:"emptyAnimation",value:function(){return f||(f=new e.Animation("<empty>",[],0)),f}}]),AnimationState}();e.AnimationState=t;var a=function(){function TrackEntry(){_classCallCheck(this,TrackEntry),this.mixBlend=e.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return _createClass(TrackEntry,[{key:"reset",value:function(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var e=this.animationEnd-this.animationStart;return 0==e?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(e){this.animationLast=e,this.nextAnimationLast=e}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var e=this.animationEnd-this.animationStart;if(0!=e){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}}]),TrackEntry}();e.TrackEntry=a;var i,r=function(){function EventQueue(e){_classCallCheck(this,EventQueue),this.objects=[],this.drainDisabled=!1,this.animState=e}return _createClass(EventQueue,[{key:"start",value:function(e){this.objects.push(i.start),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(e){this.objects.push(i.interrupt),this.objects.push(e)}},{key:"end",value:function(e){this.objects.push(i.end),this.objects.push(e),this.animState.animationsChanged=!0}},{key:"dispose",value:function(e){this.objects.push(i.dispose),this.objects.push(e)}},{key:"complete",value:function(e){this.objects.push(i.complete),this.objects.push(e)}},{key:"event",value:function(e,t){this.objects.push(i.event),this.objects.push(e),this.objects.push(t)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,t=this.animState.listeners,a=0;a<e.length;a+=2){var r=e[a],n=e[a+1];switch(r){case i.start:n.listener&&n.listener.start&&n.listener.start(n);for(var s=0;s<t.length;s++)t[s].start&&t[s].start(n);break;case i.interrupt:n.listener&&n.listener.interrupt&&n.listener.interrupt(n);for(var o=0;o<t.length;o++)t[o].interrupt&&t[o].interrupt(n);break;case i.end:n.listener&&n.listener.end&&n.listener.end(n);for(var l=0;l<t.length;l++)t[l].end&&t[l].end(n);case i.dispose:n.listener&&n.listener.dispose&&n.listener.dispose(n);for(var h=0;h<t.length;h++)t[h].dispose&&t[h].dispose(n);this.animState.trackEntryPool.free(n);break;case i.complete:n.listener&&n.listener.complete&&n.listener.complete(n);for(var c=0;c<t.length;c++)t[c].complete&&t[c].complete(n);break;case i.event:var u=e[2+a++];n.listener&&n.listener.event&&n.listener.event(n,u);for(var d=0;d<t.length;d++)t[d].event&&t[d].event(n,u)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),EventQueue}();e.EventQueue=r,function(e){e[e.start=0]="start",e[e.interrupt=1]="interrupt",e[e.end=2]="end",e[e.dispose=3]="dispose",e[e.complete=4]="complete",e[e.event=5]="event"}(i=e.EventType||(e.EventType={}));var n=function(){function AnimationStateAdapter(){_classCallCheck(this,AnimationStateAdapter)}return _createClass(AnimationStateAdapter,[{key:"start",value:function(e){}},{key:"interrupt",value:function(e){}},{key:"end",value:function(e){}},{key:"dispose",value:function(e){}},{key:"complete",value:function(e){}},{key:"event",value:function(e,t){}}]),AnimationStateAdapter}();e.AnimationStateAdapter=n;var s=0,o=1,l=2,h=3,c=4,u=1,d=2,f=null}(spine||(spine={})),function(e){var t=function(){function AnimationStateData(e){if(_classCallCheck(this,AnimationStateData),this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return _createClass(AnimationStateData,[{key:"setMix",value:function(e,t,a){var i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);var r=this.skeletonData.findAnimation(t);if(!r)throw new Error("Animation not found: "+t);this.setMixWith(i,r,a)}},{key:"setMixWith",value:function(e,t,a){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");var i=e.name+"."+t.name;this.animationToMixTime[i]=a}},{key:"getMix",value:function(e,t){var a=e.name+"."+t.name,i=this.animationToMixTime[a];return void 0===i?this.defaultMix:i}}]),AnimationStateData}();e.AnimationStateData=t}(spine||(spine={})),function(e){var t=function(){function AssetManager(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,AssetManager),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=e,this.pathPrefix=t,this.downloader=i||new a}return _createClass(AssetManager,[{key:"start",value:function(e){return this.toLoad++,this.pathPrefix+e}},{key:"success",value:function(e,t,a){this.toLoad--,this.loaded++,this.assets[t]=a,e&&e(t,a)}},{key:"error",value:function(e,t,a){this.toLoad--,this.loaded++,this.errors[t]=a,e&&e(t,a)}},{key:"setRawDataURI",value:function(e,t){this.downloader.rawDataUris[this.pathPrefix+e]=t}},{key:"loadBinary",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=this.start(e),this.downloader.downloadBinary(e,function(i){t.success(a,e,i)},function(a,r){t.error(i,e,"Couldn't load binary ".concat(e,": status ").concat(a,", ").concat(r))})}},{key:"loadText",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=this.start(e),this.downloader.downloadText(e,function(i){t.success(a,e,i)},function(a,r){t.error(i,e,"Couldn't load text ".concat(e,": status ").concat(a,", ").concat(r))})}},{key:"loadJson",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=this.start(e),this.downloader.downloadJson(e,function(i){t.success(a,e,i)},function(a,r){t.error(i,e,"Couldn't load JSON ".concat(e,": status ").concat(a,", ").concat(r))})}},{key:"loadTexture",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e;e=this.start(e);var n=Laya.Laya?Laya.Laya:Laya;n.loader.load([{type:n.Loader.IMAGE,url:e}],n.Handler.create(this,function(s){if(s){var o=t.textureLoader(n.loader.getRes(e),r);t.success(a,e,o)}else t.error(i,e,"Couldn't load image: ".concat(e))}))}},{key:"loadTextureAtlas",value:function(t){var a=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t.lastIndexOf("/"),s=n>=0?t.substring(0,n+1):"";t=this.start(t),this.downloader.downloadText(t,function(n){try{!function(){var o,l=new e.TextureAtlas(n),h=l.pages.length,c=!1,u=_createForOfIteratorHelper(l.pages);try{var d=function(){var e=o.value;a.loadTexture(s+e.name,function(r,n){c||(e.setTexture(n),0==--h&&a.success(i,t,l))},function(e,i){c||a.error(r,t,"Couldn't load texture atlas ".concat(t," page image: ").concat(e)),c=!0})};for(u.s();!(o=u.n()).done;)d()}catch(e){u.e(e)}finally{u.f()}}()}catch(e){a.error(r,t,"Couldn't parse texture atlas ".concat(t,": ").concat(e.message))}},function(e,i){a.error(r,t,"Couldn't load texture atlas ".concat(t,": status ").concat(e,", ").concat(i))})}},{key:"get",value:function(e){return this.assets[this.pathPrefix+e]}},{key:"require",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];if(t)return t;var a=this.errors[e];throw Error("Asset not found: "+e+(a?"\n"+a:""))}},{key:"remove",value:function(e){e=this.pathPrefix+e;var t=this.assets[e];return t.dispose&&t.dispose(),delete this.assets[e],t}},{key:"removeAll",value:function(){for(var e in this.assets){var t=this.assets[e];t.dispose&&t.dispose()}this.assets={}}},{key:"isLoadingComplete",value:function(){return 0==this.toLoad}},{key:"getToLoad",value:function(){return this.toLoad}},{key:"getLoaded",value:function(){return this.loaded}},{key:"dispose",value:function(){this.removeAll()}},{key:"hasErrors",value:function(){return Object.keys(this.errors).length>0}},{key:"getErrors",value:function(){return this.errors}}]),AssetManager}();e.AssetManager=t;var a=function(){function Downloader(){_classCallCheck(this,Downloader),this.callbacks={},this.rawDataUris={}}return _createClass(Downloader,[{key:"downloadText",value:function(e,t,a){var i=this;if(this.rawDataUris[e]&&(e=this.rawDataUris[e]),!this.start(e,t,a)){var r=Laya.Laya?Laya.Laya:Laya;r.loader.load([{type:r.Loader.TEXT,url:e}],r.Handler.create(this,function(t){t?i.finish(e,200,r.loader.getRes(e)):i.finish(e,400,"download text error: ",e)}))}}},{key:"downloadJson",value:function(e,t,a){this.downloadText(e,function(e){t(JSON.parse(e))},a)}},{key:"downloadBinary",value:function(e,t,a){var i=this;if(this.rawDataUris[e]&&(e=this.rawDataUris[e]),!this.start(e,t,a)){var r=Laya.Laya?Laya.Laya:Laya;r.loader.load([{type:r.Loader.BUFFER,url:e}],r.Handler.create(this,function(t){t?i.finish(e,200,new Uint8Array(r.loader.getRes(e))):i.finish(e,400,"Couldn't load binary ".concat(e))}))}}},{key:"start",value:function(e,t,a){var i=this.callbacks[e];try{if(i)return!0;this.callbacks[e]=i=[]}finally{i.push(t,a)}}},{key:"finish",value:function(e,t,a){var i=this.callbacks[e];delete this.callbacks[e];for(var r=200==t?[a]:[t,a],n=r.length-1,s=i.length;n<s;n+=2)i[n].apply(null,r)}}]),Downloader}();e.Downloader=a}(spine||(spine={})),function(e){var t=function(){function AtlasAttachmentLoader(e){_classCallCheck(this,AtlasAttachmentLoader),this.atlas=e}return _createClass(AtlasAttachmentLoader,[{key:"newRegionAttachment",value:function(t,a,i){var r=this.atlas.findRegion(i);if(!r)throw new Error("Region not found in atlas: "+i+" (region attachment: "+a+")");r.renderObject=r;var n=new e.RegionAttachment(a);return n.setRegion(r),n}},{key:"newMeshAttachment",value:function(t,a,i){var r=this.atlas.findRegion(i);if(!r)throw new Error("Region not found in atlas: "+i+" (mesh attachment: "+a+")");r.renderObject=r;var n=new e.MeshAttachment(a);return n.region=r,n}},{key:"newBoundingBoxAttachment",value:function(t,a){return new e.BoundingBoxAttachment(a)}},{key:"newPathAttachment",value:function(t,a){return new e.PathAttachment(a)}},{key:"newPointAttachment",value:function(t,a){return new e.PointAttachment(a)}},{key:"newClippingAttachment",value:function(t,a){return new e.ClippingAttachment(a)}}]),AtlasAttachmentLoader}();e.AtlasAttachmentLoader=t}(spine||(spine={})),function(e){var t=function(){function Bone(e,t,a){if(_classCallCheck(this,Bone),this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=a,this.setToSetupPose()}return _createClass(Bone,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,a,i,r,n,s,o){this.ax=t,this.ay=a,this.arotation=i,this.ascaleX=r,this.ascaleY=n,this.ashearX=s,this.ashearY=o;var l=this.parent;if(!l){var h=this.skeleton,c=i+90+o,u=h.scaleX,d=h.scaleY;return this.a=e.MathUtils.cosDeg(i+s)*r*u,this.b=e.MathUtils.cosDeg(c)*n*u,this.c=e.MathUtils.sinDeg(i+s)*r*d,this.d=e.MathUtils.sinDeg(c)*n*d,this.worldX=t*u+h.x,void(this.worldY=a*d+h.y)}var f=l.a,m=l.b,v=l.c,g=l.d;switch(this.worldX=f*t+m*a+l.worldX,this.worldY=v*t+g*a+l.worldY,this.data.transformMode){case e.TransformMode.Normal:var p=i+90+o,y=e.MathUtils.cosDeg(i+s)*r,k=e.MathUtils.cosDeg(p)*n,x=e.MathUtils.sinDeg(i+s)*r,C=e.MathUtils.sinDeg(p)*n;return this.a=f*y+m*x,this.b=f*k+m*C,this.c=v*y+g*x,void(this.d=v*k+g*C);case e.TransformMode.OnlyTranslation:var b=i+90+o;this.a=e.MathUtils.cosDeg(i+s)*r,this.b=e.MathUtils.cosDeg(b)*n,this.c=e.MathUtils.sinDeg(i+s)*r,this.d=e.MathUtils.sinDeg(b)*n;break;case e.TransformMode.NoRotationOrReflection:var w=f*f+v*v,T=0;w>1e-4?(w=Math.abs(f*g-m*v)/w,f/=this.skeleton.scaleX,m=(v/=this.skeleton.scaleY)*w,g=f*w,T=Math.atan2(v,f)*e.MathUtils.radDeg):(f=0,v=0,T=90-Math.atan2(g,m)*e.MathUtils.radDeg);var S=i+s-T,A=i+o-T+90,M=e.MathUtils.cosDeg(S)*r,I=e.MathUtils.cosDeg(A)*n,Y=e.MathUtils.sinDeg(S)*r,B=e.MathUtils.sinDeg(A)*n;this.a=f*M-m*Y,this.b=f*I-m*B,this.c=v*M+g*Y,this.d=v*I+g*B;break;case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:var _=e.MathUtils.cosDeg(i),X=e.MathUtils.sinDeg(i),V=(f*_+m*X)/this.skeleton.scaleX,F=(v*_+g*X)/this.skeleton.scaleY,P=Math.sqrt(V*V+F*F);P>1e-5&&(P=1/P),V*=P,F*=P,P=Math.sqrt(V*V+F*F),this.data.transformMode==e.TransformMode.NoScale&&f*g-m*v<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(P=-P);var U=Math.PI/2+Math.atan2(F,V),R=Math.cos(U)*P,D=Math.sin(U)*P,E=e.MathUtils.cosDeg(s)*r,L=e.MathUtils.cosDeg(90+o)*n,N=e.MathUtils.sinDeg(s)*r,O=e.MathUtils.sinDeg(90+o)*n;this.a=V*E+R*N,this.b=V*L+R*O,this.c=F*E+D*N,this.d=F*L+D*O}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}},{key:"setToSetupPose",value:function(){var e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.c,this.a)*e.MathUtils.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.d,this.b)*e.MathUtils.radDeg}},{key:"getWorldScaleX",value:function(){return Math.sqrt(this.a*this.a+this.c*this.c)}},{key:"getWorldScaleY",value:function(){return Math.sqrt(this.b*this.b+this.d*this.d)}},{key:"updateAppliedTransform",value:function(){var t=this.parent;if(!t)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*e.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*e.MathUtils.radDeg);var a=t.a,i=t.b,r=t.c,n=t.d,s=1/(a*n-i*r),o=this.worldX-t.worldX,l=this.worldY-t.worldY;this.ax=o*n*s-l*i*s,this.ay=l*a*s-o*r*s;var h=s*n,c=s*a,u=s*i,d=s*r,f=h*this.a-u*this.c,m=h*this.b-u*this.d,v=c*this.c-d*this.a,g=c*this.d-d*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(f*f+v*v),this.ascaleX>1e-4){var p=f*g-m*v;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(f*m+v*g,p)*e.MathUtils.radDeg,this.arotation=Math.atan2(v,f)*e.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(m*m+g*g),this.ashearY=0,this.arotation=90-Math.atan2(g,m)*e.MathUtils.radDeg}},{key:"worldToLocal",value:function(e){var t=1/(this.a*this.d-this.b*this.c),a=e.x-this.worldX,i=e.y-this.worldY;return e.x=a*this.d*t-i*this.b*t,e.y=i*this.a*t-a*this.c*t,e}},{key:"localToWorld",value:function(e){var t=e.x,a=e.y;return e.x=t*this.a+a*this.b+this.worldX,e.y=t*this.c+a*this.d+this.worldY,e}},{key:"worldToLocalRotation",value:function(t){var a=e.MathUtils.sinDeg(t),i=e.MathUtils.cosDeg(t);return Math.atan2(this.a*a-this.c*i,this.d*i-this.b*a)*e.MathUtils.radDeg+this.rotation-this.shearX}},{key:"localToWorldRotation",value:function(t){t-=this.rotation-this.shearX;var a=e.MathUtils.sinDeg(t),i=e.MathUtils.cosDeg(t);return Math.atan2(i*this.c+a*this.d,i*this.a+a*this.b)*e.MathUtils.radDeg}},{key:"rotateWorld",value:function(t){var a=this.a,i=this.b,r=this.c,n=this.d,s=e.MathUtils.cosDeg(t),o=e.MathUtils.sinDeg(t);this.a=s*a-o*r,this.b=s*i-o*n,this.c=o*a+s*r,this.d=o*i+s*n}}]),Bone}();e.Bone=t}(spine||(spine={})),function(e){var t,a=_createClass(function BoneData(a,i,r){if(_classCallCheck(this,BoneData),this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=t.Normal,this.skinRequired=!1,this.color=new e.Color,a<0)throw new Error("index must be >= 0.");if(!i)throw new Error("name cannot be null.");this.index=a,this.name=i,this.parent=r});e.BoneData=a,function(e){e[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(t=e.TransformMode||(e.TransformMode={}))}(spine||(spine={})),function(e){var t=_createClass(function ConstraintData(e,t,a){_classCallCheck(this,ConstraintData),this.name=e,this.order=t,this.skinRequired=a});e.ConstraintData=t}(spine||(spine={})),function(e){var t=_createClass(function Event(e,t){if(_classCallCheck(this,Event),!t)throw new Error("data cannot be null.");this.time=e,this.data=t});e.Event=t}(spine||(spine={})),function(e){var t=_createClass(function EventData(e){_classCallCheck(this,EventData),this.name=e});e.EventData=t}(spine||(spine={})),function(e){var t=function(){function IkConstraint(e,t){if(_classCallCheck(this,IkConstraint),this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var a=0;a<e.bones.length;a++)this.bones.push(t.findBone(e.bones[a].name));this.target=t.findBone(e.target.name)}return _createClass(IkConstraint,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!=this.mix){var e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}}},{key:"apply1",value:function(t,a,i,r,n,s,o){var l=t.parent,h=l.a,c=l.b,u=l.c,d=l.d,f=-t.ashearX-t.arotation,m=0,v=0;switch(t.data.transformMode){case e.TransformMode.OnlyTranslation:m=a-t.worldX,v=i-t.worldY;break;case e.TransformMode.NoRotationOrReflection:var g=Math.abs(h*d-c*u)/(h*h+u*u),p=h/t.skeleton.scaleX,y=u/t.skeleton.scaleY;c=-y*g*t.skeleton.scaleX,d=p*g*t.skeleton.scaleY,f+=Math.atan2(y,p)*e.MathUtils.radDeg;default:var k=a-l.worldX,x=i-l.worldY,C=h*d-c*u;m=(k*d-x*c)/C-t.ax,v=(x*h-k*u)/C-t.ay}f+=Math.atan2(v,m)*e.MathUtils.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var b=t.ascaleX,w=t.ascaleY;if(r||n){switch(t.data.transformMode){case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:m=a-t.worldX,v=i-t.worldY}var T=t.data.length*b,S=Math.sqrt(m*m+v*v);if(r&&S<T||n&&S>T&&T>1e-4){var A=(S/T-1)*o+1;b*=A,s&&(w*=A)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,b,w,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,a,i,r,n,s,o,l,h){var c=t.ax,u=t.ay,d=t.ascaleX,f=t.ascaleY,m=d,v=f,g=a.ascaleX,p=0,y=0,k=0;d<0?(d=-d,p=180,k=-1):(p=0,k=1),f<0&&(f=-f,k=-k),g<0?(g=-g,y=180):y=0;var x=a.ax,C=0,b=0,w=0,T=t.a,S=t.b,A=t.c,M=t.d,I=Math.abs(d-f)<=1e-4;!I||s?(C=0,b=T*x+t.worldX,w=A*x+t.worldY):(b=T*x+S*(C=a.ay)+t.worldX,w=A*x+M*C+t.worldY);var Y=t.parent;T=Y.a,S=Y.b,A=Y.c;var B,_,X=1/(T*(M=Y.d)-S*A),V=b-Y.worldX,F=w-Y.worldY,P=(V*M-F*S)*X-c,U=(F*T-V*A)*X-u,R=Math.sqrt(P*P+U*U),D=a.data.length*g;if(R<1e-4)return this.apply1(t,i,r,!1,s,!1,h),void a.updateWorldTransformWith(x,C,0,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY);var E=((V=i-Y.worldX)*M-(F=r-Y.worldY)*S)*X-c,L=(F*T-V*A)*X-u,N=E*E+L*L;if(0!=l){l*=d*(g+1)*.5;var O=Math.sqrt(N),z=O-R-D*d+l;if(z>0){var W=Math.min(1,z/(2*l))-1;N=(E-=(W=(z-l*(1-W*W))/O)*E)*E+(L-=W*L)*L}}e:if(I){var q=(N-R*R-(D*=d)*D)/(2*R*D);q<-1?(q=-1,_=Math.PI*n):q>1?(q=1,_=0,s&&(m*=T=(Math.sqrt(N)/(R+D)-1)*h+1,o&&(v*=T))):_=Math.acos(q)*n,T=R+D*q,S=D*Math.sin(_),B=Math.atan2(L*T-E*S,E*T+L*S)}else{var G=(T=d*D)*T,j=(S=f*D)*S,H=Math.atan2(L,E),J=-2*j*R,K=j-G;if((M=J*J-4*K*(A=j*R*R+G*N-G*j))>=0){var Q=Math.sqrt(M);J<0&&(Q=-Q);var $=(Q=.5*-(J+Q))/K,Z=A/Q,ee=Math.abs($)<Math.abs(Z)?$:Z;if(ee*ee<=N){F=Math.sqrt(N-ee*ee)*n,B=H-Math.atan2(F,ee),_=Math.atan2(F/f,(ee-R)/d);break e}}var te=e.MathUtils.PI,ae=R-T,ie=ae*ae,re=0,ne=0,se=R+T,oe=se*se,le=0;(A=-T*R/(G-j))>=-1&&A<=1&&(A=Math.acos(A),(M=(V=T*Math.cos(A)+R)*V+(F=S*Math.sin(A))*F)<ie&&(te=A,ie=M,ae=V,re=F),M>oe&&(ne=A,oe=M,se=V,le=F)),N<=.5*(ie+oe)?(B=H-Math.atan2(re*n,ae),_=te*n):(B=H-Math.atan2(le*n,se),_=ne*n)}var he=Math.atan2(C,x)*k,ce=t.arotation;(B=(B-he)*e.MathUtils.radDeg+p-ce)>180?B-=360:B<-180&&(B+=360),t.updateWorldTransformWith(c,u,ce+B*h,m,v,0,0),ce=a.arotation,(_=((_+he)*e.MathUtils.radDeg-a.ashearX)*k+y-ce)>180?_-=360:_<-180&&(_+=360),a.updateWorldTransformWith(x,C,ce+_*h,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY)}}]),IkConstraint}();e.IkConstraint=t}(spine||(spine={})),function(e){var t=function(t){_inherits(IkConstraintData,e.ConstraintData);var a=_createSuper(IkConstraintData);function IkConstraintData(e){var t;return _classCallCheck(this,IkConstraintData),(t=a.call(this,e,0,!1)).bones=new Array,t.bendDirection=1,t.compress=!1,t.stretch=!1,t.uniform=!1,t.mix=1,t.softness=0,t}return _createClass(IkConstraintData)}();e.IkConstraintData=t}(spine||(spine={})),function(e){var t=function(){function PathConstraint(e,t){if(_classCallCheck(this,PathConstraint),this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var a=0,i=e.bones.length;a<i;a++)this.bones.push(t.findBone(e.bones[a].name));this.target=t.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return _createClass(PathConstraint,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var t=this.target.getAttachment();if(t instanceof e.PathAttachment){var a=this.mixRotate,i=this.mixX,r=this.mixY;if(0!=a||0!=i||0!=r){var n=this.data,s=n.rotateMode==e.RotateMode.Tangent,o=n.rotateMode==e.RotateMode.ChainScale,l=this.bones,h=l.length,c=s?h:h+1,u=e.Utils.setArraySize(this.spaces,c),d=o?this.lengths=e.Utils.setArraySize(this.lengths,h):null,f=this.spacing;switch(n.spacingMode){case e.SpacingMode.Percent:if(o)for(var m=0,v=c-1;m<v;m++){var g=l[m],p=g.data.length;if(p<PathConstraint.epsilon)d[m]=0;else{var y=p*g.a,k=p*g.c;d[m]=Math.sqrt(y*y+k*k)}}e.Utils.arrayFill(u,1,c,f);break;case e.SpacingMode.Proportional:for(var x=0,C=0,b=c-1;C<b;){var w=l[C],T=w.data.length;if(T<PathConstraint.epsilon)o&&(d[C]=0),u[++C]=f;else{var S=T*w.a,A=T*w.c,M=Math.sqrt(S*S+A*A);o&&(d[C]=M),u[++C]=M,x+=M}}if(x>0){x=c/x*f;for(var I=1;I<c;I++)u[I]*=x}break;default:for(var Y=n.spacingMode==e.SpacingMode.Length,B=0,_=c-1;B<_;){var X=l[B],V=X.data.length;if(V<PathConstraint.epsilon)o&&(d[B]=0),u[++B]=f;else{var F=V*X.a,P=V*X.c,U=Math.sqrt(F*F+P*P);o&&(d[B]=U),u[++B]=(Y?V+f:f)*U/V}}}var R=this.computeWorldPositions(t,c,s),D=R[0],E=R[1],L=n.offsetRotation,N=!1;if(0==L)N=n.rotateMode==e.RotateMode.Chain;else{N=!1;var O=this.target.bone;L*=O.a*O.d-O.b*O.c>0?e.MathUtils.degRad:-e.MathUtils.degRad}for(var z=0,W=3;z<h;z++,W+=3){var q=l[z];q.worldX+=(D-q.worldX)*i,q.worldY+=(E-q.worldY)*r;var G=R[W],j=R[W+1],H=G-D,J=j-E;if(o){var K=d[z];if(0!=K){var Q=(Math.sqrt(H*H+J*J)/K-1)*a+1;q.a*=Q,q.c*=Q}}if(D=G,E=j,a>0){var $=q.a,Z=q.b,ee=q.c,te=q.d,ae=0,ie=0,re=0;if(ae=s?R[W-1]:0==u[z+1]?R[W+2]:Math.atan2(J,H),ae-=Math.atan2(ee,$),N){ie=Math.cos(ae),re=Math.sin(ae);var ne=q.data.length;D+=(ne*(ie*$-re*ee)-H)*a,E+=(ne*(re*$+ie*ee)-J)*a}else ae+=L;ae>e.MathUtils.PI?ae-=e.MathUtils.PI2:ae<-e.MathUtils.PI&&(ae+=e.MathUtils.PI2),ae*=a,ie=Math.cos(ae),re=Math.sin(ae),q.a=ie*$-re*ee,q.b=ie*Z-re*te,q.c=re*$+ie*ee,q.d=re*Z+ie*te}q.updateAppliedTransform()}}}}},{key:"computeWorldPositions",value:function(t,a,i){var r=this.target,n=this.position,s=this.spaces,o=e.Utils.setArraySize(this.positions,3*a+2),l=null,h=t.closed,c=t.worldVerticesLength,u=c/6,d=PathConstraint.NONE;if(!t.constantSpeed){var f,m=t.lengths,v=m[u-=h?1:2];switch(this.data.positionMode==e.PositionMode.Percent&&(n*=v),this.data.spacingMode){case e.SpacingMode.Percent:f=v;break;case e.SpacingMode.Proportional:f=v/a;break;default:f=1}l=e.Utils.setArraySize(this.world,8);for(var g=0,p=0,y=0;g<a;g++,p+=3){var k=s[g]*f,x=n+=k;if(h)(x%=v)<0&&(x+=v),y=0;else{if(x<0){d!=PathConstraint.BEFORE&&(d=PathConstraint.BEFORE,t.computeWorldVertices(r,2,4,l,0,2)),this.addBeforePosition(x,l,0,o,p);continue}if(x>v){d!=PathConstraint.AFTER&&(d=PathConstraint.AFTER,t.computeWorldVertices(r,c-6,4,l,0,2)),this.addAfterPosition(x-v,l,0,o,p);continue}}for(;;y++){var C=m[y];if(!(x>C)){if(0==y)x/=C;else{var b=m[y-1];x=(x-b)/(C-b)}break}}y!=d&&(d=y,h&&y==u?(t.computeWorldVertices(r,c-4,4,l,0,2),t.computeWorldVertices(r,0,4,l,4,2)):t.computeWorldVertices(r,6*y+2,8,l,0,2)),this.addCurvePosition(x,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],o,p,i||g>0&&0==k)}return o}h?(c+=2,l=e.Utils.setArraySize(this.world,c),t.computeWorldVertices(r,2,c-4,l,0,2),t.computeWorldVertices(r,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(u--,c-=4,l=e.Utils.setArraySize(this.world,c),t.computeWorldVertices(r,2,c,l,0,2));for(var w,T=e.Utils.setArraySize(this.curves,u),S=0,A=l[0],M=l[1],I=0,Y=0,B=0,_=0,X=0,V=0,F=0,P=0,U=0,R=0,D=0,E=0,L=0,N=0,O=0,z=2;O<u;O++,z+=6)I=l[z],Y=l[z+1],B=l[z+2],_=l[z+3],D=2*(F=.1875*(A-2*I+B))+(U=.09375*(3*(I-B)-A+(X=l[z+4]))),E=2*(P=.1875*(M-2*Y+_))+(R=.09375*(3*(Y-_)-M+(V=l[z+5]))),L=.75*(I-A)+F+.16666667*U,N=.75*(Y-M)+P+.16666667*R,S+=Math.sqrt(L*L+N*N),L+=D,N+=E,D+=U,E+=R,S+=Math.sqrt(L*L+N*N),L+=D,N+=E,S+=Math.sqrt(L*L+N*N),L+=D+U,N+=E+R,S+=Math.sqrt(L*L+N*N),T[O]=S,A=X,M=V;switch(this.data.positionMode==e.PositionMode.Percent&&(n*=S),this.data.spacingMode){case e.SpacingMode.Percent:w=S;break;case e.SpacingMode.Proportional:w=S/a;break;default:w=1}for(var W=this.segments,q=0,G=0,j=0,H=0,J=0;G<a;G++,j+=3){var K=s[G]*w,Q=n+=K;if(h)(Q%=S)<0&&(Q+=S),H=0;else{if(Q<0){this.addBeforePosition(Q,l,0,o,j);continue}if(Q>S){this.addAfterPosition(Q-S,l,c-4,o,j);continue}}for(;;H++){var $=T[H];if(!(Q>$)){if(0==H)Q/=$;else{var Z=T[H-1];Q=(Q-Z)/($-Z)}break}}if(H!=d){d=H;var ee=6*H;for(A=l[ee],M=l[ee+1],I=l[ee+2],Y=l[ee+3],B=l[ee+4],_=l[ee+5],D=2*(F=.03*(A-2*I+B))+(U=.006*(3*(I-B)-A+(X=l[ee+6]))),E=2*(P=.03*(M-2*Y+_))+(R=.006*(3*(Y-_)-M+(V=l[ee+7]))),L=.3*(I-A)+F+.16666667*U,N=.3*(Y-M)+P+.16666667*R,q=Math.sqrt(L*L+N*N),W[0]=q,ee=1;ee<8;ee++)L+=D,N+=E,D+=U,E+=R,q+=Math.sqrt(L*L+N*N),W[ee]=q;L+=D,N+=E,q+=Math.sqrt(L*L+N*N),W[8]=q,L+=D+U,N+=E+R,q+=Math.sqrt(L*L+N*N),W[9]=q,J=0}for(Q*=q;;J++){var te=W[J];if(!(Q>te)){if(0==J)Q/=te;else{var ae=W[J-1];Q=J+(Q-ae)/(te-ae)}break}}this.addCurvePosition(.1*Q,A,M,I,Y,B,_,X,V,o,j,i||G>0&&0==K)}return o}},{key:"addBeforePosition",value:function(e,t,a,i,r){var n=t[a],s=t[a+1],o=t[a+2]-n,l=t[a+3]-s,h=Math.atan2(l,o);i[r]=n+e*Math.cos(h),i[r+1]=s+e*Math.sin(h),i[r+2]=h}},{key:"addAfterPosition",value:function(e,t,a,i,r){var n=t[a+2],s=t[a+3],o=n-t[a],l=s-t[a+1],h=Math.atan2(l,o);i[r]=n+e*Math.cos(h),i[r+1]=s+e*Math.sin(h),i[r+2]=h}},{key:"addCurvePosition",value:function(e,t,a,i,r,n,s,o,l,h,c,u){if(0==e||isNaN(e))return h[c]=t,h[c+1]=a,void(h[c+2]=Math.atan2(r-a,i-t));var d=e*e,f=d*e,m=1-e,v=m*m,g=v*m,p=m*e,y=3*p,k=m*y,x=y*e,C=t*g+i*k+n*x+o*f,b=a*g+r*k+s*x+l*f;h[c]=C,h[c+1]=b,u&&(h[c+2]=e<.001?Math.atan2(r-a,i-t):Math.atan2(b-(a*v+r*p*2+s*d),C-(t*v+i*p*2+n*d)))}}]),PathConstraint}();t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,e.PathConstraint=t}(spine||(spine={})),function(e){var t=function(t){_inherits(PathConstraintData,e.ConstraintData);var a=_createSuper(PathConstraintData);function PathConstraintData(e){var t;return _classCallCheck(this,PathConstraintData),(t=a.call(this,e,0,!1)).bones=new Array,t.mixRotate=0,t.mixX=0,t.mixY=0,t}return _createClass(PathConstraintData)}();e.PathConstraintData=t,function(e){e[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent"}(e.PositionMode||(e.PositionMode={})),function(e){e[e.Length=0]="Length",e[e.Fixed=1]="Fixed",e[e.Percent=2]="Percent",e[e.Proportional=3]="Proportional"}(e.SpacingMode||(e.SpacingMode={})),function(e){e[e.Tangent=0]="Tangent",e[e.Chain=1]="Chain",e[e.ChainScale=2]="ChainScale"}(e.RotateMode||(e.RotateMode={}))}(spine||(spine={})),function(e){var t=function(){function Skeleton(t){if(_classCallCheck(this,Skeleton),this._updateCache=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var a=0;a<t.bones.length;a++){var i=t.bones[a],r=void 0;if(i.parent){var n=this.bones[i.parent.index];r=new e.Bone(i,this,n),n.children.push(r)}else r=new e.Bone(i,this,null);this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var s=0;s<t.slots.length;s++){var o=t.slots[s],l=this.bones[o.boneData.index],h=new e.Slot(o,l);this.slots.push(h),this.drawOrder.push(h)}this.ikConstraints=new Array;for(var c=0;c<t.ikConstraints.length;c++){var u=t.ikConstraints[c];this.ikConstraints.push(new e.IkConstraint(u,this))}this.transformConstraints=new Array;for(var d=0;d<t.transformConstraints.length;d++){var f=t.transformConstraints[d];this.transformConstraints.push(new e.TransformConstraint(f,this))}this.pathConstraints=new Array;for(var m=0;m<t.pathConstraints.length;m++){var v=t.pathConstraints[m];this.pathConstraints.push(new e.PathConstraint(v,this))}this.color=new e.Color(1,1,1,1),this.updateCache()}return _createClass(Skeleton,[{key:"updateCache",value:function(){var e=this._updateCache;e.length=0;for(var t=this.bones,a=0,i=t.length;a<i;a++){var r=t[a];r.sorted=r.data.skinRequired,r.active=!r.sorted}if(this.skin)for(var n=this.skin.bones,s=0,o=this.skin.bones.length;s<o;s++){var l=this.bones[n[s].index];do{l.sorted=!1,l.active=!0,l=l.parent}while(l)}var h=this.ikConstraints,c=this.transformConstraints,u=this.pathConstraints,d=h.length,f=c.length,m=u.length,v=d+f+m;e:for(var g=0;g<v;g++){for(var p=0;p<d;p++){var y=h[p];if(y.data.order==g){this.sortIkConstraint(y);continue e}}for(var k=0;k<f;k++){var x=c[k];if(x.data.order==g){this.sortTransformConstraint(x);continue e}}for(var C=0;C<m;C++){var b=u[C];if(b.data.order==g){this.sortPathConstraint(b);continue e}}}for(var w=0,T=t.length;w<T;w++)this.sortBone(t[w])}},{key:"sortIkConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var a=t.target;this.sortBone(a);var i=t.bones,r=i[0];if(this.sortBone(r),1==i.length)this._updateCache.push(t),this.sortReset(r.children);else{var n=i[i.length-1];this.sortBone(n),this._updateCache.push(t),this.sortReset(r.children),n.sorted=!0}}}},{key:"sortPathConstraint",value:function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var a=t.target,i=a.data.index,r=a.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,i,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,i,r);for(var n=0,s=this.data.skins.length;n<s;n++)this.sortPathConstraintAttachment(this.data.skins[n],i,r);var o=a.getAttachment();o instanceof e.PathAttachment&&this.sortPathConstraintAttachmentWith(o,r);for(var l=t.bones,h=l.length,c=0;c<h;c++)this.sortBone(l[c]);this._updateCache.push(t);for(var u=0;u<h;u++)this.sortReset(l[u].children);for(var d=0;d<h;d++)l[d].sorted=!0}}},{key:"sortTransformConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&e.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var a=t.bones,i=a.length;if(t.data.local)for(var r=0;r<i;r++){var n=a[r];this.sortBone(n.parent),this.sortBone(n)}else for(var s=0;s<i;s++)this.sortBone(a[s]);this._updateCache.push(t);for(var o=0;o<i;o++)this.sortReset(a[o].children);for(var l=0;l<i;l++)a[l].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(e,t,a){var i=e.attachments[t];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],a)}},{key:"sortPathConstraintAttachmentWith",value:function(t,a){if(t instanceof e.PathAttachment){var i=t.bones;if(i)for(var r=this.bones,n=0,s=i.length;n<s;){var o=i[n++];for(o+=n;n<o;)this.sortBone(r[i[n++]])}else this.sortBone(a)}}},{key:"sortBone",value:function(e){if(!e.sorted){var t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}}},{key:"sortReset",value:function(e){for(var t=0,a=e.length;t<a;t++){var i=e[t];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var e=this.bones,t=0,a=e.length;t<a;t++){var i=e[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}for(var r=this._updateCache,n=0,s=r.length;n<s;n++)r[n].update()}},{key:"updateWorldTransformWith",value:function(t){var a=this.getRootBone(),i=t.a,r=t.b,n=t.c,s=t.d;a.worldX=i*this.x+r*this.y+t.worldX,a.worldY=n*this.x+s*this.y+t.worldY;var o=a.rotation+90+a.shearY,l=e.MathUtils.cosDeg(a.rotation+a.shearX)*a.scaleX,h=e.MathUtils.cosDeg(o)*a.scaleY,c=e.MathUtils.sinDeg(a.rotation+a.shearX)*a.scaleX,u=e.MathUtils.sinDeg(o)*a.scaleY;a.a=(i*l+r*c)*this.scaleX,a.b=(i*h+r*u)*this.scaleX,a.c=(n*l+s*c)*this.scaleY,a.d=(n*h+s*u)*this.scaleY;for(var d=this._updateCache,f=0,m=d.length;f<m;f++){var v=d[f];v!=a&&v.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var e=this.bones,t=0,a=e.length;t<a;t++)e[t].setToSetupPose();for(var i=this.ikConstraints,r=0,n=i.length;r<n;r++){var s=i[r];s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}for(var o=this.transformConstraints,l=0,h=o.length;l<h;l++){var c=o[l],u=c.data;c.mixRotate=u.mixRotate,c.mixX=u.mixX,c.mixY=u.mixY,c.mixScaleX=u.mixScaleX,c.mixScaleY=u.mixScaleY,c.mixShearY=u.mixShearY}for(var d=this.pathConstraints,f=0,m=d.length;f<m;f++){var v=d[f],g=v.data;v.position=g.position,v.spacing=g.spacing,v.mixRotate=g.mixRotate,v.mixX=g.mixX,v.mixY=g.mixY}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;e.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var a=0,i=t.length;a<i;a++)t[a].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,a=0,i=t.length;a<i;a++){var r=t[a];if(r.data.name==e)return r}return null}},{key:"findBoneIndex",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,a=0,i=t.length;a<i;a++)if(t[a].data.name==e)return a;return-1}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,a=0,i=t.length;a<i;a++){var r=t[a];if(r.data.name==e)return r}return null}},{key:"findSlotIndex",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,a=0,i=t.length;a<i;a++)if(t[a].data.name==e)return a;return-1}},{key:"setSkinByName",value:function(e){var t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}},{key:"setSkin",value:function(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else for(var t=this.slots,a=0,i=t.length;a<i;a++){var r=t[a],n=r.data.attachmentName;if(n){var s=e.getAttachment(a,n);s&&r.setAttachment(s)}}this.skin=e,this.updateCache()}}},{key:"getAttachmentByName",value:function(e,t){return this.getAttachment(this.data.findSlotIndex(e),t)}},{key:"getAttachment",value:function(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){var a=this.skin.getAttachment(e,t);if(a)return a}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}},{key:"setAttachment",value:function(e,t){if(!e)throw new Error("slotName cannot be null.");for(var a=this.slots,i=0,r=a.length;i<r;i++){var n=a[i];if(n.data.name==e){var s=null;if(t&&!(s=this.getAttachment(i,t)))throw new Error("Attachment not found: "+t+", for slot: "+e);return void n.setAttachment(s)}}throw new Error("Slot not found: "+e)}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.data.name==e)return r}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.data.name==e)return r}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.data.name==e)return r}return null}},{key:"getBounds",value:function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(!t)throw new Error("offset cannot be null.");if(!a)throw new Error("size cannot be null.");for(var r=this.drawOrder,n=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,h=0,c=r.length;h<c;h++){var u=r[h];if(u.bone.active){var d=0,f=null,m=u.getAttachment();if(m instanceof e.RegionAttachment)d=8,f=e.Utils.setArraySize(i,d,0),m.computeWorldVertices(u.bone,f,0,2);else if(m instanceof e.MeshAttachment){var v=m;d=v.worldVerticesLength,f=e.Utils.setArraySize(i,d,0),v.computeWorldVertices(u,0,d,f,0,2)}if(f)for(var g=0,p=f.length;g<p;g+=2){var y=f[g],k=f[g+1];n=Math.min(n,y),s=Math.min(s,k),o=Math.max(o,y),l=Math.max(l,k)}}}t.set(n,s),a.set(o-n,l-s)}},{key:"update",value:function(e){this.time+=e}}]),Skeleton}();e.Skeleton=t}(spine||(spine={})),function(e){var t=function(){function SkeletonBinary(e){_classCallCheck(this,SkeletonBinary),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return _createClass(SkeletonBinary,[{key:"readSkeletonData",value:function(t){var a=this.scale,r=new e.SkeletonData;r.name="";var n=new i(t),s=n.readInt32(),o=n.readInt32();r.hash=0==o&&0==s?null:o.toString(16)+s.toString(16),r.version=n.readString(),r.x=n.readFloat(),r.y=n.readFloat(),r.width=n.readFloat(),r.height=n.readFloat();var l=n.readBoolean();l&&(r.fps=n.readFloat(),r.imagesPath=n.readString(),r.audioPath=n.readString());var h=0;h=n.readInt(!0);for(var c=0;c<h;c++)n.strings.push(n.readString());h=n.readInt(!0);for(var u=0;u<h;u++){var d=n.readString(),f=0==u?null:r.bones[n.readInt(!0)],m=new e.BoneData(u,d,f);m.rotation=n.readFloat(),m.x=n.readFloat()*a,m.y=n.readFloat()*a,m.scaleX=n.readFloat(),m.scaleY=n.readFloat(),m.shearX=n.readFloat(),m.shearY=n.readFloat(),m.length=n.readFloat()*a,m.transformMode=n.readInt(!0),m.skinRequired=n.readBoolean(),l&&e.Color.rgba8888ToColor(m.color,n.readInt32()),r.bones.push(m)}h=n.readInt(!0);for(var v=0;v<h;v++){var g=n.readString(),p=r.bones[n.readInt(!0)],y=new e.SlotData(v,g,p);e.Color.rgba8888ToColor(y.color,n.readInt32());var k=n.readInt32();-1!=k&&e.Color.rgb888ToColor(y.darkColor=new e.Color,k),y.attachmentName=n.readStringRef(),y.blendMode=n.readInt(!0),r.slots.push(y)}h=n.readInt(!0);for(var x,C=0;C<h;C++){var b=new e.IkConstraintData(n.readString());b.order=n.readInt(!0),b.skinRequired=n.readBoolean(),x=n.readInt(!0);for(var w=0;w<x;w++)b.bones.push(r.bones[n.readInt(!0)]);b.target=r.bones[n.readInt(!0)],b.mix=n.readFloat(),b.softness=n.readFloat()*a,b.bendDirection=n.readByte(),b.compress=n.readBoolean(),b.stretch=n.readBoolean(),b.uniform=n.readBoolean(),r.ikConstraints.push(b)}h=n.readInt(!0);for(var T,S=0;S<h;S++){var A=new e.TransformConstraintData(n.readString());A.order=n.readInt(!0),A.skinRequired=n.readBoolean(),T=n.readInt(!0);for(var M=0;M<T;M++)A.bones.push(r.bones[n.readInt(!0)]);A.target=r.bones[n.readInt(!0)],A.local=n.readBoolean(),A.relative=n.readBoolean(),A.offsetRotation=n.readFloat(),A.offsetX=n.readFloat()*a,A.offsetY=n.readFloat()*a,A.offsetScaleX=n.readFloat(),A.offsetScaleY=n.readFloat(),A.offsetShearY=n.readFloat(),A.mixRotate=n.readFloat(),A.mixX=n.readFloat(),A.mixY=n.readFloat(),A.mixScaleX=n.readFloat(),A.mixScaleY=n.readFloat(),A.mixShearY=n.readFloat(),r.transformConstraints.push(A)}h=n.readInt(!0);for(var I,Y=0;Y<h;Y++){var B=new e.PathConstraintData(n.readString());B.order=n.readInt(!0),B.skinRequired=n.readBoolean(),I=n.readInt(!0);for(var _=0;_<I;_++)B.bones.push(r.bones[n.readInt(!0)]);B.target=r.slots[n.readInt(!0)],B.positionMode=n.readInt(!0),B.spacingMode=n.readInt(!0),B.rotateMode=n.readInt(!0),B.offsetRotation=n.readFloat(),B.position=n.readFloat(),B.positionMode==e.PositionMode.Fixed&&(B.position*=a),B.spacing=n.readFloat(),B.spacingMode!=e.SpacingMode.Length&&B.spacingMode!=e.SpacingMode.Fixed||(B.spacing*=a),B.mixRotate=n.readFloat(),B.mixX=n.readFloat(),B.mixY=n.readFloat(),r.pathConstraints.push(B)}var X=this.readSkin(n,r,!0,l);X&&(r.defaultSkin=X,r.skins.push(X));var V=r.skins.length;for(e.Utils.setArraySize(r.skins,h=V+n.readInt(!0));V<h;V++)r.skins[V]=this.readSkin(n,r,!1,l);h=this.linkedMeshes.length;for(var F=0;F<h;F++){var P=this.linkedMeshes[F],U=(P.skin?r.findSkin(P.skin):r.defaultSkin).getAttachment(P.slotIndex,P.parent);P.mesh.deformAttachment=P.inheritDeform?U:P.mesh,P.mesh.setParentMesh(U),P.mesh.updateUVs()}this.linkedMeshes.length=0,h=n.readInt(!0);for(var R=0;R<h;R++){var D=new e.EventData(n.readStringRef());D.intValue=n.readInt(!1),D.floatValue=n.readFloat(),D.stringValue=n.readString(),D.audioPath=n.readString(),D.audioPath&&(D.volume=n.readFloat(),D.balance=n.readFloat()),r.events.push(D)}h=n.readInt(!0);for(var E=0;E<h;E++)r.animations.push(this.readAnimation(n,n.readString(),r));return r}},{key:"readSkin",value:function(t,a,i,r){var n=null,s=0;if(i){if(0==(s=t.readInt(!0)))return null;n=new e.Skin("default")}else{(n=new e.Skin(t.readStringRef())).bones.length=t.readInt(!0);for(var o=0,l=n.bones.length;o<l;o++)n.bones[o]=a.bones[t.readInt(!0)];for(var h=0,c=t.readInt(!0);h<c;h++)n.constraints.push(a.ikConstraints[t.readInt(!0)]);for(var u=0,d=t.readInt(!0);u<d;u++)n.constraints.push(a.transformConstraints[t.readInt(!0)]);for(var f=0,m=t.readInt(!0);f<m;f++)n.constraints.push(a.pathConstraints[t.readInt(!0)]);s=t.readInt(!0)}for(var v=0;v<s;v++)for(var g=t.readInt(!0),p=0,y=t.readInt(!0);p<y;p++){var k=t.readStringRef(),x=this.readAttachment(t,a,n,g,k,r);x&&n.setAttachment(g,k,x)}return n}},{key:"readAttachment",value:function(t,i,n,s,o,l){var h=this.scale,c=t.readStringRef();switch(c||(c=o),t.readByte()){case a.Region:var u=t.readStringRef(),d=t.readFloat(),f=t.readFloat(),m=t.readFloat(),v=t.readFloat(),g=t.readFloat(),p=t.readFloat(),y=t.readFloat(),k=t.readInt32();u||(u=c);var x=this.attachmentLoader.newRegionAttachment(n,c,u);return x?(x.path=u,x.x=f*h,x.y=m*h,x.scaleX=v,x.scaleY=g,x.rotation=d,x.width=p*h,x.height=y*h,e.Color.rgba8888ToColor(x.color,k),x.updateOffset(),x):null;case a.BoundingBox:var C=t.readInt(!0),b=this.readVertices(t,C),w=l?t.readInt32():0,T=this.attachmentLoader.newBoundingBoxAttachment(n,c);return T?(T.worldVerticesLength=C<<1,T.vertices=b.vertices,T.bones=b.bones,l&&e.Color.rgba8888ToColor(T.color,w),T):null;case a.Mesh:var S=t.readStringRef(),A=t.readInt32(),M=t.readInt(!0),I=this.readFloatArray(t,M<<1,1),Y=this.readShortArray(t),B=this.readVertices(t,M),_=t.readInt(!0),X=null,V=0,F=0;l&&(X=this.readShortArray(t),V=t.readFloat(),F=t.readFloat()),S||(S=c);var P=this.attachmentLoader.newMeshAttachment(n,c,S);return P?(P.path=S,e.Color.rgba8888ToColor(P.color,A),P.bones=B.bones,P.vertices=B.vertices,P.worldVerticesLength=M<<1,P.triangles=Y,P.regionUVs=I,P.updateUVs(),P.hullLength=_<<1,l&&(P.edges=X,P.width=V*h,P.height=F*h),P):null;case a.LinkedMesh:var U=t.readStringRef(),R=t.readInt32(),D=t.readStringRef(),E=t.readStringRef(),L=t.readBoolean(),N=0,O=0;l&&(N=t.readFloat(),O=t.readFloat()),U||(U=c);var z=this.attachmentLoader.newMeshAttachment(n,c,U);return z?(z.path=U,e.Color.rgba8888ToColor(z.color,R),l&&(z.width=N*h,z.height=O*h),this.linkedMeshes.push(new r(z,D,s,E,L)),z):null;case a.Path:for(var W=t.readBoolean(),q=t.readBoolean(),G=t.readInt(!0),j=this.readVertices(t,G),H=e.Utils.newArray(G/3,0),J=0,K=H.length;J<K;J++)H[J]=t.readFloat()*h;var Q=l?t.readInt32():0,$=this.attachmentLoader.newPathAttachment(n,c);return $?($.closed=W,$.constantSpeed=q,$.worldVerticesLength=G<<1,$.vertices=j.vertices,$.bones=j.bones,$.lengths=H,l&&e.Color.rgba8888ToColor($.color,Q),$):null;case a.Point:var Z=t.readFloat(),ee=t.readFloat(),te=t.readFloat(),ae=l?t.readInt32():0,ie=this.attachmentLoader.newPointAttachment(n,c);return ie?(ie.x=ee*h,ie.y=te*h,ie.rotation=Z,l&&e.Color.rgba8888ToColor(ie.color,ae),ie):null;case a.Clipping:var re=t.readInt(!0),ne=t.readInt(!0),se=this.readVertices(t,ne),oe=l?t.readInt32():0,le=this.attachmentLoader.newClippingAttachment(n,c);return le?(le.endSlot=i.slots[re],le.worldVerticesLength=ne<<1,le.vertices=se.vertices,le.bones=se.bones,l&&e.Color.rgba8888ToColor(le.color,oe),le):null}return null}},{key:"readVertices",value:function(t,a){var i=this.scale,r=a<<1,s=new n;if(!t.readBoolean())return s.vertices=this.readFloatArray(t,r,i),s;for(var o=new Array,l=new Array,h=0;h<a;h++){var c=t.readInt(!0);l.push(c);for(var u=0;u<c;u++)l.push(t.readInt(!0)),o.push(t.readFloat()*i),o.push(t.readFloat()*i),o.push(t.readFloat())}return s.vertices=e.Utils.toFloatArray(o),s.bones=l,s}},{key:"readFloatArray",value:function(e,t,a){var i=new Array(t);if(1==a)for(var r=0;r<t;r++)i[r]=e.readFloat();else for(var n=0;n<t;n++)i[n]=e.readFloat()*a;return i}},{key:"readShortArray",value:function(e){for(var t=e.readInt(!0),a=new Array(t),i=0;i<t;i++)a[i]=e.readShort();return a}},{key:"readAnimation",value:function(t,a,i){t.readInt(!0);for(var r=new Array,n=this.scale,M=(new e.Color,new e.Color,0),I=t.readInt(!0);M<I;M++)for(var Y=t.readInt(!0),B=0,_=t.readInt(!0);B<_;B++){var X=t.readByte(),V=t.readInt(!0),F=V-1;switch(X){case g:for(var P=new e.AttachmentTimeline(V,Y),U=0;U<V;U++)P.setFrame(U,t.readFloat(),t.readStringRef());r.push(P);break;case p:for(var R=t.readInt(!0),D=new e.RGBATimeline(V,R,Y),E=t.readFloat(),L=t.readUnsignedByte()/255,N=t.readUnsignedByte()/255,O=t.readUnsignedByte()/255,z=t.readUnsignedByte()/255,W=0,q=0;D.setFrame(W,E,L,N,O,z),W!=F;W++){var G=t.readFloat(),j=t.readUnsignedByte()/255,H=t.readUnsignedByte()/255,J=t.readUnsignedByte()/255,K=t.readUnsignedByte()/255;switch(t.readByte()){case S:D.setStepped(W);break;case A:setBezier(t,D,q++,W,0,E,G,L,j,1),setBezier(t,D,q++,W,1,E,G,N,H,1),setBezier(t,D,q++,W,2,E,G,O,J,1),setBezier(t,D,q++,W,3,E,G,z,K,1)}E=G,L=j,N=H,O=J,z=K}r.push(D);break;case y:for(var Q=t.readInt(!0),$=new e.RGBTimeline(V,Q,Y),Z=t.readFloat(),ee=t.readUnsignedByte()/255,te=t.readUnsignedByte()/255,ae=t.readUnsignedByte()/255,ie=0,re=0;$.setFrame(ie,Z,ee,te,ae),ie!=F;ie++){var ne=t.readFloat(),se=t.readUnsignedByte()/255,oe=t.readUnsignedByte()/255,le=t.readUnsignedByte()/255;switch(t.readByte()){case S:$.setStepped(ie);break;case A:setBezier(t,$,re++,ie,0,Z,ne,ee,se,1),setBezier(t,$,re++,ie,1,Z,ne,te,oe,1),setBezier(t,$,re++,ie,2,Z,ne,ae,le,1)}Z=ne,ee=se,te=oe,ae=le}r.push($);break;case k:for(var he=t.readInt(!0),ce=new e.RGBA2Timeline(V,he,Y),ue=t.readFloat(),de=t.readUnsignedByte()/255,fe=t.readUnsignedByte()/255,me=t.readUnsignedByte()/255,ve=t.readUnsignedByte()/255,ge=t.readUnsignedByte()/255,pe=t.readUnsignedByte()/255,ye=t.readUnsignedByte()/255,ke=0,xe=0;ce.setFrame(ke,ue,de,fe,me,ve,ge,pe,ye),ke!=F;ke++){var Ce=t.readFloat(),be=t.readUnsignedByte()/255,we=t.readUnsignedByte()/255,Te=t.readUnsignedByte()/255,Se=t.readUnsignedByte()/255,Ae=t.readUnsignedByte()/255,Me=t.readUnsignedByte()/255,Ie=t.readUnsignedByte()/255;switch(t.readByte()){case S:ce.setStepped(ke);break;case A:setBezier(t,ce,xe++,ke,0,ue,Ce,de,be,1),setBezier(t,ce,xe++,ke,1,ue,Ce,fe,we,1),setBezier(t,ce,xe++,ke,2,ue,Ce,me,Te,1),setBezier(t,ce,xe++,ke,3,ue,Ce,ve,Se,1),setBezier(t,ce,xe++,ke,4,ue,Ce,ge,Ae,1),setBezier(t,ce,xe++,ke,5,ue,Ce,pe,Me,1),setBezier(t,ce,xe++,ke,6,ue,Ce,ye,Ie,1)}ue=Ce,de=be,fe=we,me=Te,ve=Se,ge=Ae,pe=Me,ye=Ie}r.push(ce);break;case x:for(var Ye=t.readInt(!0),Be=new e.RGB2Timeline(V,Ye,Y),_e=t.readFloat(),Xe=t.readUnsignedByte()/255,Ve=t.readUnsignedByte()/255,Fe=t.readUnsignedByte()/255,Pe=t.readUnsignedByte()/255,Ue=t.readUnsignedByte()/255,Re=t.readUnsignedByte()/255,De=0,Ee=0;Be.setFrame(De,_e,Xe,Ve,Fe,Pe,Ue,Re),De!=F;De++){var Le=t.readFloat(),Ne=t.readUnsignedByte()/255,Oe=t.readUnsignedByte()/255,ze=t.readUnsignedByte()/255,We=t.readUnsignedByte()/255,qe=t.readUnsignedByte()/255,Ge=t.readUnsignedByte()/255;switch(t.readByte()){case S:Be.setStepped(De);break;case A:setBezier(t,Be,Ee++,De,0,_e,Le,Xe,Ne,1),setBezier(t,Be,Ee++,De,1,_e,Le,Ve,Oe,1),setBezier(t,Be,Ee++,De,2,_e,Le,Fe,ze,1),setBezier(t,Be,Ee++,De,3,_e,Le,Pe,We,1),setBezier(t,Be,Ee++,De,4,_e,Le,Ue,qe,1),setBezier(t,Be,Ee++,De,5,_e,Le,Re,Ge,1)}_e=Le,Xe=Ne,Ve=Oe,Fe=ze,Pe=We,Ue=qe,Re=Ge}r.push(Be);break;case C:for(var je=new e.AlphaTimeline(V,t.readInt(!0),Y),He=t.readFloat(),Je=t.readUnsignedByte()/255,Ke=0,Qe=0;je.setFrame(Ke,He,Je),Ke!=F;Ke++){var $e=t.readFloat(),Ze=t.readUnsignedByte()/255;switch(t.readByte()){case S:je.setStepped(Ke);break;case A:setBezier(t,je,Qe++,Ke,0,He,$e,Je,Ze,1)}He=$e,Je=Ze}r.push(je)}}for(var et=0,tt=t.readInt(!0);et<tt;et++)for(var at=t.readInt(!0),it=0,rt=t.readInt(!0);it<rt;it++){var nt=t.readByte(),st=t.readInt(!0),ot=t.readInt(!0);switch(nt){case s:r.push(readTimeline1(t,new e.RotateTimeline(st,ot,at),1));break;case o:r.push(readTimeline2(t,new e.TranslateTimeline(st,ot,at),n));break;case l:r.push(readTimeline1(t,new e.TranslateXTimeline(st,ot,at),n));break;case h:r.push(readTimeline1(t,new e.TranslateYTimeline(st,ot,at),n));break;case c:r.push(readTimeline2(t,new e.ScaleTimeline(st,ot,at),1));break;case u:r.push(readTimeline1(t,new e.ScaleXTimeline(st,ot,at),1));break;case d:r.push(readTimeline1(t,new e.ScaleYTimeline(st,ot,at),1));break;case f:r.push(readTimeline2(t,new e.ShearTimeline(st,ot,at),1));break;case m:r.push(readTimeline1(t,new e.ShearXTimeline(st,ot,at),1));break;case v:r.push(readTimeline1(t,new e.ShearYTimeline(st,ot,at),1))}}for(var lt=0,ht=t.readInt(!0);lt<ht;lt++){for(var ct=t.readInt(!0),ut=t.readInt(!0),dt=ut-1,ft=new e.IkConstraintTimeline(ut,t.readInt(!0),ct),mt=t.readFloat(),vt=t.readFloat(),gt=t.readFloat()*n,pt=0,yt=0;ft.setFrame(pt,mt,vt,gt,t.readByte(),t.readBoolean(),t.readBoolean()),pt!=dt;pt++){var kt=t.readFloat(),xt=t.readFloat(),Ct=t.readFloat()*n;switch(t.readByte()){case S:ft.setStepped(pt);break;case A:setBezier(t,ft,yt++,pt,0,mt,kt,vt,xt,1),setBezier(t,ft,yt++,pt,1,mt,kt,gt,Ct,n)}mt=kt,vt=xt,gt=Ct}r.push(ft)}for(var bt=0,wt=t.readInt(!0);bt<wt;bt++){for(var Tt=t.readInt(!0),St=t.readInt(!0),At=St-1,Mt=new e.TransformConstraintTimeline(St,t.readInt(!0),Tt),It=t.readFloat(),Yt=t.readFloat(),Bt=t.readFloat(),_t=t.readFloat(),Xt=t.readFloat(),Vt=t.readFloat(),Ft=t.readFloat(),Pt=0,Ut=0;Mt.setFrame(Pt,It,Yt,Bt,_t,Xt,Vt,Ft),Pt!=At;Pt++){var Rt=t.readFloat(),Dt=t.readFloat(),Et=t.readFloat(),Lt=t.readFloat(),Nt=t.readFloat(),Ot=t.readFloat(),zt=t.readFloat();switch(t.readByte()){case S:Mt.setStepped(Pt);break;case A:setBezier(t,Mt,Ut++,Pt,0,It,Rt,Yt,Dt,1),setBezier(t,Mt,Ut++,Pt,1,It,Rt,Bt,Et,1),setBezier(t,Mt,Ut++,Pt,2,It,Rt,_t,Lt,1),setBezier(t,Mt,Ut++,Pt,3,It,Rt,Xt,Nt,1),setBezier(t,Mt,Ut++,Pt,4,It,Rt,Vt,Ot,1),setBezier(t,Mt,Ut++,Pt,5,It,Rt,Ft,zt,1)}It=Rt,Yt=Dt,Bt=Et,_t=Lt,Xt=Nt,Vt=Ot,Ft=zt}r.push(Mt)}for(var Wt=0,qt=t.readInt(!0);Wt<qt;Wt++)for(var Gt=t.readInt(!0),jt=i.pathConstraints[Gt],Ht=0,Jt=t.readInt(!0);Ht<Jt;Ht++)switch(t.readByte()){case b:r.push(readTimeline1(t,new e.PathConstraintPositionTimeline(t.readInt(!0),t.readInt(!0),Gt),jt.positionMode==e.PositionMode.Fixed?n:1));break;case w:r.push(readTimeline1(t,new e.PathConstraintSpacingTimeline(t.readInt(!0),t.readInt(!0),Gt),jt.spacingMode==e.SpacingMode.Length||jt.spacingMode==e.SpacingMode.Fixed?n:1));break;case T:for(var Kt=new e.PathConstraintMixTimeline(t.readInt(!0),t.readInt(!0),Gt),Qt=t.readFloat(),$t=t.readFloat(),Zt=t.readFloat(),ea=t.readFloat(),ta=0,aa=0,ia=Kt.getFrameCount()-1;Kt.setFrame(ta,Qt,$t,Zt,ea),ta!=ia;ta++){var ra=t.readFloat(),na=t.readFloat(),sa=t.readFloat(),oa=t.readFloat();switch(t.readByte()){case S:Kt.setStepped(ta);break;case A:setBezier(t,Kt,aa++,ta,0,Qt,ra,$t,na,1),setBezier(t,Kt,aa++,ta,1,Qt,ra,Zt,sa,1),setBezier(t,Kt,aa++,ta,2,Qt,ra,ea,oa,1)}Qt=ra,$t=na,Zt=sa,ea=oa}r.push(Kt)}for(var la=0,ha=t.readInt(!0);la<ha;la++)for(var ca=i.skins[t.readInt(!0)],ua=0,da=t.readInt(!0);ua<da;ua++)for(var fa=t.readInt(!0),ma=0,va=t.readInt(!0);ma<va;ma++){for(var ga=t.readStringRef(),pa=ca.getAttachment(fa,ga),ya=pa.bones,ka=pa.vertices,xa=ya?ka.length/3*2:ka.length,Ca=t.readInt(!0),ba=Ca-1,wa=t.readInt(!0),Ta=new e.DeformTimeline(Ca,wa,fa,pa),Sa=t.readFloat(),Aa=0,Ma=0;;Aa++){var Ia=void 0,Ya=t.readInt(!0);if(0==Ya)Ia=ya?e.Utils.newFloatArray(xa):ka;else{Ia=e.Utils.newFloatArray(xa);var Ba=t.readInt(!0);if(Ya+=Ba,1==n)for(var _a=Ba;_a<Ya;_a++)Ia[_a]=t.readFloat();else for(var Xa=Ba;Xa<Ya;Xa++)Ia[Xa]=t.readFloat()*n;if(!ya)for(var Va=0,Fa=Ia.length;Va<Fa;Va++)Ia[Va]+=ka[Va]}if(Ta.setFrame(Aa,Sa,Ia),Aa==ba)break;var Pa=t.readFloat();switch(t.readByte()){case S:Ta.setStepped(Aa);break;case A:setBezier(t,Ta,Ma++,Aa,0,Sa,Pa,0,1,1)}Sa=Pa}r.push(Ta)}var Ua=t.readInt(!0);if(Ua>0){for(var Ra=new e.DrawOrderTimeline(Ua),Da=i.slots.length,Ea=0;Ea<Ua;Ea++){for(var La=t.readFloat(),Na=t.readInt(!0),Oa=e.Utils.newArray(Da,0),za=Da-1;za>=0;za--)Oa[za]=-1;for(var Wa=e.Utils.newArray(Da-Na,0),qa=0,Ga=0,ja=0;ja<Na;ja++){for(var Ha=t.readInt(!0);qa!=Ha;)Wa[Ga++]=qa++;Oa[qa+t.readInt(!0)]=qa++}for(;qa<Da;)Wa[Ga++]=qa++;for(var Ja=Da-1;Ja>=0;Ja--)-1==Oa[Ja]&&(Oa[Ja]=Wa[--Ga]);Ra.setFrame(Ea,La,Oa)}r.push(Ra)}var Ka=t.readInt(!0);if(Ka>0){for(var Qa=new e.EventTimeline(Ka),$a=0;$a<Ka;$a++){var Za=t.readFloat(),ei=i.events[t.readInt(!0)],ti=new e.Event(Za,ei);ti.intValue=t.readInt(!1),ti.floatValue=t.readFloat(),ti.stringValue=t.readBoolean()?t.readString():ei.stringValue,ti.data.audioPath&&(ti.volume=t.readFloat(),ti.balance=t.readFloat()),Qa.setFrame($a,ti)}r.push(Qa)}for(var ai=0,ii=0,ri=r.length;ii<ri;ii++)ai=Math.max(ai,r[ii].getDuration());return new e.Animation(a,r,ai)}}]),SkeletonBinary}();e.SkeletonBinary=t;var a,i=function(){function BinaryInput(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(e.buffer);_classCallCheck(this,BinaryInput),this.strings=t,this.index=a,this.buffer=i}return _createClass(BinaryInput,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var e=this.buffer.getInt16(this.index);return this.index+=2,e}},{key:"readInt32",value:function(){var e=this.buffer.getInt32(this.index);return this.index+=4,e}},{key:"readInt",value:function(e){var t=this.readByte(),a=127&t;return 0!=(128&t)&&(a|=(127&(t=this.readByte()))<<7,0!=(128&t)&&(a|=(127&(t=this.readByte()))<<14,0!=(128&t)&&(a|=(127&(t=this.readByte()))<<21,0!=(128&t)&&(a|=(127&(t=this.readByte()))<<28)))),e?a:a>>>1^-(1&a)}},{key:"readStringRef",value:function(){var e=this.readInt(!0);return 0==e?null:this.strings[e-1]}},{key:"readString",value:function(){var e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;for(var t="",a=0;a<e;){var i=this.readByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((31&i)<<6|63&this.readByte()),a+=2;break;case 14:t+=String.fromCharCode((15&i)<<12|(63&this.readByte())<<6|63&this.readByte()),a+=3;break;default:t+=String.fromCharCode(i),a++}}return t}},{key:"readFloat",value:function(){var e=this.buffer.getFloat32(this.index);return this.index+=4,e}},{key:"readBoolean",value:function(){return 0!=this.readByte()}}]),BinaryInput}(),r=_createClass(function LinkedMesh(e,t,a,i,r){_classCallCheck(this,LinkedMesh),this.mesh=e,this.skin=t,this.slotIndex=a,this.parent=i,this.inheritDeform=r}),n=_createClass(function Vertices(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,Vertices),this.bones=e,this.vertices=t});function readTimeline1(e,t,a){for(var i=e.readFloat(),r=e.readFloat()*a,n=0,s=0,o=t.getFrameCount()-1;t.setFrame(n,i,r),n!=o;n++){var l=e.readFloat(),h=e.readFloat()*a;switch(e.readByte()){case S:t.setStepped(n);break;case A:setBezier(e,t,s++,n,0,i,l,r,h,1)}i=l,r=h}return t}function readTimeline2(e,t,a){for(var i=e.readFloat(),r=e.readFloat()*a,n=e.readFloat()*a,s=0,o=0,l=t.getFrameCount()-1;t.setFrame(s,i,r,n),s!=l;s++){var h=e.readFloat(),c=e.readFloat()*a,u=e.readFloat()*a;switch(e.readByte()){case S:t.setStepped(s);break;case A:setBezier(e,t,o++,s,0,i,h,r,c,a),setBezier(e,t,o++,s,1,i,h,n,u,a)}i=h,r=c,n=u}return t}function setBezier(e,t,a,i,r,n,s,o,l,h){t.setBezier(a,i,r,n,o,e.readFloat(),e.readFloat()*h,e.readFloat(),e.readFloat()*h,s,l)}!function(e){e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(a||(a={}));var s=0,o=1,l=2,h=3,c=4,u=5,d=6,f=7,m=8,v=9,g=0,p=1,y=2,k=3,x=4,C=5,b=0,w=1,T=2,S=1,A=2}(spine||(spine={})),function(e){var t=function(){function SkeletonBounds(){_classCallCheck(this,SkeletonBounds),this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new e.Pool(function(){return e.Utils.newFloatArray(16)})}return _createClass(SkeletonBounds,[{key:"update",value:function(t,a){if(!t)throw new Error("skeleton cannot be null.");var i=this.boundingBoxes,r=this.polygons,n=this.polygonPool,s=t.slots,o=s.length;i.length=0,n.freeAll(r),r.length=0;for(var l=0;l<o;l++){var h=s[l];if(h.bone.active){var c=h.getAttachment();if(c instanceof e.BoundingBoxAttachment){var u=c;i.push(u);var d=n.obtain();d.length!=u.worldVerticesLength&&(d=e.Utils.newFloatArray(u.worldVerticesLength)),r.push(d),u.computeWorldVertices(h,0,u.worldVerticesLength,d,0,2)}}}a?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,n=0,s=r.length;n<s;n++)for(var o=r[n],l=o,h=0,c=o.length;h<c;h+=2){var u=l[h],d=l[h+1];e=Math.min(e,u),t=Math.min(t,d),a=Math.max(a,u),i=Math.max(i,d)}this.minX=e,this.minY=t,this.maxX=a,this.maxY=i}},{key:"aabbContainsPoint",value:function(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}},{key:"aabbIntersectsSegment",value:function(e,t,a,i){var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY;if(e<=r&&a<=r||t<=n&&i<=n||e>=s&&a>=s||t>=o&&i>=o)return!1;var l=(i-t)/(a-e),h=l*(r-e)+t;if(h>n&&h<o)return!0;if((h=l*(s-e)+t)>n&&h<o)return!0;var c=(n-t)/l+e;return c>r&&c<s||(c=(o-t)/l+e)>r&&c<s}},{key:"aabbIntersectsSkeleton",value:function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}},{key:"containsPoint",value:function(e,t){for(var a=this.polygons,i=0,r=a.length;i<r;i++)if(this.containsPointPolygon(a[i],e,t))return this.boundingBoxes[i];return null}},{key:"containsPointPolygon",value:function(e,t,a){for(var i=e,r=e.length,n=r-2,s=!1,o=0;o<r;o+=2){var l=i[o+1],h=i[n+1];if(l<a&&h>=a||h<a&&l>=a){var c=i[o];c+(a-l)/(h-l)*(i[n]-c)<t&&(s=!s)}n=o}return s}},{key:"intersectsSegment",value:function(e,t,a,i){for(var r=this.polygons,n=0,s=r.length;n<s;n++)if(this.intersectsSegmentPolygon(r[n],e,t,a,i))return this.boundingBoxes[n];return null}},{key:"intersectsSegmentPolygon",value:function(e,t,a,i,r){for(var n=e,s=e.length,o=t-i,l=a-r,h=t*r-a*i,c=n[s-2],u=n[s-1],d=0;d<s;d+=2){var f=n[d],m=n[d+1],v=c*m-u*f,g=c-f,p=u-m,y=o*p-l*g,k=(h*g-o*v)/y;if((k>=c&&k<=f||k>=f&&k<=c)&&(k>=t&&k<=i||k>=i&&k<=t)){var x=(h*p-l*v)/y;if((x>=u&&x<=m||x>=m&&x<=u)&&(x>=a&&x<=r||x>=r&&x<=a))return!0}c=f,u=m}return!1}},{key:"getPolygon",value:function(e){if(!e)throw new Error("boundingBox cannot be null.");var t=this.boundingBoxes.indexOf(e);return-1==t?null:this.polygons[t]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),SkeletonBounds}();e.SkeletonBounds=t}(spine||(spine={})),function(e){var t=function(){function SkeletonClipping(){_classCallCheck(this,SkeletonClipping),this.triangulator=new e.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return _createClass(SkeletonClipping,[{key:"clipStart",value:function(t,a){if(this.clipAttachment)return 0;this.clipAttachment=a;var i=a.worldVerticesLength,r=e.Utils.setArraySize(this.clippingPolygon,i);a.computeWorldVertices(t,0,i,r,0,2);var n=this.clippingPolygon;SkeletonClipping.makeClockwise(n);for(var s=this.clippingPolygons=this.triangulator.decompose(n,this.triangulator.triangulate(n)),o=0,l=s.length;o<l;o++){var h=s[o];SkeletonClipping.makeClockwise(h),h.push(h[0]),h.push(h[1])}return s.length}},{key:"clipEndWithSlot",value:function(e){this.clipAttachment&&this.clipAttachment.endSlot==e.data&&this.clipEnd()}},{key:"clipEnd",value:function(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}},{key:"isClipping",value:function(){return null!=this.clipAttachment}},{key:"clipTriangles",value:function(t,a,i,r,n,s,o,l){var h=this.clipOutput,c=this.clippedVertices,u=this.clippedTriangles,d=this.clippingPolygons,f=this.clippingPolygons.length,m=l?12:8,v=0;c.length=0,u.length=0;e:for(var g=0;g<r;g+=3)for(var p=i[g]<<1,y=t[p],k=t[p+1],x=n[p],C=n[p+1],b=t[p=i[g+1]<<1],w=t[p+1],T=n[p],S=n[p+1],A=t[p=i[g+2]<<1],M=t[p+1],I=n[p],Y=n[p+1],B=0;B<f;B++){var _=c.length;if(!this.clip(y,k,b,w,A,M,d[B],h)){var X=e.Utils.setArraySize(c,_+3*m);X[_]=y,X[_+1]=k,X[_+2]=s.r,X[_+3]=s.g,X[_+4]=s.b,X[_+5]=s.a,l?(X[_+6]=x,X[_+7]=C,X[_+8]=o.r,X[_+9]=o.g,X[_+10]=o.b,X[_+11]=o.a,X[_+12]=b,X[_+13]=w,X[_+14]=s.r,X[_+15]=s.g,X[_+16]=s.b,X[_+17]=s.a,X[_+18]=T,X[_+19]=S,X[_+20]=o.r,X[_+21]=o.g,X[_+22]=o.b,X[_+23]=o.a,X[_+24]=A,X[_+25]=M,X[_+26]=s.r,X[_+27]=s.g,X[_+28]=s.b,X[_+29]=s.a,X[_+30]=I,X[_+31]=Y,X[_+32]=o.r,X[_+33]=o.g,X[_+34]=o.b,X[_+35]=o.a):(X[_+6]=x,X[_+7]=C,X[_+8]=b,X[_+9]=w,X[_+10]=s.r,X[_+11]=s.g,X[_+12]=s.b,X[_+13]=s.a,X[_+14]=T,X[_+15]=S,X[_+16]=A,X[_+17]=M,X[_+18]=s.r,X[_+19]=s.g,X[_+20]=s.b,X[_+21]=s.a,X[_+22]=I,X[_+23]=Y),_=u.length;var V=e.Utils.setArraySize(u,_+3);V[_]=v,V[_+1]=v+1,V[_+2]=v+2,v+=3;continue e}var F=h.length;if(0!=F){for(var P=w-M,U=A-b,R=y-A,D=M-k,E=1/(P*R+U*(k-M)),L=F>>1,N=this.clipOutput,O=e.Utils.setArraySize(c,_+L*m),z=0;z<F;z+=2){var W=N[z],q=N[z+1];O[_]=W,O[_+1]=q,O[_+2]=s.r,O[_+3]=s.g,O[_+4]=s.b,O[_+5]=s.a;var G=W-A,j=q-M,H=(P*G+U*j)*E,J=(D*G+R*j)*E,K=1-H-J;O[_+6]=x*H+T*J+I*K,O[_+7]=C*H+S*J+Y*K,l&&(O[_+8]=o.r,O[_+9]=o.g,O[_+10]=o.b,O[_+11]=o.a),_+=m}_=u.length;var Q=e.Utils.setArraySize(u,_+3*(L-2));L--;for(var $=1;$<L;$++)Q[_]=v,Q[_+1]=v+$,Q[_+2]=v+$+1,_+=3;v+=L+1}}}},{key:"clip",value:function(e,t,a,i,r,n,s,o){var l=o,h=!1,c=null;s.length%4>=2?(c=o,o=this.scratch):c=this.scratch,c.length=0,c.push(e),c.push(t),c.push(a),c.push(i),c.push(r),c.push(n),c.push(e),c.push(t),o.length=0;for(var u=s,d=s.length-4,f=0;;f+=2){for(var m=u[f],v=u[f+1],g=u[f+2],p=u[f+3],y=m-g,k=v-p,x=c,C=c.length-2,b=o.length,w=0;w<C;w+=2){var T=x[w],S=x[w+1],A=x[w+2],M=x[w+3],I=y*(M-p)-k*(A-g)>0;if(y*(S-p)-k*(T-g)>0){if(I){o.push(A),o.push(M);continue}var Y=M-S,B=A-T,_=Y*(g-m)-B*(p-v);if(Math.abs(_)>1e-6){var X=(B*(v-S)-Y*(m-T))/_;o.push(m+(g-m)*X),o.push(v+(p-v)*X)}else o.push(m),o.push(v)}else if(I){var V=M-S,F=A-T,P=V*(g-m)-F*(p-v);if(Math.abs(P)>1e-6){var U=(F*(v-S)-V*(m-T))/P;o.push(m+(g-m)*U),o.push(v+(p-v)*U)}else o.push(m),o.push(v);o.push(A),o.push(M)}h=!0}if(b==o.length)return l.length=0,!0;if(o.push(o[0]),o.push(o[1]),f==d)break;var R=o;(o=c).length=0,c=R}if(l!=o){l.length=0;for(var D=0,E=o.length-2;D<E;D++)l[D]=o[D]}else l.length=l.length-2;return h}}],[{key:"makeClockwise",value:function(e){for(var t=e,a=e.length,i=t[a-2]*t[1]-t[0]*t[a-1],r=0,n=0,s=0,o=0,l=a-3;o<l;o+=2)r=t[o],n=t[o+1],s=t[o+2],i+=r*t[o+3]-s*n;if(!(i<0))for(var h=0,c=a-2,u=a>>1;h<u;h+=2){var d=t[h],f=t[h+1],m=c-h;t[h]=t[m],t[h+1]=t[m+1],t[m]=d,t[m+1]=f}}}]),SkeletonClipping}();e.SkeletonClipping=t}(spine||(spine={})),function(e){var t=function(){function SkeletonData(){_classCallCheck(this,SkeletonData),this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return _createClass(SkeletonData,[{key:"findBone",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findBoneIndex",value:function(e){if(!e)throw new Error("boneName cannot be null.");for(var t=this.bones,a=0,i=t.length;a<i;a++)if(t[a].name==e)return a;return-1}},{key:"findSlot",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findSlotIndex",value:function(e){if(!e)throw new Error("slotName cannot be null.");for(var t=this.slots,a=0,i=t.length;a<i;a++)if(t[a].name==e)return a;return-1}},{key:"findSkin",value:function(e){if(!e)throw new Error("skinName cannot be null.");for(var t=this.skins,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findEvent",value:function(e){if(!e)throw new Error("eventDataName cannot be null.");for(var t=this.events,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findAnimation",value:function(e){if(!e)throw new Error("animationName cannot be null.");for(var t=this.animations,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findIkConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.ikConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findTransformConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.transformConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}},{key:"findPathConstraint",value:function(e){if(!e)throw new Error("constraintName cannot be null.");for(var t=this.pathConstraints,a=0,i=t.length;a<i;a++){var r=t[a];if(r.name==e)return r}return null}}]),SkeletonData}();e.SkeletonData=t}(spine||(spine={})),function(e){var t=function(){function SkeletonJson(e){_classCallCheck(this,SkeletonJson),this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}return _createClass(SkeletonJson,[{key:"readSkeletonData",value:function(t){var a=this.scale,i=new e.SkeletonData,r="string"==typeof t?JSON.parse(t):t,n=r.skeleton;if(n&&(i.hash=n.hash,i.version=n.spine,i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height,i.fps=n.fps,i.imagesPath=n.images),r.bones)for(var s=0;s<r.bones.length;s++){var o=r.bones[s],l=null,h=getValue(o,"parent",null);h&&(l=i.findBone(h));var c=new e.BoneData(i.bones.length,o.name,l);c.length=getValue(o,"length",0)*a,c.x=getValue(o,"x",0)*a,c.y=getValue(o,"y",0)*a,c.rotation=getValue(o,"rotation",0),c.scaleX=getValue(o,"scaleX",1),c.scaleY=getValue(o,"scaleY",1),c.shearX=getValue(o,"shearX",0),c.shearY=getValue(o,"shearY",0),c.transformMode=e.Utils.enumValue(e.TransformMode,getValue(o,"transform","Normal")),c.skinRequired=getValue(o,"skin",!1);var u=getValue(o,"color",null);u&&c.color.setFromString(u),i.bones.push(c)}if(r.slots)for(var d=0;d<r.slots.length;d++){var f=r.slots[d],m=i.findBone(f.bone),v=new e.SlotData(i.slots.length,f.name,m),g=getValue(f,"color",null);g&&v.color.setFromString(g);var p=getValue(f,"dark",null);p&&(v.darkColor=e.Color.fromString(p)),v.attachmentName=getValue(f,"attachment",null),v.blendMode=e.Utils.enumValue(e.BlendMode,getValue(f,"blend","normal")),i.slots.push(v)}if(r.ik)for(var y=0;y<r.ik.length;y++){var k=r.ik[y],x=new e.IkConstraintData(k.name);x.order=getValue(k,"order",0),x.skinRequired=getValue(k,"skin",!1);for(var C=0;C<k.bones.length;C++)x.bones.push(i.findBone(k.bones[C]));x.target=i.findBone(k.target),x.mix=getValue(k,"mix",1),x.softness=getValue(k,"softness",0)*a,x.bendDirection=getValue(k,"bendPositive",!0)?1:-1,x.compress=getValue(k,"compress",!1),x.stretch=getValue(k,"stretch",!1),x.uniform=getValue(k,"uniform",!1),i.ikConstraints.push(x)}if(r.transform)for(var b=0;b<r.transform.length;b++){var w=r.transform[b],T=new e.TransformConstraintData(w.name);T.order=getValue(w,"order",0),T.skinRequired=getValue(w,"skin",!1);for(var S=0;S<w.bones.length;S++)T.bones.push(i.findBone(w.bones[S]));var A=w.target;T.target=i.findBone(A),T.local=getValue(w,"local",!1),T.relative=getValue(w,"relative",!1),T.offsetRotation=getValue(w,"rotation",0),T.offsetX=getValue(w,"x",0)*a,T.offsetY=getValue(w,"y",0)*a,T.offsetScaleX=getValue(w,"scaleX",0),T.offsetScaleY=getValue(w,"scaleY",0),T.offsetShearY=getValue(w,"shearY",0),T.mixRotate=getValue(w,"mixRotate",1),T.mixX=getValue(w,"mixX",1),T.mixY=getValue(w,"mixY",T.mixX),T.mixScaleX=getValue(w,"mixScaleX",1),T.mixScaleY=getValue(w,"mixScaleY",T.mixScaleX),T.mixShearY=getValue(w,"mixShearY",1),i.transformConstraints.push(T)}if(r.path)for(var M=0;M<r.path.length;M++){var I=r.path[M],Y=new e.PathConstraintData(I.name);Y.order=getValue(I,"order",0),Y.skinRequired=getValue(I,"skin",!1);for(var B=0;B<I.bones.length;B++)Y.bones.push(i.findBone(I.bones[B]));var _=I.target;Y.target=i.findSlot(_),Y.positionMode=e.Utils.enumValue(e.PositionMode,getValue(I,"positionMode","Percent")),Y.spacingMode=e.Utils.enumValue(e.SpacingMode,getValue(I,"spacingMode","Length")),Y.rotateMode=e.Utils.enumValue(e.RotateMode,getValue(I,"rotateMode","Tangent")),Y.offsetRotation=getValue(I,"rotation",0),Y.position=getValue(I,"position",0),Y.positionMode==e.PositionMode.Fixed&&(Y.position*=a),Y.spacing=getValue(I,"spacing",0),Y.spacingMode!=e.SpacingMode.Length&&Y.spacingMode!=e.SpacingMode.Fixed||(Y.spacing*=a),Y.mixRotate=getValue(I,"mixRotate",1),Y.mixX=getValue(I,"mixX",1),Y.mixY=getValue(I,"mixY",Y.mixX),i.pathConstraints.push(Y)}if(r.skins)for(var X=0;X<r.skins.length;X++){var V=r.skins[X],F=new e.Skin(V.name);if(V.bones)for(var P=0;P<V.bones.length;P++)F.bones.push(i.findBone(V.bones[P]));if(V.ik)for(var U=0;U<V.ik.length;U++)F.constraints.push(i.findIkConstraint(V.ik[U]));if(V.transform)for(var R=0;R<V.transform.length;R++)F.constraints.push(i.findTransformConstraint(V.transform[R]));if(V.path)for(var D=0;D<V.path.length;D++)F.constraints.push(i.findPathConstraint(V.path[D]));for(var E in V.attachments){var L=i.findSlot(E),N=V.attachments[E];for(var O in N){var z=this.readAttachment(N[O],F,L.index,O,i);z&&F.setAttachment(L.index,O,z)}}i.skins.push(F),"default"==F.name&&(i.defaultSkin=F)}for(var W=0,q=this.linkedMeshes.length;W<q;W++){var G=this.linkedMeshes[W],j=(G.skin?i.findSkin(G.skin):i.defaultSkin).getAttachment(G.slotIndex,G.parent);G.mesh.deformAttachment=G.inheritDeform?j:G.mesh,G.mesh.setParentMesh(j),G.mesh.updateUVs()}if(this.linkedMeshes.length=0,r.events)for(var H in r.events){var J=r.events[H],K=new e.EventData(H);K.intValue=getValue(J,"int",0),K.floatValue=getValue(J,"float",0),K.stringValue=getValue(J,"string",""),K.audioPath=getValue(J,"audio",null),K.audioPath&&(K.volume=getValue(J,"volume",1),K.balance=getValue(J,"balance",0)),i.events.push(K)}if(r.animations)for(var Q in r.animations){var $=r.animations[Q];this.readAnimation($,Q,i)}return i}},{key:"readAttachment",value:function(t,i,r,n,s){var o=this.scale;switch(n=getValue(t,"name",n),getValue(t,"type","region")){case"region":var l=getValue(t,"path",n),h=this.attachmentLoader.newRegionAttachment(i,n,l);if(!h)return null;h.path=l,h.x=getValue(t,"x",0)*o,h.y=getValue(t,"y",0)*o,h.scaleX=getValue(t,"scaleX",1),h.scaleY=getValue(t,"scaleY",1),h.rotation=getValue(t,"rotation",0),h.width=t.width*o,h.height=t.height*o;var c=getValue(t,"color",null);return c&&h.color.setFromString(c),h.updateOffset(),h;case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(i,n);if(!u)return null;this.readVertices(t,u,t.vertexCount<<1);var d=getValue(t,"color",null);return d&&u.color.setFromString(d),u;case"mesh":case"linkedmesh":var f=getValue(t,"path",n),m=this.attachmentLoader.newMeshAttachment(i,n,f);if(!m)return null;m.path=f;var v=getValue(t,"color",null);v&&m.color.setFromString(v),m.width=getValue(t,"width",0)*o,m.height=getValue(t,"height",0)*o;var g=getValue(t,"parent",null);if(g)return this.linkedMeshes.push(new a(m,getValue(t,"skin",null),r,g,getValue(t,"deform",!0))),m;var p=t.uvs;return this.readVertices(t,m,p.length),m.triangles=t.triangles,m.regionUVs=p,m.updateUVs(),m.edges=getValue(t,"edges",null),m.hullLength=2*getValue(t,"hull",0),m;case"path":var y=this.attachmentLoader.newPathAttachment(i,n);if(!y)return null;y.closed=getValue(t,"closed",!1),y.constantSpeed=getValue(t,"constantSpeed",!0);var k=t.vertexCount;this.readVertices(t,y,k<<1);for(var x=e.Utils.newArray(k/3,0),C=0;C<t.lengths.length;C++)x[C]=t.lengths[C]*o;y.lengths=x;var b=getValue(t,"color",null);return b&&y.color.setFromString(b),y;case"point":var w=this.attachmentLoader.newPointAttachment(i,n);if(!w)return null;w.x=getValue(t,"x",0)*o,w.y=getValue(t,"y",0)*o,w.rotation=getValue(t,"rotation",0);var T=getValue(t,"color",null);return T&&w.color.setFromString(T),w;case"clipping":var S=this.attachmentLoader.newClippingAttachment(i,n);if(!S)return null;var A=getValue(t,"end",null);A&&(S.endSlot=s.findSlot(A));var M=t.vertexCount;this.readVertices(t,S,M<<1);var I=getValue(t,"color",null);return I&&S.color.setFromString(I),S}return null}},{key:"readVertices",value:function(t,a,i){var r=this.scale;a.worldVerticesLength=i;var n=t.vertices;if(i!=n.length){for(var s=new Array,o=new Array,l=0,h=n.length;l<h;){var c=n[l++];o.push(c);for(var u=l+4*c;l<u;l+=4)o.push(n[l]),s.push(n[l+1]*r),s.push(n[l+2]*r),s.push(n[l+3])}a.bones=o,a.vertices=e.Utils.toFloatArray(s)}else{var d=e.Utils.toFloatArray(n);if(1!=r)for(var f=0,m=n.length;f<m;f++)d[f]*=r;a.vertices=d}}},{key:"readAnimation",value:function(t,a,i){var r=this.scale,n=new Array;if(t.slots)for(var s in t.slots){var o=t.slots[s],l=i.findSlotIndex(s);for(var h in o){var c=o[h];if(c)if("attachment"==h){for(var u=new e.AttachmentTimeline(c.length,l),d=0;d<c.length;d++){var f=c[d];u.setFrame(d,getValue(f,"time",0),f.name)}n.push(u)}else if("rgba"==h){for(var m=new e.RGBATimeline(c.length,c.length<<2,l),v=c[0],g=getValue(v,"time",0),p=e.Color.fromString(v.color),y=0,k=0;;y++){m.setFrame(y,g,p.r,p.g,p.b,p.a);var x=c[y+1];if(!x){m.shrink(k);break}var C=getValue(x,"time",0),b=e.Color.fromString(x.color),w=v.curve;w&&(k=readCurve(w,m,k,y,0,g,C,p.r,b.r,1),k=readCurve(w,m,k,y,1,g,C,p.g,b.g,1),k=readCurve(w,m,k,y,2,g,C,p.b,b.b,1),k=readCurve(w,m,k,y,3,g,C,p.a,b.a,1)),g=C,p=b,v=x}n.push(m)}else if("rgb"==h){for(var T=new e.RGBTimeline(c.length,3*c.length,l),S=c[0],A=getValue(S,"time",0),M=e.Color.fromString(S.color),I=0,Y=0;;I++){T.setFrame(I,A,M.r,M.g,M.b);var B=c[I+1];if(!B){T.shrink(Y);break}var _=getValue(B,"time",0),X=e.Color.fromString(B.color),V=S.curve;V&&(Y=readCurve(V,T,Y,I,0,A,_,M.r,X.r,1),Y=readCurve(V,T,Y,I,1,A,_,M.g,X.g,1),Y=readCurve(V,T,Y,I,2,A,_,M.b,X.b,1)),A=_,M=X,S=B}n.push(T)}else if("alpha"==h)n.push(readTimeline1(c,new e.AlphaTimeline(c.length,c.length,l),0,1));else if("rgba2"==h){for(var F=new e.RGBA2Timeline(c.length,7*c.length,l),P=c[0],U=getValue(P,"time",0),R=e.Color.fromString(P.light),D=e.Color.fromString(P.dark),E=0,L=0;;E++){F.setFrame(E,U,R.r,R.g,R.b,R.a,D.r,D.g,D.b);var N=c[E+1];if(!N){F.shrink(L);break}var O=getValue(N,"time",0),z=e.Color.fromString(N.light),W=e.Color.fromString(N.dark),q=P.curve;q&&(L=readCurve(q,F,L,E,0,U,O,R.r,z.r,1),L=readCurve(q,F,L,E,1,U,O,R.g,z.g,1),L=readCurve(q,F,L,E,2,U,O,R.b,z.b,1),L=readCurve(q,F,L,E,3,U,O,R.a,z.a,1),L=readCurve(q,F,L,E,4,U,O,D.r,W.r,1),L=readCurve(q,F,L,E,5,U,O,D.g,W.g,1),L=readCurve(q,F,L,E,6,U,O,D.b,W.b,1)),U=O,R=z,D=W,P=N}n.push(F)}else if("rgb2"==h){for(var G=new e.RGB2Timeline(c.length,6*c.length,l),j=c[0],H=getValue(j,"time",0),J=e.Color.fromString(j.light),K=e.Color.fromString(j.dark),Q=0,$=0;;Q++){G.setFrame(Q,H,J.r,J.g,J.b,K.r,K.g,K.b);var Z=c[Q+1];if(!Z){G.shrink($);break}var ee=getValue(Z,"time",0),te=e.Color.fromString(Z.light),ae=e.Color.fromString(Z.dark),ie=j.curve;ie&&($=readCurve(ie,G,$,Q,0,H,ee,J.r,te.r,1),$=readCurve(ie,G,$,Q,1,H,ee,J.g,te.g,1),$=readCurve(ie,G,$,Q,2,H,ee,J.b,te.b,1),$=readCurve(ie,G,$,Q,3,H,ee,K.r,ae.r,1),$=readCurve(ie,G,$,Q,4,H,ee,K.g,ae.g,1),$=readCurve(ie,G,$,Q,5,H,ee,K.b,ae.b,1)),H=ee,J=te,K=ae,j=Z}n.push(G)}}}if(t.bones)for(var re in t.bones){var ne=t.bones[re],se=i.findBoneIndex(re);for(var oe in ne){var le=ne[oe];if(0!=le.length)if("rotate"===oe)n.push(readTimeline1(le,new e.RotateTimeline(le.length,le.length,se),0,1));else if("translate"===oe){var he=new e.TranslateTimeline(le.length,le.length<<1,se);n.push(readTimeline2(le,he,"x","y",0,r))}else if("translatex"===oe){var ce=new e.TranslateXTimeline(le.length,le.length,se);n.push(readTimeline1(le,ce,0,r))}else if("translatey"===oe){var ue=new e.TranslateYTimeline(le.length,le.length,se);n.push(readTimeline1(le,ue,0,r))}else if("scale"===oe){var de=new e.ScaleTimeline(le.length,le.length<<1,se);n.push(readTimeline2(le,de,"x","y",1,1))}else if("scalex"===oe){var fe=new e.ScaleXTimeline(le.length,le.length,se);n.push(readTimeline1(le,fe,1,1))}else if("scaley"===oe){var me=new e.ScaleYTimeline(le.length,le.length,se);n.push(readTimeline1(le,me,1,1))}else if("shear"===oe){var ve=new e.ShearTimeline(le.length,le.length<<1,se);n.push(readTimeline2(le,ve,"x","y",0,1))}else if("shearx"===oe){var ge=new e.ShearXTimeline(le.length,le.length,se);n.push(readTimeline1(le,ge,0,1))}else if("sheary"===oe){var pe=new e.ShearYTimeline(le.length,le.length,se);n.push(readTimeline1(le,pe,0,1))}}}if(t.ik)for(var ye in t.ik){var ke=t.ik[ye],xe=ke[0];if(xe){for(var Ce=i.findIkConstraint(ye),be=i.ikConstraints.indexOf(Ce),we=new e.IkConstraintTimeline(ke.length,ke.length<<1,be),Te=getValue(xe,"time",0),Se=getValue(xe,"mix",1),Ae=getValue(xe,"softness",0)*r,Me=0,Ie=0;;Me++){we.setFrame(Me,Te,Se,Ae,getValue(xe,"bendPositive",!0)?1:-1,getValue(xe,"compress",!1),getValue(xe,"stretch",!1));var Ye=ke[Me+1];if(!Ye){we.shrink(Ie);break}var Be=getValue(Ye,"time",0),_e=getValue(Ye,"mix",1),Xe=getValue(Ye,"softness",0)*r,Ve=xe.curve;Ve&&(Ie=readCurve(Ve,we,Ie,Me,0,Te,Be,Se,_e,1),Ie=readCurve(Ve,we,Ie,Me,1,Te,Be,Ae,Xe,r)),Te=Be,Se=_e,Ae=Xe,xe=Ye}n.push(we)}}if(t.transform)for(var Fe in t.transform){var Pe=t.transform[Fe],Ue=Pe[0];if(Ue){for(var Re=i.findTransformConstraint(Fe),De=i.transformConstraints.indexOf(Re),Ee=new e.TransformConstraintTimeline(Pe.length,Pe.length<<2,De),Le=getValue(Ue,"time",0),Ne=getValue(Ue,"mixRotate",1),Oe=getValue(Ue,"mixX",1),ze=getValue(Ue,"mixY",Oe),We=getValue(Ue,"mixScaleX",1),qe=getValue(Ue,"mixScaleY",We),Ge=getValue(Ue,"mixShearY",1),je=0,He=0;;je++){Ee.setFrame(je,Le,Ne,Oe,ze,We,qe,Ge);var Je=Pe[je+1];if(!Je){Ee.shrink(He);break}var Ke=getValue(Je,"time",0),Qe=getValue(Je,"mixRotate",1),$e=getValue(Je,"mixX",1),Ze=getValue(Je,"mixY",$e),et=getValue(Je,"mixScaleX",1),tt=getValue(Je,"mixScaleY",et),at=getValue(Je,"mixShearY",1),it=Ue.curve;it&&(He=readCurve(it,Ee,He,je,0,Le,Ke,Ne,Qe,1),He=readCurve(it,Ee,He,je,1,Le,Ke,Oe,$e,1),He=readCurve(it,Ee,He,je,2,Le,Ke,ze,Ze,1),He=readCurve(it,Ee,He,je,3,Le,Ke,We,et,1),He=readCurve(it,Ee,He,je,4,Le,Ke,qe,tt,1),He=readCurve(it,Ee,He,je,5,Le,Ke,Ge,at,1)),Le=Ke,Ne=Qe,Oe=$e,ze=Ze,We=et,qe=tt,We=et,Ue=Je}n.push(Ee)}}if(t.path)for(var rt in t.path){var nt=t.path[rt],st=i.findPathConstraint(rt),ot=i.pathConstraints.indexOf(st);for(var lt in nt){var ht=nt[lt],ct=ht[0];if(ct)if("position"===lt){var ut=new e.PathConstraintPositionTimeline(ht.length,ht.length,ot);n.push(readTimeline1(ht,ut,0,st.positionMode==e.PositionMode.Fixed?r:1))}else if("spacing"===lt){var dt=new e.PathConstraintSpacingTimeline(ht.length,ht.length,ot);n.push(readTimeline1(ht,dt,0,st.spacingMode==e.SpacingMode.Length||st.spacingMode==e.SpacingMode.Fixed?r:1))}else if("mix"===lt){for(var ft=new e.PathConstraintMixTimeline(ht.length,3*ht.length,ot),mt=getValue(ct,"time",0),vt=getValue(ct,"mixRotate",1),gt=getValue(ct,"mixX",1),pt=getValue(ct,"mixY",gt),yt=0,kt=0;;yt++){ft.setFrame(yt,mt,vt,gt,pt);var xt=ht[yt+1];if(!xt){ft.shrink(kt);break}var Ct=getValue(xt,"time",0),bt=getValue(xt,"mixRotate",1),wt=getValue(xt,"mixX",1),Tt=getValue(xt,"mixY",wt),St=ct.curve;St&&(kt=readCurve(St,ft,kt,yt,0,mt,Ct,vt,bt,1),kt=readCurve(St,ft,kt,yt,1,mt,Ct,gt,wt,1),kt=readCurve(St,ft,kt,yt,2,mt,Ct,pt,Tt,1)),mt=Ct,vt=bt,gt=wt,pt=Tt,ct=xt}n.push(ft)}}}if(t.deform)for(var At in t.deform){var Mt=t.deform[At],It=i.findSkin(At);for(var Yt in Mt){var Bt=Mt[Yt],_t=i.findSlotIndex(Yt);for(var Xt in Bt){var Vt=Bt[Xt],Ft=Vt[0];if(Ft){for(var Pt=It.getAttachment(_t,Xt),Ut=Pt.bones,Rt=Pt.vertices,Dt=Ut?Rt.length/3*2:Rt.length,Et=new e.DeformTimeline(Vt.length,Vt.length,_t,Pt),Lt=getValue(Ft,"time",0),Nt=0,Ot=0;;Nt++){var zt=void 0,Wt=getValue(Ft,"vertices",null);if(Wt){zt=e.Utils.newFloatArray(Dt);var qt=getValue(Ft,"offset",0);if(e.Utils.arrayCopy(Wt,0,zt,qt,Wt.length),1!=r)for(var Gt=qt,jt=Gt+Wt.length;Gt<jt;Gt++)zt[Gt]*=r;if(!Ut)for(var Ht=0;Ht<Dt;Ht++)zt[Ht]+=Rt[Ht]}else zt=Ut?e.Utils.newFloatArray(Dt):Rt;Et.setFrame(Nt,Lt,zt);var Jt=Vt[Nt+1];if(!Jt){Et.shrink(Ot);break}var Kt=getValue(Jt,"time",0),Qt=Ft.curve;Qt&&(Ot=readCurve(Qt,Et,Ot,Nt,0,Lt,Kt,0,1,1)),Lt=Kt,Ft=Jt}n.push(Et)}}}}if(t.drawOrder){for(var $t=new e.DrawOrderTimeline(t.drawOrder.length),Zt=i.slots.length,ea=0,ta=0;ta<t.drawOrder.length;ta++,ea++){var aa=t.drawOrder[ta],ia=null,ra=getValue(aa,"offsets",null);if(ra){ia=e.Utils.newArray(Zt,-1);for(var na=e.Utils.newArray(Zt-ra.length,0),sa=0,oa=0,la=0;la<ra.length;la++){for(var ha=ra[la],ca=i.findSlotIndex(ha.slot);sa!=ca;)na[oa++]=sa++;ia[sa+ha.offset]=sa++}for(;sa<Zt;)na[oa++]=sa++;for(var ua=Zt-1;ua>=0;ua--)-1==ia[ua]&&(ia[ua]=na[--oa])}$t.setFrame(ea,getValue(aa,"time",0),ia)}n.push($t)}if(t.events){for(var da=new e.EventTimeline(t.events.length),fa=0,ma=0;ma<t.events.length;ma++,fa++){var va=t.events[ma],ga=i.findEvent(va.name),pa=new e.Event(e.Utils.toSinglePrecision(getValue(va,"time",0)),ga);pa.intValue=getValue(va,"int",ga.intValue),pa.floatValue=getValue(va,"float",ga.floatValue),pa.stringValue=getValue(va,"string",ga.stringValue),pa.data.audioPath&&(pa.volume=getValue(va,"volume",1),pa.balance=getValue(va,"balance",0)),da.setFrame(fa,pa)}n.push(da)}for(var ya=0,ka=0,xa=n.length;ka<xa;ka++)ya=Math.max(ya,n[ka].getDuration());i.animations.push(new e.Animation(a,n,ya))}}]),SkeletonJson}();e.SkeletonJson=t;var a=_createClass(function LinkedMesh(e,t,a,i,r){_classCallCheck(this,LinkedMesh),this.mesh=e,this.skin=t,this.slotIndex=a,this.parent=i,this.inheritDeform=r});function readTimeline1(e,t,a,i){for(var r=e[0],n=getValue(r,"time",0),s=getValue(r,"value",a)*i,o=0,l=0;;l++){t.setFrame(l,n,s);var h=e[l+1];if(!h)return t.shrink(o),t;var c=getValue(h,"time",0),u=getValue(h,"value",a)*i;r.curve&&(o=readCurve(r.curve,t,o,l,0,n,c,s,u,i)),n=c,s=u,r=h}}function readTimeline2(e,t,a,i,r,n){for(var s=e[0],o=getValue(s,"time",0),l=getValue(s,a,r)*n,h=getValue(s,i,r)*n,c=0,u=0;;u++){t.setFrame(u,o,l,h);var d=e[u+1];if(!d)return t.shrink(c),t;var f=getValue(d,"time",0),m=getValue(d,a,r)*n,v=getValue(d,i,r)*n,g=s.curve;g&&(c=readCurve(g,t,c,u,0,o,f,l,m,n),c=readCurve(g,t,c,u,1,o,f,h,v,n)),o=f,l=m,h=v,s=d}}function readCurve(e,t,a,i,r,n,s,o,l,h){if("stepped"==e)return t.setStepped(i),a;var c=r<<2,u=e[c],d=e[c+1]*h,f=e[c+2],m=e[c+3]*h;return t.setBezier(a,i,r,n,o,u,d,f,m,s,l),a+1}function getValue(e,t,a){return void 0!==e[t]?e[t]:a}}(spine||(spine={})),function(e){var t=_createClass(function SkinEntry(e,t,a){_classCallCheck(this,SkinEntry),this.slotIndex=e,this.name=t,this.attachment=a});e.SkinEntry=t;var a=function(){function Skin(e){if(_classCallCheck(this,Skin),this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}return _createClass(Skin,[{key:"setAttachment",value:function(e,t,a){if(!a)throw new Error("attachment cannot be null.");var i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=a}},{key:"addSkin",value:function(e){for(var t=0;t<e.bones.length;t++){for(var a=e.bones[t],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==a){i=!0;break}i||this.bones.push(a)}for(var n=0;n<e.constraints.length;n++){for(var s=e.constraints[n],o=!1,l=0;l<this.constraints.length;l++)if(this.constraints[l]==s){o=!0;break}o||this.constraints.push(s)}for(var h=e.getAttachments(),c=0;c<h.length;c++){var u=h[c];this.setAttachment(u.slotIndex,u.name,u.attachment)}}},{key:"copySkin",value:function(t){for(var a=0;a<t.bones.length;a++){for(var i=t.bones[a],r=!1,n=0;n<this.bones.length;n++)if(this.bones[n]==i){r=!0;break}r||this.bones.push(i)}for(var s=0;s<t.constraints.length;s++){for(var o=t.constraints[s],l=!1,h=0;h<this.constraints.length;h++)if(this.constraints[h]==o){l=!0;break}l||this.constraints.push(o)}for(var c=t.getAttachments(),u=0;u<c.length;u++){var d=c[u];d.attachment&&(d.attachment instanceof e.MeshAttachment?(d.attachment=d.attachment.newLinkedMesh(),this.setAttachment(d.slotIndex,d.name,d.attachment)):(d.attachment=d.attachment.copy(),this.setAttachment(d.slotIndex,d.name,d.attachment)))}}},{key:"getAttachment",value:function(e,t){var a=this.attachments[e];return a?a[t]:null}},{key:"removeAttachment",value:function(e,t){var a=this.attachments[e];a&&(a[t]=null)}},{key:"getAttachments",value:function(){for(var e=new Array,a=0;a<this.attachments.length;a++){var i=this.attachments[a];if(i)for(var r in i){var n=i[r];n&&e.push(new t(a,r,n))}}return e}},{key:"getAttachmentsForSlot",value:function(e,a){var i=this.attachments[e];if(i)for(var r in i){var n=i[r];n&&a.push(new t(e,r,n))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(e,t){for(var a=0,i=0;i<e.slots.length;i++){var r=e.slots[i],n=r.getAttachment();if(n&&a<t.attachments.length){var s=t.attachments[a];for(var o in s){if(n==s[o]){var l=this.getAttachment(a,o);l&&r.setAttachment(l);break}}}a++}}}]),Skin}();e.Skin=a}(spine||(spine={})),function(e){var t=function(){function Slot(t,a){if(_classCallCheck(this,Slot),this.deform=new Array,!t)throw new Error("data cannot be null.");if(!a)throw new Error("bone cannot be null.");this.data=t,this.bone=a,this.color=new e.Color,this.darkColor=t.darkColor?new e.Color:null,this.setToSetupPose()}return _createClass(Slot,[{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(t instanceof e.VertexAttachment&&this.attachment instanceof e.VertexAttachment&&t.deformAttachment==this.attachment.deformAttachment||(this.deform.length=0),this.attachment=t,this.attachmentTime=this.bone.skeleton.time)}},{key:"setAttachmentTime",value:function(e){this.attachmentTime=this.bone.skeleton.time-e}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}]),Slot}();e.Slot=t}(spine||(spine={})),function(e){var t=_createClass(function SlotData(t,a,i){if(_classCallCheck(this,SlotData),this.color=new e.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(!a)throw new Error("name cannot be null.");if(!i)throw new Error("boneData cannot be null.");this.index=t,this.name=a,this.boneData=i});e.SlotData=t,function(e){e[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(e.BlendMode||(e.BlendMode={}))}(spine||(spine={})),function(e){var t=function(){function Texture(e){_classCallCheck(this,Texture),this._image=e}return _createClass(Texture,[{key:"getImage",value:function(){return this._image}}]),Texture}();e.Texture=t,function(e){e[e.Nearest=9728]="Nearest",e[e.Linear=9729]="Linear",e[e.MipMap=9987]="MipMap",e[e.MipMapNearestNearest=9984]="MipMapNearestNearest",e[e.MipMapLinearNearest=9985]="MipMapLinearNearest",e[e.MipMapNearestLinear=9986]="MipMapNearestLinear",e[e.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e.TextureFilter||(e.TextureFilter={})),function(e){e[e.MirroredRepeat=33648]="MirroredRepeat",e[e.ClampToEdge=33071]="ClampToEdge",e[e.Repeat=10497]="Repeat"}(e.TextureWrap||(e.TextureWrap={}));var a=_createClass(function TextureRegion(){_classCallCheck(this,TextureRegion),this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.degrees=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0});e.TextureRegion=a;var i=function(e){_inherits(FakeTexture,t);var a=_createSuper(FakeTexture);function FakeTexture(){return _classCallCheck(this,FakeTexture),a.apply(this,arguments)}return _createClass(FakeTexture,[{key:"setFilters",value:function(e,t){}},{key:"setWraps",value:function(e,t){}},{key:"dispose",value:function(){}}]),FakeTexture}();e.FakeTexture=i}(spine||(spine={})),function(e){var t=function(){function TextureAtlas(t){_classCallCheck(this,TextureAtlas),this.pages=new Array,this.regions=new Array;for(var n=new a(t),s=new Array(4),o=null,l=null,h={size:function(){o.width=parseInt(s[1]),o.height=parseInt(s[2])},format:function(){},filter:function(){o.minFilter=e.Utils.enumValue(e.TextureFilter,s[1]),o.magFilter=e.Utils.enumValue(e.TextureFilter,s[2])},repeat:function(){-1!=s[1].indexOf("x")&&(o.uWrap=e.TextureWrap.Repeat),-1!=s[1].indexOf("y")&&(o.vWrap=e.TextureWrap.Repeat)},pma:function(){o.pma="true"==s[1]}},c={xy:function(){l.x=parseInt(s[1]),l.y=parseInt(s[2])},size:function(){l.width=parseInt(s[1]),l.height=parseInt(s[2])},bounds:function(){l.x=parseInt(s[1]),l.y=parseInt(s[2]),l.width=parseInt(s[3]),l.height=parseInt(s[4])},offset:function(){l.offsetX=parseInt(s[1]),l.offsetY=parseInt(s[2])},orig:function(){l.originalWidth=parseInt(s[1]),l.originalHeight=parseInt(s[2])},offsets:function(){l.offsetX=parseInt(s[1]),l.offsetY=parseInt(s[2]),l.originalWidth=parseInt(s[3]),l.originalHeight=parseInt(s[4])},rotate:function(){var e=s[1];"true"==e?l.degrees=90:"false"!=e&&(l.degrees=parseInt(e))},index:function(){l.index=parseInt(s[1])}},u=n.readLine();u&&0==u.trim().length;)u=n.readLine();for(;u&&0!=u.trim().length&&0!=n.readEntry(s,u);)u=n.readLine();for(var d=null,f=null;null!==u;)if(0==u.trim().length)o=null,u=n.readLine();else if(o){for((l=new r).page=o,l.name=u;;){var m=n.readEntry(s,u=n.readLine());if(0==m)break;var v=c[s[0]];if(v)v();else{d||(d=[],f=[]),d.push(s[0]);for(var g=[],p=0;p<m;p++)g.push(parseInt(s[p+1]));f.push(g)}}0==l.originalWidth&&0==l.originalHeight&&(l.originalWidth=l.width,l.originalHeight=l.height),d&&d.length>0&&(l.names=d,l.values=f,d=null,f=null),l.u=l.x/o.width,l.v=l.y/o.height,90==l.degrees?(l.u2=(l.x+l.height)/o.width,l.v2=(l.y+l.width)/o.height):(l.u2=(l.x+l.width)/o.width,l.v2=(l.y+l.height)/o.height),this.regions.push(l)}else{for((o=new i).name=u.trim();0!=n.readEntry(s,u=n.readLine());){var y=h[s[0]];y&&y()}this.pages.push(o)}}return _createClass(TextureAtlas,[{key:"findRegion",value:function(e){for(var t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}},{key:"setTextures",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=_createForOfIteratorHelper(this.pages);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.setTexture(e.get(a+r.name))}}catch(e){i.e(e)}finally{i.f()}}},{key:"dispose",value:function(){for(var e=0;e<this.pages.length;e++)this.pages[e].texture.dispose()}}]),TextureAtlas}();e.TextureAtlas=t;var a=function(){function TextureAtlasReader(e){_classCallCheck(this,TextureAtlasReader),this.index=0,this.lines=e.split(/\r\n|\r|\n/)}return _createClass(TextureAtlasReader,[{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(e,t){if(!t)return 0;if(0==(t=t.trim()).length)return 0;var a=t.indexOf(":");if(-1==a)return 0;e[0]=t.substr(0,a).trim();for(var i=1,r=a+1;;i++){var n=t.indexOf(",",r);if(-1==n)return e[i]=t.substr(r).trim(),i;if(e[i]=t.substr(r,n-r).trim(),r=n+1,4==i)return 4}}}]),TextureAtlasReader}(),i=function(){function TextureAtlasPage(){_classCallCheck(this,TextureAtlasPage),this.minFilter=e.TextureFilter.Nearest,this.magFilter=e.TextureFilter.Nearest,this.uWrap=e.TextureWrap.ClampToEdge,this.vWrap=e.TextureWrap.ClampToEdge}return _createClass(TextureAtlasPage,[{key:"setTexture",value:function(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap)}}]),TextureAtlasPage}();e.TextureAtlasPage=i;var r=function(t){_inherits(TextureAtlasRegion,e.TextureRegion);var a=_createSuper(TextureAtlasRegion);function TextureAtlasRegion(){return _classCallCheck(this,TextureAtlasRegion),a.apply(this,arguments)}return _createClass(TextureAtlasRegion)}();e.TextureAtlasRegion=r}(spine||(spine={})),function(e){var t=function(){function TransformConstraint(t,a){if(_classCallCheck(this,TransformConstraint),this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new e.Vector2,this.active=!1,!t)throw new Error("data cannot be null.");if(!a)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var i=0;i<t.bones.length;i++)this.bones.push(a.findBone(t.bones[i].name));this.target=a.findBone(t.target.name)}return _createClass(TransformConstraint,[{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.mixRotate,a=this.mixX,i=this.mixY,r=this.mixScaleX,n=this.mixScaleY,s=this.mixShearY,o=0!=a||0!=i,l=this.target,h=l.a,c=l.b,u=l.c,d=l.d,f=h*d-c*u>0?e.MathUtils.degRad:-e.MathUtils.degRad,m=this.data.offsetRotation*f,v=this.data.offsetShearY*f,g=this.bones,p=0,y=g.length;p<y;p++){var k=g[p];if(0!=t){var x=k.a,C=k.b,b=k.c,w=k.d,T=Math.atan2(u,h)-Math.atan2(b,x)+m;T>e.MathUtils.PI?T-=e.MathUtils.PI2:T<-e.MathUtils.PI&&(T+=e.MathUtils.PI2),T*=t;var S=Math.cos(T),A=Math.sin(T);k.a=S*x-A*b,k.b=S*C-A*w,k.c=A*x+S*b,k.d=A*C+S*w}if(o){var M=this.temp;l.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),k.worldX+=(M.x-k.worldX)*a,k.worldY+=(M.y-k.worldY)*i}if(0!=r){var I=Math.sqrt(k.a*k.a+k.c*k.c);0!=I&&(I=(I+(Math.sqrt(h*h+u*u)-I+this.data.offsetScaleX)*r)/I),k.a*=I,k.c*=I}if(0!=n){var Y=Math.sqrt(k.b*k.b+k.d*k.d);0!=Y&&(Y=(Y+(Math.sqrt(c*c+d*d)-Y+this.data.offsetScaleY)*n)/Y),k.b*=Y,k.d*=Y}if(s>0){var B=k.b,_=k.d,X=Math.atan2(_,B),V=Math.atan2(d,c)-Math.atan2(u,h)-(X-Math.atan2(k.c,k.a));V>e.MathUtils.PI?V-=e.MathUtils.PI2:V<-e.MathUtils.PI&&(V+=e.MathUtils.PI2),V=X+(V+v)*s;var F=Math.sqrt(B*B+_*_);k.b=Math.cos(V)*F,k.d=Math.sin(V)*F}k.updateAppliedTransform()}}},{key:"applyRelativeWorld",value:function(){for(var t=this.mixRotate,a=this.mixX,i=this.mixY,r=this.mixScaleX,n=this.mixScaleY,s=this.mixShearY,o=0!=a||0!=i,l=this.target,h=l.a,c=l.b,u=l.c,d=l.d,f=h*d-c*u>0?e.MathUtils.degRad:-e.MathUtils.degRad,m=this.data.offsetRotation*f,v=this.data.offsetShearY*f,g=this.bones,p=0,y=g.length;p<y;p++){var k=g[p];if(0!=t){var x=k.a,C=k.b,b=k.c,w=k.d,T=Math.atan2(u,h)+m;T>e.MathUtils.PI?T-=e.MathUtils.PI2:T<-e.MathUtils.PI&&(T+=e.MathUtils.PI2),T*=t;var S=Math.cos(T),A=Math.sin(T);k.a=S*x-A*b,k.b=S*C-A*w,k.c=A*x+S*b,k.d=A*C+S*w}if(o){var M=this.temp;l.localToWorld(M.set(this.data.offsetX,this.data.offsetY)),k.worldX+=M.x*a,k.worldY+=M.y*i}if(0!=r){var I=(Math.sqrt(h*h+u*u)-1+this.data.offsetScaleX)*r+1;k.a*=I,k.c*=I}if(0!=n){var Y=(Math.sqrt(c*c+d*d)-1+this.data.offsetScaleY)*n+1;k.b*=Y,k.d*=Y}if(s>0){var B=Math.atan2(d,c)-Math.atan2(u,h);B>e.MathUtils.PI?B-=e.MathUtils.PI2:B<-e.MathUtils.PI&&(B+=e.MathUtils.PI2);var _=k.b,X=k.d;B=Math.atan2(X,_)+(B-e.MathUtils.PI/2+v)*s;var V=Math.sqrt(_*_+X*X);k.b=Math.cos(B)*V,k.d=Math.sin(B)*V}k.updateAppliedTransform()}}},{key:"applyAbsoluteLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,a=this.mixY,i=this.mixScaleX,r=this.mixScaleY,n=this.mixShearY,s=this.target,o=this.bones,l=0,h=o.length;l<h;l++){var c=o[l],u=c.arotation;if(0!=e){var d=s.arotation-u+this.data.offsetRotation;u+=(d-=360*(16384-(16384.499999999996-d/360|0)))*e}var f=c.ax,m=c.ay;f+=(s.ax-f+this.data.offsetX)*t,m+=(s.ay-m+this.data.offsetY)*a;var v=c.ascaleX,g=c.ascaleY;0!=i&&0!=v&&(v=(v+(s.ascaleX-v+this.data.offsetScaleX)*i)/v),0!=r&&0!=g&&(g=(g+(s.ascaleY-g+this.data.offsetScaleY)*r)/g);var p=c.ashearY;if(0!=n){var y=s.ashearY-p+this.data.offsetShearY;p+=(y-=360*(16384-(16384.499999999996-y/360|0)))*n}c.updateWorldTransformWith(f,m,u,v,g,c.ashearX,p)}}},{key:"applyRelativeLocal",value:function(){for(var e=this.mixRotate,t=this.mixX,a=this.mixY,i=this.mixScaleX,r=this.mixScaleY,n=this.mixShearY,s=this.target,o=this.bones,l=0,h=o.length;l<h;l++){var c=o[l],u=c.arotation+(s.arotation+this.data.offsetRotation)*e,d=c.ax+(s.ax+this.data.offsetX)*t,f=c.ay+(s.ay+this.data.offsetY)*a,m=c.ascaleX*((s.ascaleX-1+this.data.offsetScaleX)*i)+1,v=c.ascaleY*((s.ascaleY-1+this.data.offsetScaleY)*r)+1,g=c.ashearY+(s.ashearY+this.data.offsetShearY)*n;c.updateWorldTransformWith(d,f,u,m,v,c.ashearX,g)}}}]),TransformConstraint}();e.TransformConstraint=t}(spine||(spine={})),function(e){var t=function(t){_inherits(TransformConstraintData,e.ConstraintData);var a=_createSuper(TransformConstraintData);function TransformConstraintData(e){var t;return _classCallCheck(this,TransformConstraintData),(t=a.call(this,e,0,!1)).bones=new Array,t.mixRotate=0,t.mixX=0,t.mixY=0,t.mixScaleX=0,t.mixScaleY=0,t.mixShearY=0,t.offsetRotation=0,t.offsetX=0,t.offsetY=0,t.offsetScaleX=0,t.offsetScaleY=0,t.offsetShearY=0,t.relative=!1,t.local=!1,t}return _createClass(TransformConstraintData)}();e.TransformConstraintData=t}(spine||(spine={})),function(e){var t=function(){function Triangulator(){_classCallCheck(this,Triangulator),this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}return _createClass(Triangulator,[{key:"triangulate",value:function(e){var t=e,a=e.length>>1,i=this.indicesArray;i.length=0;for(var r=0;r<a;r++)i[r]=r;var n=this.isConcaveArray;n.length=0;for(var s=0,o=a;s<o;++s)n[s]=Triangulator.isConcave(s,a,t,i);var l=this.triangles;for(l.length=0;a>3;){for(var h=a-1,c=0,u=1;;){e:if(!n[c]){for(var d=i[h]<<1,f=i[c]<<1,m=i[u]<<1,v=t[d],g=t[d+1],p=t[f],y=t[f+1],k=t[m],x=t[m+1],C=(u+1)%a;C!=h;C=(C+1)%a)if(n[C]){var b=i[C]<<1,w=t[b],T=t[b+1];if(Triangulator.positiveArea(k,x,v,g,w,T)&&Triangulator.positiveArea(v,g,p,y,w,T)&&Triangulator.positiveArea(p,y,k,x,w,T))break e}break}if(0==u){do{if(!n[c])break;c--}while(c>0);break}h=c,c=u,u=(u+1)%a}l.push(i[(a+c-1)%a]),l.push(i[c]),l.push(i[(c+1)%a]),i.splice(c,1),n.splice(c,1);var S=(--a+c-1)%a,A=c==a?0:c;n[S]=Triangulator.isConcave(S,a,t,i),n[A]=Triangulator.isConcave(A,a,t,i)}return 3==a&&(l.push(i[2]),l.push(i[0]),l.push(i[1])),l}},{key:"decompose",value:function(e,t){var a=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var r=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(r),r.length=0;var n=this.polygonIndicesPool.obtain();n.length=0;var s=this.polygonPool.obtain();s.length=0;for(var o=-1,l=0,h=0,c=t.length;h<c;h+=3){var u=t[h]<<1,d=t[h+1]<<1,f=t[h+2]<<1,m=a[u],v=a[u+1],g=a[d],p=a[d+1],y=a[f],k=a[f+1],x=!1;if(o==u){var C=s.length-4,b=Triangulator.winding(s[C],s[C+1],s[C+2],s[C+3],y,k),w=Triangulator.winding(y,k,s[0],s[1],s[2],s[3]);b==l&&w==l&&(s.push(y),s.push(k),n.push(f),x=!0)}x||(s.length>0?(i.push(s),r.push(n)):(this.polygonPool.free(s),this.polygonIndicesPool.free(n)),(s=this.polygonPool.obtain()).length=0,s.push(m),s.push(v),s.push(g),s.push(p),s.push(y),s.push(k),(n=this.polygonIndicesPool.obtain()).length=0,n.push(u),n.push(d),n.push(f),l=Triangulator.winding(m,v,g,p,y,k),o=u)}s.length>0&&(i.push(s),r.push(n));for(var T=0,S=i.length;T<S;T++)if(0!=(n=r[T]).length)for(var A=n[0],M=n[n.length-1],I=(s=i[T]).length-4,Y=s[I],B=s[I+1],_=s[I+2],X=s[I+3],V=s[0],F=s[1],P=s[2],U=s[3],R=Triangulator.winding(Y,B,_,X,V,F),D=0;D<S;D++)if(D!=T){var E=r[D];if(3==E.length){var L=E[0],N=E[1],O=E[2],z=i[D],W=z[z.length-2],q=z[z.length-1];if(L==A&&N==M){var G=Triangulator.winding(Y,B,_,X,W,q),j=Triangulator.winding(W,q,V,F,P,U);G==R&&j==R&&(z.length=0,E.length=0,s.push(W),s.push(q),n.push(O),Y=_,B=X,_=W,X=q,D=0)}}}for(var H=i.length-1;H>=0;H--)0==(s=i[H]).length&&(i.splice(H,1),this.polygonPool.free(s),n=r[H],r.splice(H,1),this.polygonIndicesPool.free(n));return i}}],[{key:"isConcave",value:function(e,t,a,i){var r=i[(t+e-1)%t]<<1,n=i[e]<<1,s=i[(e+1)%t]<<1;return!this.positiveArea(a[r],a[r+1],a[n],a[n+1],a[s],a[s+1])}},{key:"positiveArea",value:function(e,t,a,i,r,n){return e*(n-i)+a*(t-n)+r*(i-t)>=0}},{key:"winding",value:function(e,t,a,i,r,n){var s=a-e,o=i-t;return r*o-n*s+s*t-e*o>=0?1:-1}}]),Triangulator}();e.Triangulator=t}(spine||(spine={})),function(e){var t=function(){function IntSet(){_classCallCheck(this,IntSet),this.array=new Array}return _createClass(IntSet,[{key:"add",value:function(e){var t=this.contains(e);return this.array[0|e]=0|e,!t}},{key:"contains",value:function(e){return null!=this.array[0|e]}},{key:"remove",value:function(e){this.array[0|e]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),IntSet}();e.IntSet=t;var a=function(){function StringSet(){_classCallCheck(this,StringSet),this.entries={},this.size=0}return _createClass(StringSet,[{key:"add",value:function(e){var t=this.entries[e];return this.entries[e]=!0,!t&&(this.size++,!0)}},{key:"addAll",value:function(e){for(var t=this.size,a=0,i=e.length;a<i;a++)this.add(e[a]);return t!=this.size}},{key:"contains",value:function(e){return this.entries[e]}},{key:"clear",value:function(){this.entries={},this.size=0}}]),StringSet}();e.StringSet=a;var i=function(){function Color(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,Color),this.r=e,this.g=t,this.b=a,this.a=i}return _createClass(Color,[{key:"set",value:function(e,t,a,i){return this.r=e,this.g=t,this.b=a,this.a=i,this.clamp()}},{key:"setFromColor",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"setFromString",value:function(e){return e="#"==e.charAt(0)?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=8!=e.length?1:parseInt(e.substr(6,2),16)/255,this}},{key:"add",value:function(e,t,a,i){return this.r+=e,this.g+=t,this.b+=a,this.a+=i,this.clamp()}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"rgba8888ToColor",value:function(e,t){e.r=((4278190080&t)>>>24)/255,e.g=((16711680&t)>>>16)/255,e.b=((65280&t)>>>8)/255,e.a=(255&t)/255}},{key:"rgb888ToColor",value:function(e,t){e.r=((16711680&t)>>>16)/255,e.g=((65280&t)>>>8)/255,e.b=(255&t)/255}},{key:"fromString",value:function(e){return(new Color).setFromString(e)}}]),Color}();i.WHITE=new i(1,1,1,1),i.RED=new i(1,0,0,1),i.GREEN=new i(0,1,0,1),i.BLUE=new i(0,0,1,1),i.MAGENTA=new i(1,0,1,1),e.Color=i;var r=function(){function MathUtils(){_classCallCheck(this,MathUtils)}return _createClass(MathUtils,null,[{key:"clamp",value:function(e,t,a){return e<t?t:e>a?a:e}},{key:"cosDeg",value:function(e){return Math.cos(e*MathUtils.degRad)}},{key:"sinDeg",value:function(e){return Math.sin(e*MathUtils.degRad)}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}},{key:"toInt",value:function(e){return e>0?Math.floor(e):Math.ceil(e)}},{key:"cbrt",value:function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}},{key:"randomTriangular",value:function(e,t){return MathUtils.randomTriangularWith(e,t,.5*(e+t))}},{key:"randomTriangularWith",value:function(e,t,a){var i=Math.random(),r=t-e;return i<=(a-e)/r?e+Math.sqrt(i*r*(a-e)):t-Math.sqrt((1-i)*r*(t-a))}},{key:"isPowerOfTwo",value:function(e){return e&&0==(e&e-1)}}]),MathUtils}();r.PI=3.1415927,r.PI2=2*r.PI,r.radiansToDegrees=180/r.PI,r.radDeg=r.radiansToDegrees,r.degreesToRadians=r.PI/180,r.degRad=r.degreesToRadians,e.MathUtils=r;var n=function(){function Interpolation(){_classCallCheck(this,Interpolation)}return _createClass(Interpolation,[{key:"apply",value:function(e,t,a){return e+(t-e)*this.applyInternal(a)}}]),Interpolation}();e.Interpolation=n;var s=function(e){_inherits(Pow,n);var t=_createSuper(Pow);function Pow(e){var a;return _classCallCheck(this,Pow),(a=t.call(this)).power=2,a.power=e,a}return _createClass(Pow,[{key:"applyInternal",value:function(e){return e<=.5?Math.pow(2*e,this.power)/2:Math.pow(2*(e-1),this.power)/(this.power%2==0?-2:2)+1}}]),Pow}();e.Pow=s;var o=function(e){_inherits(PowOut,s);var t=_createSuper(PowOut);function PowOut(e){return _classCallCheck(this,PowOut),t.call(this,e)}return _createClass(PowOut,[{key:"applyInternal",value:function(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1}}]),PowOut}();e.PowOut=o;var l=function(){function Utils(){_classCallCheck(this,Utils)}return _createClass(Utils,null,[{key:"arrayCopy",value:function(e,t,a,i,r){for(var n=t,s=i;n<t+r;n++,s++)a[s]=e[n]}},{key:"arrayFill",value:function(e,t,a,i){for(var r=t;r<a;r++)e[r]=i}},{key:"setArraySize",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.length;if(i==t)return e;if(e.length=t,i<t)for(var r=i;r<t;r++)e[r]=a;return e}},{key:"ensureArrayCapacity",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.length>=t?e:Utils.setArraySize(e,t,a)}},{key:"newArray",value:function(e,t){for(var a=new Array(e),i=0;i<e;i++)a[i]=t;return a}},{key:"newFloatArray",value:function(e){if(Utils.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var t=new Array(e),a=0;a<t.length;a++)t[a]=0;return t}},{key:"newShortArray",value:function(e){if(Utils.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var t=new Array(e),a=0;a<t.length;a++)t[a]=0;return t}},{key:"toFloatArray",value:function(e){return Utils.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}},{key:"toSinglePrecision",value:function(e){return Utils.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e}},{key:"webkit602BugfixHelper",value:function(e,t){}},{key:"contains",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(var a=0;a<e.length;a++)if(e[a]==t)return!0;return!1}},{key:"enumValue",value:function(e,t){return e[t[0].toUpperCase()+t.slice(1)]}}]),Utils}();l.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,e.Utils=l;var h=function(){function DebugUtils(){_classCallCheck(this,DebugUtils)}return _createClass(DebugUtils,null,[{key:"logBones",value:function(e){for(var t=0;t<e.bones.length;t++){var a=e.bones[t];console.log(a.data.name+", "+a.a+", "+a.b+", "+a.c+", "+a.d+", "+a.worldX+", "+a.worldY)}}}]),DebugUtils}();e.DebugUtils=h;var c=function(){function Pool(e){_classCallCheck(this,Pool),this.items=new Array,this.instantiator=e}return _createClass(Pool,[{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(e){e.reset&&e.reset(),this.items.push(e)}},{key:"freeAll",value:function(e){for(var t=0;t<e.length;t++)this.free(e[t])}},{key:"clear",value:function(){this.items.length=0}}]),Pool}();e.Pool=c;var u=function(){function Vector2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,Vector2),this.x=e,this.y=t}return _createClass(Vector2,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"normalize",value:function(){var e=this.length();return 0!=e&&(this.x/=e,this.y/=e),this}}]),Vector2}();e.Vector2=u;var d=function(){function TimeKeeper(){_classCallCheck(this,TimeKeeper),this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return _createClass(TimeKeeper,[{key:"update",value:function(){var e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),TimeKeeper}();e.TimeKeeper=d;var f=function(){function WindowedMean(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;_classCallCheck(this,WindowedMean),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(e)}return _createClass(WindowedMean,[{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(e){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=e,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var e=0,t=0;t<this.values.length;t++)e+=this.values[t];this.mean=e/this.values.length,this.dirty=!1}return this.mean}return 0}}]),WindowedMean}();e.WindowedMean=f}(spine||(spine={})),function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(e){var t=_createClass(function Attachment(e){if(_classCallCheck(this,Attachment),!e)throw new Error("name cannot be null.");this.name=e});e.Attachment=t;var a=function(a){_inherits(VertexAttachment,t);var i=_createSuper(VertexAttachment);function VertexAttachment(e){var t;return _classCallCheck(this,VertexAttachment),(t=i.call(this,e)).id=VertexAttachment.nextID++,t.worldVerticesLength=0,t.deformAttachment=_assertThisInitialized(t),t}return _createClass(VertexAttachment,[{key:"computeWorldVertices",value:function(e,t,a,i,r,n){a=r+(a>>1)*n;var s=e.bone.skeleton,o=e.deform,l=this.vertices,h=this.bones;if(h){for(var c=0,u=0,d=0;d<t;d+=2){var f=h[c];c+=f+1,u+=f}var m=s.bones;if(0==o.length)for(var v=r,g=3*u;v<a;v+=n){var p=0,y=0,k=h[c++];for(k+=c;c<k;c++,g+=3){var x=m[h[c]],C=l[g],b=l[g+1],w=l[g+2];p+=(C*x.a+b*x.b+x.worldX)*w,y+=(C*x.c+b*x.d+x.worldY)*w}i[v]=p,i[v+1]=y}else for(var T=o,S=r,A=3*u,M=u<<1;S<a;S+=n){var I=0,Y=0,B=h[c++];for(B+=c;c<B;c++,A+=3,M+=2){var _=m[h[c]],X=l[A]+T[M],V=l[A+1]+T[M+1],F=l[A+2];I+=(X*_.a+V*_.b+_.worldX)*F,Y+=(X*_.c+V*_.d+_.worldY)*F}i[S]=I,i[S+1]=Y}}else{o.length>0&&(l=o);for(var P=e.bone,U=P.worldX,R=P.worldY,D=P.a,E=P.b,L=P.c,N=P.d,O=t,z=r;z<a;O+=2,z+=n){var W=l[O],q=l[O+1];i[z]=W*D+q*E+U,i[z+1]=W*L+q*N+R}}}},{key:"copyTo",value:function(t){this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment}}]),VertexAttachment}();a.nextID=0,e.VertexAttachment=a}(spine||(spine={})),function(e){var t=function(t){_inherits(BoundingBoxAttachment,e.VertexAttachment);var a=_createSuper(BoundingBoxAttachment);function BoundingBoxAttachment(t){var i;return _classCallCheck(this,BoundingBoxAttachment),(i=a.call(this,t)).color=new e.Color(1,1,1,1),i}return _createClass(BoundingBoxAttachment,[{key:"copy",value:function(){var e=new BoundingBoxAttachment(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}}]),BoundingBoxAttachment}();e.BoundingBoxAttachment=t}(spine||(spine={})),function(e){var t=function(t){_inherits(ClippingAttachment,e.VertexAttachment);var a=_createSuper(ClippingAttachment);function ClippingAttachment(t){var i;return _classCallCheck(this,ClippingAttachment),(i=a.call(this,t)).color=new e.Color(.2275,.2275,.8078,1),i}return _createClass(ClippingAttachment,[{key:"copy",value:function(){var e=new ClippingAttachment(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}}]),ClippingAttachment}();e.ClippingAttachment=t}(spine||(spine={})),function(e){var t=function(t){_inherits(MeshAttachment,e.VertexAttachment);var a=_createSuper(MeshAttachment);function MeshAttachment(t){var i;return _classCallCheck(this,MeshAttachment),(i=a.call(this,t)).color=new e.Color(1,1,1,1),i.tempColor=new e.Color(0,0,0,0),i}return _createClass(MeshAttachment,[{key:"updateUVs",value:function(){var t=this.regionUVs;this.uvs&&this.uvs.length==t.length||(this.uvs=e.Utils.newFloatArray(t.length));var a=this.uvs,i=this.uvs.length,r=this.region.u,n=this.region.v,s=0,o=0;if(this.region instanceof e.TextureAtlasRegion){var l=this.region,h=l.page.texture.getImage(),c=h.width,u=h.height;switch(l.degrees){case 90:r-=(l.originalHeight-l.offsetY-l.height)/c,n-=(l.originalWidth-l.offsetX-l.width)/u,s=l.originalHeight/c,o=l.originalWidth/u;for(var d=0;d<i;d+=2)a[d]=r+t[d+1]*s,a[d+1]=n+(1-t[d])*o;return;case 180:r-=(l.originalWidth-l.offsetX-l.width)/c,n-=l.offsetY/u,s=l.originalWidth/c,o=l.originalHeight/u;for(var f=0;f<i;f+=2)a[f]=r+(1-t[f])*s,a[f+1]=n+(1-t[f+1])*o;return;case 270:r-=l.offsetY/c,n-=l.offsetX/u,s=l.originalHeight/c,o=l.originalWidth/u;for(var m=0;m<i;m+=2)a[m]=r+(1-t[m+1])*s,a[m+1]=n+t[m]*o;return}r-=l.offsetX/c,n-=(l.originalHeight-l.offsetY-l.height)/u,s=l.originalWidth/c,o=l.originalHeight/u}else this.region?(s=this.region.u2-r,o=this.region.v2-n):(r=n=0,s=o=1);for(var v=0;v<i;v+=2)a[v]=r+t[v]*s,a[v+1]=n+t[v+1]*o}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}},{key:"copy",value:function(){if(this.parentMesh)return this.newLinkedMesh();var t=new MeshAttachment(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),e.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),e.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),e.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,this.edges&&(t.edges=new Array(this.edges.length),e.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}},{key:"newLinkedMesh",value:function(){var e=new MeshAttachment(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),e.updateUVs(),e}}]),MeshAttachment}();e.MeshAttachment=t}(spine||(spine={})),function(e){var t=function(t){_inherits(PathAttachment,e.VertexAttachment);var a=_createSuper(PathAttachment);function PathAttachment(t){var i;return _classCallCheck(this,PathAttachment),(i=a.call(this,t)).closed=!1,i.constantSpeed=!1,i.color=new e.Color(1,1,1,1),i}return _createClass(PathAttachment,[{key:"copy",value:function(){var t=new PathAttachment(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),e.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}]),PathAttachment}();e.PathAttachment=t}(spine||(spine={})),function(e){var t=function(t){_inherits(PointAttachment,e.VertexAttachment);var a=_createSuper(PointAttachment);function PointAttachment(t){var i;return _classCallCheck(this,PointAttachment),(i=a.call(this,t)).color=new e.Color(.38,.94,0,1),i}return _createClass(PointAttachment,[{key:"computeWorldPosition",value:function(e,t){return t.x=this.x*e.a+this.y*e.b+e.worldX,t.y=this.x*e.c+this.y*e.d+e.worldY,t}},{key:"computeWorldRotation",value:function(t){var a=e.MathUtils.cosDeg(this.rotation),i=e.MathUtils.sinDeg(this.rotation),r=a*t.a+i*t.b,n=a*t.c+i*t.d;return Math.atan2(n,r)*e.MathUtils.radDeg}},{key:"copy",value:function(){var e=new PointAttachment(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}}]),PointAttachment}();e.PointAttachment=t}(spine||(spine={})),function(e){var t=function(t){_inherits(RegionAttachment,e.Attachment);var a=_createSuper(RegionAttachment);function RegionAttachment(t){var i;return _classCallCheck(this,RegionAttachment),(i=a.call(this,t)).x=0,i.y=0,i.scaleX=1,i.scaleY=1,i.rotation=0,i.width=0,i.height=0,i.color=new e.Color(1,1,1,1),i.offset=e.Utils.newFloatArray(8),i.uvs=e.Utils.newFloatArray(8),i.tempColor=new e.Color(1,1,1,1),i}return _createClass(RegionAttachment,[{key:"updateOffset",value:function(){this.region;var e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,a=-this.width/2*this.scaleX+this.region.offsetX*e,i=-this.height/2*this.scaleY+this.region.offsetY*t,r=a+this.region.width*e,n=i+this.region.height*t,s=this.rotation*Math.PI/180,o=Math.cos(s),l=Math.sin(s),h=this.x,c=this.y,u=a*o+h,d=a*l,f=i*o+c,m=i*l,v=r*o+h,g=r*l,p=n*o+c,y=n*l,k=this.offset;k[0]=u-m,k[1]=f+d,k[2]=u-y,k[3]=p+d,k[4]=v-y,k[5]=p+g,k[6]=v-m,k[7]=f+g}},{key:"setRegion",value:function(e){this.region=e;var t=this.uvs;90==e.degrees?(t[2]=e.u,t[3]=e.v2,t[4]=e.u,t[5]=e.v,t[6]=e.u2,t[7]=e.v,t[0]=e.u2,t[1]=e.v2):(t[0]=e.u,t[1]=e.v2,t[2]=e.u,t[3]=e.v,t[4]=e.u2,t[5]=e.v,t[6]=e.u2,t[7]=e.v2)}},{key:"computeWorldVertices",value:function(e,t,a,i){var r=this.offset,n=e.worldX,s=e.worldY,o=e.a,l=e.b,h=e.c,c=e.d,u=0,d=0;u=r[0],d=r[1],t[a]=u*o+d*l+n,t[a+1]=u*h+d*c+s,a+=i,u=r[2],d=r[3],t[a]=u*o+d*l+n,t[a+1]=u*h+d*c+s,a+=i,u=r[4],d=r[5],t[a]=u*o+d*l+n,t[a+1]=u*h+d*c+s,a+=i,u=r[6],d=r[7],t[a]=u*o+d*l+n,t[a+1]=u*h+d*c+s}},{key:"copy",value:function(){var t=new RegionAttachment(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,e.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),e.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t}}]),RegionAttachment}();t.X1=0,t.Y1=1,t.C1R=2,t.C1G=3,t.C1B=4,t.C1A=5,t.U1=6,t.V1=7,t.X2=8,t.Y2=9,t.C2R=10,t.C2G=11,t.C2B=12,t.C2A=13,t.U2=14,t.V2=15,t.X3=16,t.Y3=17,t.C3R=18,t.C3G=19,t.C3B=20,t.C3A=21,t.U3=22,t.V3=23,t.X4=24,t.Y4=25,t.C4R=26,t.C4G=27,t.C4B=28,t.C4A=29,t.U4=30,t.V4=31,e.RegionAttachment=t}(spine||(spine={})),function(e){var t=function(){function JitterEffect(e,t){_classCallCheck(this,JitterEffect),this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}return _createClass(JitterEffect,[{key:"begin",value:function(e){}},{key:"transform",value:function(t,a,i,r){t.x+=e.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=e.MathUtils.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),JitterEffect}();e.JitterEffect=t}(spine||(spine={})),function(e){var t=function(){function SwirlEffect(e){_classCallCheck(this,SwirlEffect),this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=e}return _createClass(SwirlEffect,[{key:"begin",value:function(e){this.worldX=e.x+this.centerX,this.worldY=e.y+this.centerY}},{key:"transform",value:function(t,a,i,r){var n=this.angle*e.MathUtils.degreesToRadians,s=t.x-this.worldX,o=t.y-this.worldY,l=Math.sqrt(s*s+o*o);if(l<this.radius){var h=SwirlEffect.interpolation.apply(0,n,(this.radius-l)/this.radius),c=Math.cos(h),u=Math.sin(h);t.x=c*s-u*o+this.worldX,t.y=u*s+c*o+this.worldY}}},{key:"end",value:function(){}}]),SwirlEffect}();t.interpolation=new e.PowOut(2),e.SwirlEffect=t}(spine||(spine={})),window.spine=spine;